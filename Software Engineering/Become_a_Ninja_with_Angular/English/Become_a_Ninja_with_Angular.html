<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<meta name="author" content="Ninja Squad">
<meta name="copyright" content="Ninja Squad">
<title>Become a ninja with Angular</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Become a ninja with Angular</h1>
<div class="details">
<span id="author" class="author">Ninja Squad</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#intro">1. Introduction</a></li>
<li><a href="#es2015">2. A gentle introduction to ECMAScript&#160;2015+</a>
<ul class="sectlevel2">
<li><a href="#_transpilers">2.1. Transpilers</a></li>
<li><a href="#_let">2.2. let</a></li>
<li><a href="#_constants">2.3. Constants</a></li>
<li><a href="#_shorthands_in_object_creation">2.4. Shorthands in object creation</a></li>
<li><a href="#_destructuring_assignment">2.5. Destructuring assignment</a></li>
<li><a href="#_default_parameters_and_values">2.6. Default parameters and values</a></li>
<li><a href="#_rest_operator">2.7. Rest operator</a></li>
<li><a href="#_classes">2.8. Classes</a></li>
<li><a href="#_promises">2.9. Promises</a></li>
<li><a href="#_arrow_functions">2.10. Arrow functions</a></li>
<li><a href="#_asyncawait">2.11. Async/await</a></li>
<li><a href="#_sets_and_maps">2.12. Sets and Maps</a></li>
<li><a href="#_template_literals">2.13. Template literals</a></li>
<li><a href="#modules">2.14. Modules</a></li>
<li><a href="#_conclusion">2.15. Conclusion</a></li>
</ul>
</li>
<li><a href="#types">3. Going further than ES2015+</a>
<ul class="sectlevel2">
<li><a href="#_dynamic_static_and_optional_types">3.1. Dynamic, static and optional types</a></li>
<li><a href="#_enters_typescript">3.2. Enters TypeScript</a></li>
<li><a href="#_a_practical_example_with_di">3.3. A practical example with DI</a></li>
</ul>
</li>
<li><a href="#typescript">4. Diving into TypeScript</a>
<ul class="sectlevel2">
<li><a href="#_types_as_in_typescript">4.1. Types as in TypeScript</a></li>
<li><a href="#_enums">4.2. Enums</a></li>
<li><a href="#_return_types">4.3. Return types</a></li>
<li><a href="#_interfaces">4.4. Interfaces</a></li>
<li><a href="#_optional_arguments">4.5. Optional arguments</a></li>
<li><a href="#_functions_as_property">4.6. Functions as property</a></li>
<li><a href="#_classes_2">4.7. Classes</a></li>
<li><a href="#_working_with_other_libraries">4.8. Working with other libraries</a></li>
<li><a href="#_decorators">4.9. Decorators</a></li>
</ul>
</li>
<li><a href="#advanced-typescript">5. Advanced TypeScript</a>
<ul class="sectlevel2">
<li><a href="#_readonly">5.1. readonly</a></li>
<li><a href="#_keyof">5.2. keyof</a></li>
<li><a href="#_mapped_type">5.3. Mapped type</a></li>
<li><a href="#_union_types_and_type_guards">5.4. Union types and type guards</a></li>
</ul>
</li>
<li><a href="#web-components">6. The wonderful land of Web Components</a>
<ul class="sectlevel2">
<li><a href="#_a_brave_new_world">6.1. A brave new world</a></li>
<li><a href="#_custom_elements">6.2. Custom elements</a></li>
<li><a href="#_shadow_dom">6.3. Shadow DOM</a></li>
<li><a href="#_template">6.4. Template</a></li>
<li><a href="#_frameworks_on_top_of_web_components">6.5. Frameworks on top of Web Components</a></li>
</ul>
</li>
<li><a href="#philosophy">7. Grasping Angular&#8217;s philosophy</a></li>
<li><a href="#zero-to-something">8. From zero to something</a>
<ul class="sectlevel2">
<li><a href="#_node_js_and_npm">8.1. Node.js and NPM</a></li>
<li><a href="#_angular_cli">8.2. Angular CLI</a></li>
<li><a href="#_application_structure">8.3. Application structure</a></li>
<li><a href="#_our_first_component">8.4. Our first component</a></li>
<li><a href="#_our_first_angular_module">8.5. Our first Angular Module</a></li>
<li><a href="#_bootstrapping_the_app">8.6. Bootstrapping the app</a></li>
</ul>
</li>
<li><a href="#templates">9. The templating syntax</a>
<ul class="sectlevel2">
<li><a href="#_interpolation">9.1. Interpolation</a></li>
<li><a href="#_using_other_components_in_our_templates">9.2. Using other components in our templates</a></li>
<li><a href="#_property_binding">9.3. Property binding</a></li>
<li><a href="#_events">9.4. Events</a></li>
<li><a href="#_expressions_vs_statements">9.5. Expressions vs statements</a></li>
<li><a href="#local-variables">9.6. Local variables</a></li>
<li><a href="#_structural_directives">9.7. Structural directives</a></li>
<li><a href="#_other_template_directives">9.8. Other template directives</a></li>
<li><a href="#_summary">9.9. Summary</a></li>
</ul>
</li>
<li><a href="#building-components">10. Building components and directives</a>
<ul class="sectlevel2">
<li><a href="#_introduction">10.1. Introduction</a></li>
<li><a href="#_directives">10.2. Directives</a></li>
<li><a href="#_components">10.3. Components</a></li>
</ul>
</li>
<li><a href="#styles">11. Styling components and encapsulation</a>
<ul class="sectlevel2">
<li><a href="#_shadow_dom_strategy">11.1. Shadow DOM strategy</a></li>
<li><a href="#_emulated_strategy">11.2. Emulated strategy</a></li>
<li><a href="#_none_strategy">11.3. None strategy</a></li>
<li><a href="#_styling_the_host">11.4. Styling the host</a></li>
</ul>
</li>
<li><a href="#pipes">12. Pipes</a>
<ul class="sectlevel2">
<li><a href="#_pied_piper">12.1. Pied piper</a></li>
<li><a href="#_json">12.2. json</a></li>
<li><a href="#_slice">12.3. slice</a></li>
<li><a href="#_keyvalue">12.4. keyvalue</a></li>
<li><a href="#_uppercase">12.5. uppercase</a></li>
<li><a href="#_lowercase">12.6. lowercase</a></li>
<li><a href="#_titlecase">12.7. titlecase</a></li>
<li><a href="#_number">12.8. number</a></li>
<li><a href="#_percent">12.9. percent</a></li>
<li><a href="#_currency">12.10. currency</a></li>
<li><a href="#_date">12.11. date</a></li>
<li><a href="#_async">12.12. async</a></li>
<li><a href="#_a_pipe_in_your_code">12.13. A pipe in your code</a></li>
<li><a href="#_creating_your_own_pipes">12.14. Creating your own pipes</a></li>
</ul>
</li>
<li><a href="#dependency-injection">13. Dependency injection</a>
<ul class="sectlevel2">
<li><a href="#_di_yourself">13.1. DI yourself</a></li>
<li><a href="#_easy_to_develop">13.2. Easy to develop</a></li>
<li><a href="#_easy_to_configure">13.3. Easy to configure</a></li>
<li><a href="#_other_types_of_provider">13.4. Other types of provider</a></li>
<li><a href="#_hierarchical_injectors">13.5. Hierarchical injectors</a></li>
<li><a href="#_di_without_types">13.6. DI without types</a></li>
<li><a href="#_inject">13.7. <code>inject()</code></a></li>
</ul>
</li>
<li><a href="#services">14. Services</a>
<ul class="sectlevel2">
<li><a href="#_title_service">14.1. Title service</a></li>
<li><a href="#_meta_service">14.2. Meta service</a></li>
<li><a href="#_making_your_own_service">14.3. Making your own service</a></li>
</ul>
</li>
<li><a href="#reactive-programming">15. Reactive Programming</a>
<ul class="sectlevel2">
<li><a href="#_call_me_maybe">15.1. Call me maybe</a></li>
<li><a href="#_general_principles">15.2. General principles</a></li>
<li><a href="#_rxjs">15.3. RxJS</a></li>
<li><a href="#_reactive_programming_in_angular">15.4. Reactive programming in Angular</a></li>
</ul>
</li>
<li><a href="#tests">16. Testing your app</a>
<ul class="sectlevel2">
<li><a href="#_the_problem_with_troubleshooting_is_that_trouble_shoots_back">16.1. The problem with troubleshooting is that trouble shoots back</a></li>
<li><a href="#_unit_test">16.2. Unit test</a></li>
<li><a href="#_fake_dependencies">16.3. Fake dependencies</a></li>
<li><a href="#_testing_components">16.4. Testing components</a></li>
<li><a href="#_testing_with_fake_templates_providers">16.5. Testing with fake templates, providers&#8230;</a></li>
<li><a href="#_simpler_cleaner_unit_tests_with_ngx_speculoos">16.6. Simpler, cleaner unit tests with <code>ngx-speculoos</code></a></li>
<li><a href="#_end_to_end_tests_e2e">16.7. End-to-end tests (e2e)</a></li>
</ul>
</li>
<li><a href="#http">17. Send and receive data through HTTP</a>
<ul class="sectlevel2">
<li><a href="#_getting_data">17.1. Getting data</a></li>
<li><a href="#_transforming_data">17.2. Transforming data</a></li>
<li><a href="#_advanced_options">17.3. Advanced options</a></li>
<li><a href="#_jsonp">17.4. Jsonp</a></li>
<li><a href="#_interceptors">17.5. Interceptors</a></li>
<li><a href="#_context">17.6. Context</a></li>
<li><a href="#_tests">17.7. Tests</a></li>
</ul>
</li>
<li><a href="#router">18. Router</a>
<ul class="sectlevel2">
<li><a href="#_en_route">18.1. En route</a></li>
<li><a href="#_navigation">18.2. Navigation</a></li>
<li><a href="#_redirects">18.3. Redirects</a></li>
<li><a href="#_matching_strategy">18.4. Matching strategy</a></li>
<li><a href="#_hierarchical_and_empty_path_routes">18.5. Hierarchical and empty-path routes</a></li>
<li><a href="#_guards">18.6. Guards</a></li>
<li><a href="#_resolvers">18.7. Resolvers</a></li>
<li><a href="#_router_events">18.8. Router events</a></li>
<li><a href="#_parameters_and_data">18.9. Parameters and data</a></li>
<li><a href="#_lazy_loading">18.10. Lazy loading</a></li>
</ul>
</li>
<li><a href="#forms">19. Forms</a>
<ul class="sectlevel2">
<li><a href="#_forms_dear_forms">19.1. Forms, dear forms</a></li>
<li><a href="#_template_driven">19.2. Template-driven</a></li>
<li><a href="#_code_driven">19.3. Code-driven</a></li>
<li><a href="#_adding_some_validation">19.4. Adding some validation</a></li>
<li><a href="#_errors_and_submission">19.5. Errors and submission</a></li>
<li><a href="#_add_some_style">19.6. Add some style</a></li>
<li><a href="#_creating_a_custom_validator">19.7. Creating a custom validator</a></li>
<li><a href="#_grouping_fields">19.8. Grouping fields</a></li>
<li><a href="#_reacting_to_changes">19.9. Reacting to changes</a></li>
<li><a href="#_updating_on_blur_or_on_submit_only">19.10. Updating on blur or on submit only</a></li>
<li><a href="#_formarray_and_formrecord">19.11. <code>FormArray</code> and <code>FormRecord</code></a></li>
<li><a href="#_strictly_typed_forms">19.12. Strictly typed forms</a></li>
<li><a href="#_super_simple_validation_error_messages_with_ngx_valdemort">19.13. Super simple validation error messages with <code>ngx-valdemort</code></a></li>
<li><a href="#_going_further_define_custom_form_inputs_with_controlvalueaccessor">19.14. Going further: define custom form inputs with <code>ControlValueAccessor</code></a></li>
<li><a href="#_summary_2">19.15. Summary</a></li>
</ul>
</li>
<li><a href="#zones">20. Zones and the Angular magic</a>
<ul class="sectlevel2">
<li><a href="#_angularjs1_x_and_the_digest_cycle">20.1. AngularJS&#160;1.x and the digest cycle</a></li>
<li><a href="#_angular_and_zones">20.2. Angular and zones</a></li>
</ul>
</li>
<li><a href="#aot-compiler">21. Angular compilation: Just in Time vs Ahead of Time</a>
<ul class="sectlevel2">
<li><a href="#_code_generation">21.1. Code generation</a></li>
<li><a href="#_ahead_of_time_compilation">21.2. Ahead of Time compilation</a></li>
</ul>
</li>
<li><a href="#advanced-observables">22. Advanced observables</a>
<ul class="sectlevel2">
<li><a href="#_subscribe_unsubscribe_and_async_pipe">22.1. Subscribe, unsubscribe and async pipe</a></li>
<li><a href="#_leveraging_operators">22.2. Leveraging operators</a></li>
<li><a href="#_building_your_own_observable">22.3. Building your own Observable</a></li>
<li><a href="#_managing_state_with_stores_ngrx_ngxs_akita_and_friends">22.4. Managing state with stores (NgRx, NGXS, Akita and friends)</a></li>
<li><a href="#_conclusion_2">22.5. Conclusion</a></li>
</ul>
</li>
<li><a href="#advanced-components">23. Advanced components and directives</a>
<ul class="sectlevel2">
<li><a href="#_view_queries">23.1. View queries</a></li>
<li><a href="#_content">23.2. Content</a></li>
<li><a href="#_content_queries">23.3. Content queries</a></li>
<li><a href="#_conditional_and_contextual_content_projection_ng_template_and_ngtemplateoutlet">23.4. Conditional and contextual content projection: <code>ng-template</code> and <code>ngTemplateOutlet</code></a></li>
<li><a href="#_host_listener">23.5. Host listener</a></li>
<li><a href="#_host_binding">23.6. Host binding</a></li>
</ul>
</li>
<li><a href="#standalone-components">24. Standalone components</a>
<ul class="sectlevel2">
<li><a href="#_all_by_myself">24.1. All by myself</a></li>
<li><a href="#_usage_in_existing_applications">24.2. Usage in existing applications</a></li>
<li><a href="#_cli_support">24.3. CLI support</a></li>
<li><a href="#_application_bootstrap">24.4. Application bootstrap</a></li>
<li><a href="#_optional_ngmodules">24.5. Optional NgModules</a></li>
<li><a href="#_providers">24.6. Providers</a></li>
<li><a href="#_http_with_providehttpclient">24.7. HTTP with <code>provideHttpClient</code></a></li>
<li><a href="#_router_with_providerouter">24.8. Router with <code>provideRouter</code></a></li>
<li><a href="#_lazy_loading_routes">24.9. Lazy loading routes</a></li>
<li><a href="#_initialization">24.10. Initialization</a></li>
<li><a href="#_caveats">24.11. Caveats</a></li>
<li><a href="#_summary_3">24.12. Summary</a></li>
</ul>
</li>
<li><a href="#internationalization">25. Internationalization</a>
<ul class="sectlevel2">
<li><a href="#_the_locale">25.1. The locale</a></li>
<li><a href="#_default_currency">25.2. Default currency</a></li>
<li><a href="#_translating_text">25.3. Translating text</a></li>
<li><a href="#_process_and_tooling">25.4. Process and tooling</a></li>
<li><a href="#_translating_messages_in_the_code">25.5. Translating messages in the code</a></li>
<li><a href="#_pluralization">25.6. Pluralization</a></li>
<li><a href="#_best_practices">25.7. Best practices</a></li>
</ul>
</li>
<li><a href="#performances">26. Performances</a>
<ul class="sectlevel2">
<li><a href="#_first_load">26.1. First load</a></li>
<li><a href="#_reload">26.2. Reload</a></li>
<li><a href="#_profiling">26.3. Profiling</a></li>
<li><a href="#_runtime_performances">26.4. Runtime performances</a></li>
<li><a href="#_ngzone">26.5. NgZone</a></li>
</ul>
</li>
<li><a href="#going-to-production">27. Going to production</a>
<ul class="sectlevel2">
<li><a href="#_environments_and_configurations">27.1. Environments and configurations</a></li>
<li><a href="#_stricttemplates">27.2. strictTemplates</a></li>
<li><a href="#_package_your_application">27.3. Package your application</a></li>
<li><a href="#_server_configuration">27.4. Server configuration</a></li>
<li><a href="#_conclusion_4">27.5. Conclusion</a></li>
</ul>
</li>
<li><a href="#ending">28. This is the end</a></li>
<li><a href="#changelog">Appendix A: Changelog</a>
<ul class="sectlevel2">
<li><a href="#_v15_1_0_2023_01_11">A.1. v15.1.0 - 2023-01-11</a></li>
<li><a href="#_v15_0_0_2022_11_16">A.2. v15.0.0 - 2022-11-16</a></li>
<li><a href="#_v14_2_0_2022_08_26">A.3. v14.2.0 - 2022-08-26</a></li>
<li><a href="#_v14_1_0_2022_07_21">A.4. v14.1.0 - 2022-07-21</a></li>
<li><a href="#_v14_0_0_2022_06_03">A.5. v14.0.0 - 2022-06-03</a></li>
<li><a href="#_v13_3_0_2022_03_16">A.6. v13.3.0 - 2022-03-16</a></li>
<li><a href="#_v13_2_0_2022_01_27">A.7. v13.2.0 - 2022-01-27</a></li>
<li><a href="#_v13_1_0_2021_12_10">A.8. v13.1.0 - 2021-12-10</a></li>
<li><a href="#_v13_0_0_2021_11_04">A.9. v13.0.0 - 2021-11-04</a></li>
<li><a href="#_v12_2_0_2021_08_05">A.10. v12.2.0 - 2021-08-05</a></li>
<li><a href="#_v12_1_0_2021_06_25">A.11. v12.1.0 - 2021-06-25</a></li>
<li><a href="#_v12_0_0_2021_05_13">A.12. v12.0.0 - 2021-05-13</a></li>
<li><a href="#_v11_2_0_2021_02_12">A.13. v11.2.0 - 2021-02-12</a></li>
<li><a href="#_v11_1_0_2021_01_21">A.14. v11.1.0 - 2021-01-21</a></li>
<li><a href="#_v11_0_0_2020_11_12">A.15. v11.0.0 - 2020-11-12</a></li>
<li><a href="#_v10_2_0_2020_10_22">A.16. v10.2.0 - 2020-10-22</a></li>
<li><a href="#_v10_1_0_2020_09_03">A.17. v10.1.0 - 2020-09-03</a></li>
<li><a href="#_v10_0_0_2020_06_25">A.18. v10.0.0 - 2020-06-25</a></li>
<li><a href="#_v9_1_0_2020_03_26">A.19. v9.1.0 - 2020-03-26</a></li>
<li><a href="#_v9_0_0_2020_02_07">A.20. v9.0.0 - 2020-02-07</a></li>
<li><a href="#_v8_2_0_2019_08_01">A.21. v8.2.0 - 2019-08-01</a></li>
<li><a href="#_v8_1_0_2019_07_02">A.22. v8.1.0 - 2019-07-02</a></li>
<li><a href="#_v8_0_0_2019_05_29">A.23. v8.0.0 - 2019-05-29</a></li>
<li><a href="#_v7_2_0_2019_01_09">A.24. v7.2.0 - 2019-01-09</a></li>
<li><a href="#_v7_1_0_2018_11_27">A.25. v7.1.0 - 2018-11-27</a></li>
<li><a href="#_v7_0_0_2018_10_25">A.26. v7.0.0 - 2018-10-25</a></li>
<li><a href="#_v6_1_0_2018_07_26">A.27. v6.1.0 - 2018-07-26</a></li>
<li><a href="#_v6_0_0_2018_05_04">A.28. v6.0.0 - 2018-05-04</a></li>
<li><a href="#_v5_2_0_2018_01_10">A.29. v5.2.0 - 2018-01-10</a></li>
<li><a href="#_v5_0_0_2017_11_02">A.30. v5.0.0 - 2017-11-02</a></li>
<li><a href="#_v4_3_0_2017_07_16">A.31. v4.3.0 - 2017-07-16</a></li>
<li><a href="#_v4_2_0_2017_06_09">A.32. v4.2.0 - 2017-06-09</a></li>
<li><a href="#_v4_0_0_2017_03_24">A.33. v4.0.0 - 2017-03-24</a></li>
<li><a href="#_v2_4_4_2017_01_25">A.34. v2.4.4 - 2017-01-25</a></li>
<li><a href="#_v2_2_0_2016_11_18">A.35. v2.2.0 - 2016-11-18</a></li>
<li><a href="#_v2_0_0_2016_09_15">A.36. v2.0.0 - 2016-09-15</a></li>
<li><a href="#_v2_0_0_rc_5_2016_08_25">A.37. v2.0.0-rc.5 - 2016-08-25</a></li>
<li><a href="#_v2_0_0_rc_0_2016_05_06">A.38. v2.0.0-rc.0 - 2016-05-06</a></li>
<li><a href="#_v2_0_0_alpha_47_2016_01_15">A.39. v2.0.0-alpha.47 - 2016-01-15</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="intro">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>So you want to be a ninja, huh?
Well, you&#8217;re in good hands!</p>
</div>
<div class="paragraph">
<p>But we have a long road, you and me,
with lots of things to learn :).</p>
</div>
<div class="paragraph">
<p>We&#8217;re living exciting times in Web development.
There is a new Angular. A complete rewrite of the good old AngularJS.
Why a complete rewrite? Was AngularJS&#160;1.x not enough?</p>
</div>
<div class="paragraph">
<p>I like the old AngularJS very much.
In our small company, we have built several projects with it,
contributed code to the core framework,
trained hundreds of developers (yes, really),
and even written a book about it (in French, but that still counts).</p>
</div>
<div class="paragraph">
<p>AngularJS is incredibly productive once you have mastered it.
Despite all of this, it doesn&#8217;t prevent us from seeing its weaknesses.
AngularJS is not perfect, with some very difficult concepts to grasp, and traps hard to avoid.</p>
</div>
<div class="paragraph">
<p>Most of all, the Web has changed since AngularJS was conceived.
JavaScript has changed.
New frameworks have emerged, with great ideas, or better implementation.
We are not the kind of developers to tell you that you should use this tool instead of that one.
We just happen to know some tools very well, and know what fits the project.
AngularJS was one of those tools, allowing us to build well-tested web applications,
and to build them fast.
We also tried to bend it where it didn&#8217;t fit. Don&#8217;t blame us, it happens to the best of us.</p>
</div>
<div class="paragraph">
<p>Angular has a lot of interesting points, and a vision that few other frameworks have.
It has been designed for the Web of tomorrow, with ECMAScript&#160;6, Web Components and Mobile in mind.
When it was first announced, I was, like many, sad at first
that the 2.0 version would not be a simple update (I&#8217;m sorry if you&#8217;re just learning about it).</p>
</div>
<div class="paragraph">
<p>But I was also eager to see what solution the talented Google team would come up with.</p>
</div>
<div class="paragraph">
<p>So I started to write this ebook, pretty much after the first commits,
reading the design docs, watching the conference videos, reviewing every commit since the beginning.
When I wrote my first ebook, about AngularJS&#160;1.x, it was already a stable and known beast.
This one is very different.
It started when Angular was not even clear in the minds of its designers.
Because I knew I would learn a lot, not only about Angular
but also about the concepts that would shape the future of Web development,
some of which have nothing to do with Angular.
And I did. I had to dig deep about some of these concepts,
and I hope that you will enjoy the journey of learning about them, and how they relate to Angular, as much as I did.</p>
</div>
<div class="paragraph">
<p>The ambition of this ebook is to evolve with Angular.
If it turns out that Angular is the great framework we hope,
you will receive updates with the best practices and some new features as they emerge
(and with fewer typos, because, despite our countless reviews, there are probably some left&#8230;&#8203;).
And I would love to hear back from you - if some chapters aren&#8217;t clear enough,
if you spot a mistake or if you have a better way for some parts.</p>
</div>
<div class="paragraph">
<p>I&#8217;m fairly confident about the code samples, though,
as they are all in a real project, with several hundred unit tests.
It was the only way to write an ebook with a newborn framework,
and to be able to catch all the problems that inevitably arose with each release.</p>
</div>
<div class="paragraph">
<p>Even if you are not convinced by Angular in the end,
I&#8217;m pretty sure you will have learnt a thing or two along your read.</p>
</div>
<div class="paragraph">
<p>If you have bought the "Pro package" (thank you!), you&#8217;ll build a small application piece by piece along the book.
This application is called <strong>PonyRacer</strong>, and it is a website where you can bet on pony races.
You can even test the application <a href="https://ng-ponyracer.ninja-squad.com">here</a>!
Go on, I&#8217;ll wait for you.</p>
</div>
<div class="paragraph">
<p>Fun, isn&#8217;t it?</p>
</div>
<div class="paragraph">
<p>But it&#8217;s not just a fun application, it&#8217;s a complete one.
You&#8217;ll have to write components, forms, tests, use the router, call an HTTP API (that we have already built)
and even do Web Sockets.
It has all the pieces you&#8217;ll need for writing a real app.
Each exercise will come with a skeleton, a set of instructions and a few tests.
Once you have all the tests in success, you have completed the exercise!</p>
</div>
<div class="paragraph">
<p>The first 6 exercises of the Pro Pack are free.
The other ones are only accessible if you buy our online training.
At the end of every chapter,
we will link to the exercises of the Pro Pack that are related to the features explained in the chapter,
mark the free ones with the following label:
<span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Free" width="18"></span>
, and mark the other ones with the following label:
<span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco0APWP0jRywpmrWwBGIJnuEBsAKERityoCDQrOzZOvjIm5KSJ0ktsBJhS0zOzAAYocikRCis7N0++IhaknFwEsERGCVCe5Vn+SE7GpK2yuk6+EtZIKdcCWBd0d/2GjZu8JABKFLmcaMjGOIjeHHZTGluA4eC91XtuU2oG6C+4GhOWHCXarvWOMTKGt0hjZ/hvgF3ec/cepfY6+SQVEQgqq7Xet5082H/g4MFDh4/g6LHj9RMnTwGnpeeMUlNAv8MxYSnSxtn5c+cvaHbxkmaXgTXSuKKuzgIuxuSaaJG/ru1uAJLdVOoW37S7MWG372iru9gifffUfWD43Lkxd2PCHtiTPMQj6dukrgIwf+7sdmdjwh5riyfmaNhTvpvL2nhGkXou2r3Q3YC10uC7eQm80uysszFhr3WnC8CaMAi39a52kSQmOrx5q9tdBmQzyIwfhJ1zNibsdkeSV9iyQpB30fa1OSb247mLRysE2eFyTDjJ+/aj2WkJwihaVcHsjf3wUak92z5J9rkjyLOz9bqeq58YczAm7I0OfVG+e59386Cpr3y+nZ65GRPxTQe+Kx9HMROvfviD1mnf+M9izaq5caQLw999qOpTsIZHJ1YW3MuMvt/9AUPLzCANymH0Tpg50TIz8/6ydTudmhNXv5Za1lY/14EnfU6/fbqdbCZpsCLFgBgP30sq4v8zk94qkT6xRz9V87TjDAgtN/Ef+NJ1qTw62wcPigwVRYVhqkL26rNCBw/ao2+Ju1J5dDgjo9xjjMaFZIIYipJzVgDeOrqn8cj9oieNx2F5r3uHeVwlmlCtqmFySkBueumlt3pEmbvSeDiS6ZlrDUIUiAqzpGO2KOJ4K7WHS3N989Ji4eoiEflCMk56LooY7j+W0sPLU4WhxTn+Nw8TYCLG475Ufao8GMGSClXEsqjJXSk9HJcOslLJMuxBqyKOnpseNSnPjVqPfqnRHxAmEAm4/6XEKo3tlf1CVays+KtUZm19jQAiET1Ja1TxeIz0bGxube9sbpiLcN5KtCht0uNV0rMbRe++934UfWAuwrk/wVjbJD3CU6Tlwyj66L333oui6MMU+5cT69GlAkTPx2WFT977JIqiXdLQn4kI27hPE+DTaJ9PtSmvxpUEQok2TI7iRT6jGksy7BuI4BfdS4SQpVF8Tgpd+F6h4SWxz1IKkWbpUThFkA8jxRdfkg4lUAyUkuQrc5EWR5KnGnygRL4mQFCpjl9WEorVcVORxg6WqIj1b8oa335HmFl/vHhFJvG+iG8q0sobBPP9d9//QAjNeBJoa2PaIAaAs3iCVs1EOnmDZCjiG4o0HuIJkp1IMTAUuZUdddmw1xrLZCbS5UhyecqOK+pOiETwzpV4jz1NGTEhPeDghqNdIV0mM2qR4kU8HeDCcEKX6mZ23A94kaqAhakinKTsCIpABBaGc+kUZcZyMpEWR0uYpwxAoxuMMg1eFiZ8TuHozxgLJpprnYMJM+gT8GgBDn9EiTJj+KAJ7FTAZMaHIBY55GAyPgZ9oRjXiBx2YjDv16en4x5yqCgEXhDAY2SIi+upon5Frg1eEIBHZpTYKoIp9qLMfM0LRJa1ORU6ZeJmNpn5IEN+/CmKfna0TFNyJj12EUAzm1/JfLB3f4nK/FpnlJwqORVcAvjsAwV9uv8WSX6qbwO7BadCgRArUuQrqiHyYyT5vR6RydBRuIQoqsJIQGn+kCJ/phY5pVZDEtaM1n5SgGb96+9//uAeHLb4udxkXpNgj3mJdlk/8yCzPOMip3Ke6oFXS7nJyVOqItOXvKSbbK8uChxoEOIaHO/V0CiI/VXiIjjRsEj3Yw4g3gOgu3rHwDTaWg9l5EGaZ9UYCtc0bpQTbkvz/4GN51Jy4u8SgI7mRr7vu5qbq7/xsW4yAL1ommgoGh1GWEIaAPDGm1gDrGWBTMEXLMihw/gpI/1siz/AwxqQjjoGOfSOB2gFGuyVSXEqvQinTa/RgiWqQ2g6AxFg0tYJDTS5XKhLBJt0yPSKpSl9u9b4oaz1DiX8D/PG9PeOWj+1+ZBajK7/QXCUeKfMRSA3trS0gM6IjxLXTCRjWD1DqyI8SvI2RXiUPGZThEeJd8qmCI8S16YIj5LQjohmwsvbFOFRUrIpwqPEsyrCo8S1KcKj5FULIvrbYrdNER4lJZsiPEo8OyKaKHFtivAouWRThEeJ021ThEdJzqYIj5KCHRFNlDxtU4RHySWbIo0Oo9uKiCZKcjZFeJQU7IhoouTphCL/Alq7hNcCRv2nAAAAAElFTkSuQmCC" alt="Pro" width="18"></span>.</p>
</div>
<div class="paragraph">
<p>If you did not buy the "Pro package" (but really you should), don&#8217;t worry:
you&#8217;ll learn everything that&#8217;s needed.
But you will not build this awesome application with beautiful ponies in pixel art.
Your loss :)!</p>
</div>
<div class="paragraph">
<p>You will quickly see that, beyond Angular itself, we have tried to explain the core concepts the framework uses.
The first chapters don&#8217;t even talk about Angular:
they are what I call the "Concept Chapters",
here to help you level up with the new and exciting things happening in our field.</p>
</div>
<div class="paragraph">
<p>Then we will slowly build our knowledge of the framework, with components, templates, pipes, forms, http, routing, tests&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>And finally we will learn about the advanced topics.
But that&#8217;s another story.</p>
</div>
<div class="paragraph">
<p>Enough with the introduction,
let&#8217;s start with one of the things that will definitely change the way we code: ECMAScript&#160;6.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The ebook is using Angular version 15.1.0 for the examples.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Angular and versioning</div>
<div class="paragraph">
<p>This book used to be named "Become a Ninja with Angular&#160;2".
Because, originally, Google named its framework Angular&#160;2.
But in October 2016, they reviewed their versioning and release policy.</p>
</div>
<div class="paragraph">
<p>We now have a major release every six months.
And the framework should be called just Angular.</p>
</div>
<div class="paragraph">
<p>Dont worry, these releases are not a complete rewrite with no backward compatibility like Angular 2 was to AngularJS&#160;1.x.</p>
</div>
<div class="paragraph">
<p>As this ebook is updated (for free) with all the future major releases,
it is now named "Become a Ninja with Angular" (without any number).</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="es2015">2. A gentle introduction to ECMAScript&#160;2015+</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you&#8217;re reading this, we can be pretty sure you have heard of JavaScript.
What we call JS is one implementation of a standard specification, called ECMAScript.
The spec version you know the most about is version 5, that has been used these last years.</p>
</div>
<div class="paragraph">
<p>But, in 2015, a new version of the spec was released,
called ECMAScript&#160;2015, ES2015, or sometimes ES6,
as it was the sixth version of the specification.
And since then, we have had a yearly release of the specification (ES2016, ES2017, etc.),
with a few new features every year.
From now on, I&#8217;ll mainly say ES2015, as it is the most popular way to reference it,
or ES2015+ to reference ES2015, ES2016, ES2017, etc.
It adds A LOT of things to JavaScript, like classes, constants, arrow functions, generators&#8230;&#8203;
It has so much stuff that we can&#8217;t go through all of it, as it would take the whole book.
But Angular has been designed to take advantage of the brand new version of JavaScript.
And, even if you can still use your old JavaScript, things will be more awesome if you use ES2015+.
So we&#8217;re going to spend some time in this chapter to get a grip on what ES2015+ is,
and what will be useful to us when building an Angular app.</p>
</div>
<div class="paragraph">
<p>That means we&#8217;re going to leave a lot of stuff aside, and we won&#8217;t be exhaustive on the rest,
but it will be a great starting point. If you already know ES2015+, you can skip these pages.
And if you don&#8217;t, you will learn some pretty amazing things that will be useful to you even
if you end up not using Angular in the future!</p>
</div>
<div class="sect2">
<h3 id="_transpilers">2.1. Transpilers</h3>
<div class="paragraph">
<p>The sixth version of the specification reached its final state in 2015.
So it&#8217;s now supported by modern browsers,
but there are still browsers in the wild that don&#8217;t support it yet,
or only support it partially.
And of course, now that we have a new specification every year (ES2016, ES2017, etc.),
some browsers will always be late.
You might be thinking: what&#8217;s the point of all this, if I need to be careful on what I can use?
And you&#8217;d be right, because there aren&#8217;t that many apps that can afford to ignore older browsers.
But, since virtually every JS developer who has tried ES2015+ wants to write ES2015+ apps,
the community has found a solution: a transpiler.</p>
</div>
<div class="paragraph">
<p>A transpiler takes ES2015+ source code and generates ES5 code that can run in every browser.
It even generates the source map files, which allows you to debug directly the ES2015+ source code from the browser.
Back in 2015, there were two main alternatives to transpile ES2015+ code:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/google/traceur-compiler">Traceur</a>, a Google project, historically the first one but now unmaintained.</p>
</li>
<li>
<p><a href="https://babeljs.io/">Babeljs</a>, a project started by a young developer, Sebastian McKenzie (17 years old at the time, yeah,
that hurts me too), with a lot of diverse contributions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The source code of Angular itself was at first transpiled with Traceur, before switching to TypeScript.
TypeScript is an open source language developed by Microsoft.
It&#8217;s a typed superset of JavaScript that compiles to plain JavaScript, but we&#8217;ll dive into it very soon.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s be honest: Babel has waaaay more steam than Traceur nowadays, so I would advise you to use it.
It is now the de-facto standard in this area.</p>
</div>
<div class="paragraph">
<p>So if you want to play with ES2015+, or set it up in one of your projects,
take a look at these transpilers, and add a build step to your process.
It will take your ES2015+ source files and generate the equivalent ES5 code.
It works very well but, of course, some of the new features are quite hard or impossible to transform in ES5,
as they just did not exist.
However, the current state is largely good enough for us to use without worrying,
so let&#8217;s have a look at all these shiny new things we can do in JavaScript!</p>
</div>
</div>
<div class="sect2">
<h3 id="_let">2.2. let</h3>
<div class="paragraph">
<p>If you have been writing JS for some time, you know that the <code>var</code> declaration is tricky.
In pretty much any other language, a variable is declared where the declaration is done.
But in JS, there is a concept, called "hoisting", which actually declares a variable at the top of the function,
even if you declared it later.</p>
</div>
<div class="paragraph">
<p>So declaring a variable like <code>name</code> in the <code>if</code> block:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getPonyFullName(pony) {
  if (pony.isChampion) {
    var name = 'Champion ' + pony.name;
    return name;
  }
  return pony.name;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>is equivalent to declaring it at the top of the function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getPonyFullName(pony) {
  var name;
  if (pony.isChampion) {
    name = 'Champion ' + pony.name;
    return name;
  }
  // name is still accessible here
  return pony.name;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>ES2015 introduces a new keyword for variable declaration, <code>let</code>, behaving much more like what you would expect:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getPonyFullName(pony) {
  if (pony.isChampion) {
    let name = 'Champion ' + pony.name;
    return name;
  }
  // name is not accessible here
  return pony.name;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The variable <code>name</code> is now restricted to its block.
<code>let</code> has been introduced to replace <code>var</code> in the long run,
so you can pretty much drop the good old <code>var</code> keyword and start using <code>let</code> instead.
The cool thing is, it should be painless to use <code>let</code>,
and if you can&#8217;t, you have probably spotted something wrong with your code!</p>
</div>
</div>
<div class="sect2">
<h3 id="_constants">2.3. Constants</h3>
<div class="paragraph">
<p>Since we are on the topic of new keywords and variables,
there is another one that can be of interest.
ES2015 introduces <code>const</code> to declare&#8230;&#8203; constants!
When you declare a variable with <code>const</code>, it has to be initialized and you can&#8217;t assign another value later.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const poniesInRace = 6;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">poniesInRace = 7; // SyntaxError</code></pre>
</div>
</div>
<div class="paragraph">
<p>As for variables declared with <code>let</code>, constants are not hoisted and are only declared at the block level.</p>
</div>
<div class="paragraph">
<p>One small thing might surprise you:
you can initialize a constant with an object and later modify the object content.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const PONY = {};
PONY.color = 'blue'; // works</code></pre>
</div>
</div>
<div class="paragraph">
<p>But you can&#8217;t assign another object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const PONY = {};</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">PONY = {color: 'blue'}; // SyntaxError</code></pre>
</div>
</div>
<div class="paragraph">
<p>Same thing with arrays:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const PONIES = [];
PONIES.push({ color: 'blue' }); // works</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">PONIES = []; // SyntaxError</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_shorthands_in_object_creation">2.4. Shorthands in object creation</h3>
<div class="paragraph">
<p>Not a new keyword, but it can also catch your attention when reading ES2015 code.
There is now a shortcut for creating objects,
when the object property you want to create has the same name as the variable used as the value.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function createPony() {
  const name = 'Rainbow Dash';
  const color = 'blue';
  return { name: name, color: color };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>can be simplified to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function createPony() {
  const name = 'Rainbow Dash';
  const color = 'blue';
  return { name, color };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly, when you want to define a method in the object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function createPony() {
  return {
    run: () =&gt; {
      console.log('Run!');
    }
  };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>you can simplify it to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function createPony() {
  return {
    run() {
      console.log('Run!');
    }
  };
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_destructuring_assignment">2.5. Destructuring assignment</h3>
<div class="paragraph">
<p>This new feature can also catch your attention when reading ES2015 code.
There is now a shortcut for assigning variables from objects or arrays.</p>
</div>
<div class="paragraph">
<p>In ES5:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">var httpOptions = { timeout: 2000, isCache: true };
// later
var httpTimeout = httpOptions.timeout;
var httpCache = httpOptions.isCache;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, in ES2015, you can do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const httpOptions = { timeout: 2000, isCache: true };
// later
const { timeout: httpTimeout, isCache: httpCache } = httpOptions;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And you will have the same result.
It can be a little disturbing,
as the key is the property to look for in the object and the value is the variable to assign.
But it works great!
Even better: if the variable you want to assign has the same name as the property,
you can simply write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const httpOptions = { timeout: 2000, isCache: true };
// later
const { timeout, isCache } = httpOptions;
// you now have a variable named 'timeout'
// and one named 'isCache' with correct values</code></pre>
</div>
</div>
<div class="paragraph">
<p>The cool thing is that it also works with nested objects:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const httpOptions = { timeout: 2000, cache: { age: 2 } };
// later
const {
  cache: { age }
} = httpOptions;
// you now have a variable named 'age' with value 2</code></pre>
</div>
</div>
<div class="paragraph">
<p>And the same is possible with arrays:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const timeouts = [1000, 2000, 3000];
// later
const [shortTimeout, mediumTimeout] = timeouts;
// you now have a variable named 'shortTimeout' with value 1000
// and a variable named 'mediumTimeout' with value 2000</code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course it also works for arrays in arrays, or arrays in objects, etc.</p>
</div>
<div class="paragraph">
<p>One interesting use of this can be for multiple return values.
Imagine a function <code>randomPonyInRace</code> that returns a pony and its position in a race.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function randomPonyInRace() {
  const pony = { name: 'Rainbow Dash' };
  const position = 2;
  // ...
  return { pony, position };
}

const { position, pony } = randomPonyInRace();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The new destructuring feature assigns the position returned by the method to the position variable,
and the pony to the pony variable! And if you don&#8217;t care about the position, you can write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function randomPonyInRace() {
  const pony = { name: 'Rainbow Dash' };
  const position = 2;
  // ...
  return { pony, position };
}

const { pony } = randomPonyInRace();</code></pre>
</div>
</div>
<div class="paragraph">
<p>And you will only have the pony!</p>
</div>
</div>
<div class="sect2">
<h3 id="_default_parameters_and_values">2.6. Default parameters and values</h3>
<div class="paragraph">
<p>One of the characteristics of JavaScript is that it allows developers to call a function with any number of arguments:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>if you pass more arguments than the number of the parameters,
the extra arguments are ignored (well, you can still use them with the special <code>arguments</code> variable, to be accurate).</p>
</li>
<li>
<p>if you pass fewer arguments than the number of the parameters,
the missing parameter will be set to <code>undefined</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The last case is the one that is the most relevant to us.
Usually, we pass fewer arguments when the parameters are optional,
like in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getPonies(size, page) {
  size = size || 10;
  page = page || 1;
  // ...
  server.get(size, page);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The optional parameters usually have a default value.
The OR operator will return the right operand if the left one is <code>undefined</code>,
as will be the case if the parameter was not provided (to be completely accurate,
if it is <em>falsy</em>, i.e <code>0</code>, <code>false</code>, <code>""</code>, etc.).
Using this trick, the function <code>getPonies</code> can then be called:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getPonies(20, 2);
getPonies(); // same as getPonies(10, 1);
getPonies(15); // same as getPonies(15, 1);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This worked alright,
but it was not really obvious that the parameters were optional ones with default values,
without reading the function body.
ES2015 introduces a more precise way to have default parameters,
directly in the function definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getPonies(size = 10, page = 1) {
  // ...
  server.get(size, page);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now it is perfectly clear that the <code>size</code> parameter will be <code>10</code> and the <code>page</code> parameter will be <code>1</code> if not provided.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
There is a small difference though, as now <code>0</code> or <code>""</code>
are valid values and will not be replaced by the default one,
as <code>size = size || 10</code> would have done.
It will be more like <code>size = size === undefined ? 10: size;</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The default value can also be a function call:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getPonies(size = defaultSize(), page = 1) {
  // the defaultSize method will be called if size is not provided
  // ...
  server.get(size, page);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>or even other variables, either global variables,
or other parameters of the function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getPonies(size = defaultSize(), page = size - 1) {
  // if page is not provided, it will be set to the value
  // of the size parameter minus one.
  // ...
  server.get(size, page);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This mechanism for parameters can also be applied to values,
for example when using a destructuring assignment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const { timeout = 1000 } = httpOptions;
// you now have a variable named 'timeout',
// with the value of 'httpOptions.timeout' if it exists
// or 1000 if not</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_rest_operator">2.7. Rest operator</h3>
<div class="paragraph">
<p>ES2015 introduces a new syntax to define variable parameters in functions.
As said in the previous part,
you could always pass extra arguments to a function and get them with the special <code>arguments</code> variable.
So you could have done something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function addPonies(ponies) {
  for (var i = 0; i &lt; arguments.length; i++) {
    poniesInRace.push(arguments[i]);
  }
}

addPonies('Rainbow Dash', 'Pinkie Pie');</code></pre>
</div>
</div>
<div class="paragraph">
<p>But I think we can agree that it&#8217;s neither pretty nor obvious:
since the <code>ponies</code> parameter is never used, how do we know that we can pass several ponies?</p>
</div>
<div class="paragraph">
<p>ES2015 gives us a way better syntax, using the rest operator <code>&#8230;&#8203;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function addPonies(...ponies) {
  for (let pony of ponies) {
    poniesInRace.push(pony);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>ponies</code> is now a true array on which we can iterate.
The <code>for &#8230;&#8203; of</code> loop used for iteration is also a new feature in ES2015.
It makes sure that you iterate over the collection values,
and not also over its properties as <code>for &#8230;&#8203; in</code> would do.
Don&#8217;t you think our code is prettier and more obvious now?</p>
</div>
<div class="paragraph">
<p>The rest operator can also work when destructuring data:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const [winner, ...losers] = poniesInRace;
// assuming 'poniesInRace' is an array containing several ponies
// 'winner' will have the first pony,
// and 'losers' will be an array of the other ones</code></pre>
</div>
</div>
<div class="paragraph">
<p>The rest operator is not to be confused with the spread operator which,
I&#8217;ll give you that, looks awfully similar!
But the spread operator is the opposite:
it takes an array and spreads it in variable arguments.
The only examples I have in mind are functions like min or max,
that receive variable arguments, and that you might want to call on an array:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const ponyPrices = [12, 3, 4];
const minPrice = Math.min(...ponyPrices);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_classes">2.8. Classes</h3>
<div class="paragraph">
<p>One of the most emblematic new features,
and one that we will vastly use when writing an Angular app:
ES2015 introduces classes to JavaScript!
You can now easily use classes and inheritance in JavaScript.
You always could, using prototypal inheritance,
but that was not an easy task, especially for beginners.</p>
</div>
<div class="paragraph">
<p>Now it&#8217;s very easy, take a look:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Pony {
  constructor(color) {
    this.color = color;
  }

  toString() {
    return `${this.color} pony`;
    // see that? It is another cool feature of ES2015, called template literals
    // we'll talk about these quickly!
  }
}

const bluePony = new Pony('blue');
console.log(bluePony.toString()); // blue pony</code></pre>
</div>
</div>
<div class="paragraph">
<p>Class declarations, unlike function declarations,
are not hoisted, so you need to declare a class before using it.
You may have noticed the special function <code>constructor</code>.
It is the function being called when we create a new pony, with the <code>new</code> operator.
Here it needs a color, and we create a new Pony instance with the color set to "blue".
A class can also have methods, callable on an instance, as the method <code>toString()</code> here.</p>
</div>
<div class="paragraph">
<p>It can also have static attributes and methods:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Pony {
  static defaultSpeed() {
    return 10;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Static methods can be called only on the class directly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const speed = Pony.defaultSpeed();</code></pre>
</div>
</div>
<div class="paragraph">
<p>A class can have getters and setters,
if you want to hook onto these operations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Pony {
  get color() {
    console.log('get color');
    return this._color;
  }

  set color(newColor) {
    console.log(`set color ${newColor}`);
    this._color = newColor;
  }
}
const pony = new Pony();
pony.color = 'red';
// 'set color red'
console.log(pony.color);
// 'get color'
// 'red'</code></pre>
</div>
</div>
<div class="paragraph">
<p>And, of course, if you have classes,
you also have inheritance out of the box in ES2015.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Animal {
  speed() {
    return 10;
  }
}
class Pony extends Animal {}
const pony = new Pony();
console.log(pony.speed()); // 10, as Pony inherits the parent method</code></pre>
</div>
</div>
<div class="paragraph">
<p>Animal is called the base class,
and Pony the derived class.
As you can see, the derived class has the methods of the base class.
It can also override them:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Animal {
  speed() {
    return 10;
  }
}
class Pony extends Animal {
  speed() {
    return super.speed() + 10;
  }
}
const pony = new Pony();
console.log(pony.speed()); // 20, as Pony overrides the parent method</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, the keyword <code>super</code> allows calling the method of the base class,
with <code>super.speed()</code> for example.</p>
</div>
<div class="paragraph">
<p>The <code>super</code> keyword can also be used in constructors,
to call the base class constructor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Animal {
  constructor(speed) {
    this.speed = speed;
  }
}

class Pony extends Animal {
  constructor(speed, color) {
    super(speed);
    this.color = color;
  }
}

const pony = new Pony(20, 'blue');
console.log(pony.speed); // 20</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_promises">2.9. Promises</h3>
<div class="paragraph">
<p>Promises are not so new, and you might know them or use them already,
as they were a big part of AngularJS&#160;1.x.
But since you will use them a lot in Angular,
and even if you&#8217;re just using JS,
I think it&#8217;s important to make a stop.</p>
</div>
<div class="paragraph">
<p>Promises aim to simplify asynchronous programming.
Our JS code is full of async stuff, like AJAX requests,
and usually we use callbacks to handle the result and the error.
But it can get messy, with callbacks inside callbacks,
and it makes the code hard to read and to maintain.
Promises are much nicer than callbacks, as they flatten the code,
and thus make it easier to understand.
Let&#8217;s consider a simple use case, where we need to fetch a user,
then their rights, then update a menu when we have these.</p>
</div>
<div class="paragraph">
<p>With callbacks:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login, function (user) {
  getRights(user, function (rights) {
    updateMenu(rights);
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, let&#8217;s compare it with promises:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(function (user) {
    return getRights(user);
  })
  .then(function (rights) {
    updateMenu(rights);
  })</code></pre>
</div>
</div>
<div class="paragraph">
<p>I like this version, because it executes as you read it:
I want to fetch a user, then get their rights, then update the menu.</p>
</div>
<div class="paragraph">
<p>As you can see, a promise is a 'thenable' object,
which simply means it has a <code>then</code> method.
This method takes two arguments: one success callback and one reject callback.
The promise has three states:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>pending: while the promise is not done,
for example, our server call is not completed yet.</p>
</li>
<li>
<p>fulfilled: when the promise is completed with success,
for example, the server call returns an OK HTTP status.</p>
</li>
<li>
<p>rejected: when the promise has failed,
for example, the server returns a 404 status.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When the promise is fulfilled, then the success callback is called,
with the result as an argument.
If the promise is rejected, then the reject callback is called,
with a rejected value or an error as the argument.</p>
</div>
<div class="paragraph">
<p>So, how do you create a promise?
Pretty simple, there is a new class called <code>Promise</code>,
whose constructor expects a function with two parameters, <code>resolve</code> and <code>reject</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const getUser = function (login) {
  return new Promise(function (resolve, reject) {
    // async stuff, like fetching users from server, returning a response
    if (response.status === 200) {
      resolve(response.data);
    } else {
      reject('No user');
    }
  });
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you have created the promise, you can register callbacks,
using the <code>then</code> method.
This method can receive two parameters,
the two callbacks you want to call in case of success or in case of failure.
Here we only pass a success callback, ignoring the potential error:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(function (user) {
    console.log(user);
  })</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once the promise is resolved,
the success callback (here simply logging the user on the console) will be called.</p>
</div>
<div class="paragraph">
<p>The cool part is that it flattens the code.
For example, if your resolve callback is also returning a promise, you can write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(function (user) {
    return getRights(user) // getRights is returning a promise
      .then(function (rights) {
        return updateMenu(rights);
      });
  })</code></pre>
</div>
</div>
<div class="paragraph">
<p>but more beautifully:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(function (user) {
    return getRights(user); // getRights is returning a promise
  })
  .then(function (rights) {
    return updateMenu(rights);
  })</code></pre>
</div>
</div>
<div class="paragraph">
<p>Another interesting thing is the error handling,
as you can use one handler per promise, or one for all the chain.</p>
</div>
<div class="paragraph">
<p>One per promise:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(
    function (user) {
      return getRights(user);
    },
    function (error) {
      console.log(error); // will be called if getUser fails
      return Promise.reject(error);
    }
  )
  .then(
    function (rights) {
      return updateMenu(rights);
    },
    function (error) {
      console.log(error); // will be called if getRights fails
      return Promise.reject(error);
    }
  )</code></pre>
</div>
</div>
<div class="paragraph">
<p>One for the chain:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(function (user) {
    return getRights(user);
  })
  .then(function (rights) {
    return updateMenu(rights);
  })
  .catch(function (error) {
    console.log(error); // will be called if getUser or getRights fails
  })</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should seriously look into Promises,
because they are going to be the new way to write APIs,
and every library will use them.
Even the standard ones: the new <a href="https://fetch.spec.whatwg.org/">Fetch API</a> does for example.</p>
</div>
</div>
<div class="sect2">
<h3 id="_arrow_functions">2.10. Arrow functions</h3>
<div class="paragraph">
<p>One thing I like a lot in ES2015 is the new arrow function syntax,
using the 'fat arrow' operator (<code>&#8658;</code>).
It is SO useful for callbacks and anonymous functions!</p>
</div>
<div class="paragraph">
<p>Let&#8217;s take our previous example with promises:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(function (user) {
    return getRights(user); // getRights is returning a promise
  })
  .then(function (rights) {
    return updateMenu(rights);
  })</code></pre>
</div>
</div>
<div class="paragraph">
<p>can be written with arrow functions like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(user =&gt; getRights(user))
  .then(rights =&gt; updateMenu(rights))</code></pre>
</div>
</div>
<div class="paragraph">
<p>How cool is it? THAT cool!</p>
</div>
<div class="paragraph">
<p>Note that the return is also implicit if there is no block:
no need to write <code>user &#8658; return getRights(user)</code>.
But if we did have a block, we would need the explicit return:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(user =&gt; {
    console.log(user);
    return getRights(user);
  })
  .then(rights =&gt; updateMenu(rights))</code></pre>
</div>
</div>
<div class="paragraph">
<p>And it has a special trick, a great power over normal functions:
the <code>this</code> stays lexically bounded,
which means that these functions don&#8217;t have a new <code>this</code> as other functions do.
Let&#8217;s take an example,
where you are iterating over an array with the <code>map</code> function to find the max.</p>
</div>
<div class="paragraph">
<p>In ES5:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">var maxFinder = {
  max: 0,
  find: function (numbers) {
    // let's iterate
    numbers.forEach(function (element) {
      // if the element is greater, set it as the max
      if (element &gt; this.max) {
        this.max = element;
      }
    });
  }
};

maxFinder.find([2, 3, 4]);
// log the result
console.log(maxFinder.max);</code></pre>
</div>
</div>
<div class="paragraph">
<p>You would expect this to work, but it doesn&#8217;t.
If you have a good eye, you may have noticed that the <code>forEach</code> in the <code>find</code> function uses <code>this</code>,
but the <code>this</code> is not bound to an object.
So <code>this.max</code> is not the <code>max</code> of the <code>maxFinder</code> object&#8230;&#8203;
Of course you can fix it easily, using an alias:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">var maxFinder = {
  max: 0,
  find: function (numbers) {
    var self = this;
    numbers.forEach(function (element) {
      if (element &gt; self.max) {
        self.max = element;
      }
    });
  }
};

maxFinder.find([2, 3, 4]);
// log the result
console.log(maxFinder.max);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or binding the <code>this</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">var maxFinder = {
  max: 0,
  find: function (numbers) {
    numbers.forEach(
      function (element) {
        if (element &gt; this.max) {
          this.max = element;
        }
      }.bind(this)
    );
  }
};

maxFinder.find([2, 3, 4]);
// log the result
console.log(maxFinder.max);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or even passing it as a second parameter of the <code>forEach</code> function (as it was designed for):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">var maxFinder = {
  max: 0,
  find: function (numbers) {
    numbers.forEach(function (element) {
      if (element &gt; this.max) {
        this.max = element;
      }
    }, this);
  }
};

maxFinder.find([2, 3, 4]);
// log the result
console.log(maxFinder.max);</code></pre>
</div>
</div>
<div class="paragraph">
<p>But there is now an even more elegant solution with the arrow function syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const maxFinder = {
  max: 0,
  find: function (numbers) {
    numbers.forEach(element =&gt; {
      if (element &gt; this.max) {
        this.max = element;
      }
    });
  }
};

maxFinder.find([2, 3, 4]);
// log the result
console.log(maxFinder.max);</code></pre>
</div>
</div>
<div class="paragraph">
<p>That makes the arrow functions the perfect candidates for anonymous functions in callbacks!</p>
</div>
</div>
<div class="sect2">
<h3 id="_asyncawait">2.11. Async/await</h3>
<div class="paragraph">
<p>We were talking about promises earlier,
and it&#8217;s worth knowing that another keyword
was introduced to handle them more synchronously: <code>await</code>.</p>
</div>
<div class="paragraph">
<p>This is not a feature introduced in ECMAScript&#160;2015 but in ECMAScript&#160;2017,
and to use <code>await</code>,
your function must be marked as <code>async</code>.
When you use the <code>await</code> keyword in front of a Promise,
you pause the execution of your <code>async</code> function,
wait for the Promise to resolve,
and then resume the execution of the <code>async</code> function.
The returned value will be the resolved value.</p>
</div>
<div class="paragraph">
<p>So we can write our previous example using <code>async/await</code> like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">async function getUserRightsAndUpdateMenu() {
  // getUser is a promise
  const user = await getUser(login);
  // getRights is a promise
  const rights = await getRights(user);
  updateMenu(rights);
}
await getUserRightsAndUpdateMenu();</code></pre>
</div>
</div>
<div class="paragraph">
<p>And your code now looks like it is synchronous!
Another cool feature of <code>async/await</code> is that you can use a simple <code>try/catch</code> to handle errors:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">async function getUserRightsAndUpdateMenu() {
  try {
    // getUser is a promise
    const user = await getUser(login);
    // getRights is a promise
    const rights = await getRights(user);
    updateMenu(rights);
  } catch (e) {
    // will be called if getUser, getRights or updateMenu fails
    console.log(e);
  }
}
await getUserRightsAndUpdateMenu();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that async/await is still asynchronous,
although it looks like synchronous.
The function execution is paused and resumed,
but just like with callbacks,
this doesn&#8217;t block the thread:
other JavaScript events can be handled
while the execution is paused.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sets_and_maps">2.12. Sets and Maps</h3>
<div class="paragraph">
<p>This is a short one: you now have proper collections in ES2015.
Yay \o/! We used to have dictionaries filling the role of a map, but we can now use the class <code>Map</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const cedric = { id: 1, name: 'Cedric' };
const users = new Map();
users.set(cedric.id, cedric); // adds a user
console.log(users.has(cedric.id)); // true
console.log(users.size); // 1
users.delete(cedric.id); // removes the user</code></pre>
</div>
</div>
<div class="paragraph">
<p>We also have a class <code>Set</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const cedric = { id: 1, name: 'Cedric' };
const users = new Set();
users.add(cedric); // adds a user
console.log(users.has(cedric)); // true
console.log(users.size); // 1
users.delete(cedric); // removes the user</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can iterate over a collection, with the new syntax <code>for &#8230;&#8203; of</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">for (let user of users) {
  console.log(user.name);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You&#8217;ll see that the <code>for &#8230;&#8203; of</code> syntax is the one the Angular team chose in order to iterate over a collection in a template.</p>
</div>
</div>
<div class="sect2">
<h3 id="_template_literals">2.13. Template literals</h3>
<div class="paragraph">
<p>Composing strings has always been painful in JavaScript,
as we usually have to use concatenation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const fullname = 'Miss ' + firstname + ' ' + lastname;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Template literals are a new small feature,
where you have to use backticks (<code>`</code>) instead of quotes or simple quotes,
and you have a basic templating system, with multiline support:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const fullname = `Miss ${firstname} ${lastname}`;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The multiline support is especially great when your are writing HTML strings,
as we will do for our Angular components:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const template = `&lt;div&gt;
  &lt;h1&gt;Hello&lt;/h1&gt;
&lt;/div&gt;`;</code></pre>
</div>
</div>
<div class="paragraph">
<p>One last feature is the ability to tag them.
You can define a function, and apply it to a template string.
Here <code>askQuestion</code> adds an interrogation point at the end of the string:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const askQuestion = strings =&gt; strings + '?';
const template = askQuestion`Hello there`;</code></pre>
</div>
</div>
<div class="paragraph">
<p>So what&#8217;s the difference with a simple function?
The tag function in fact receives several arguments:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an array of the static parts of the string</p>
</li>
<li>
<p>the values resulting from the evaluation of the expressions</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example if we have a template string
containing expressions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const person1 = 'Cedric';
const person2 = 'Agnes';
const template = `Hello ${person1}! Where is ${person2}?`;</code></pre>
</div>
</div>
<div class="paragraph">
<p>then the tag function will receive the various static and dynamic parts.
Here we have a tag function to uppercase the names of the protagonists:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const uppercaseNames = (strings, ...values) =&gt; {
  // `strings` is an array with the static parts ['Hello ', '! Where is ', '?']
  // `values` is an array with the evaluated expressions ['Cedric', 'Agnes']
  const names = values.map(name =&gt; name.toUpperCase());
  // `names` now has ['CEDRIC', 'AGNES']
  // let's merge the `strings` and `names` arrays
  return strings.map((string, i) =&gt; `${string}${names[i] ? names[i] : ''}`).join('');
};
const result = uppercaseNames`Hello ${person1}! Where is ${person2}?`;
// returns 'Hello CEDRIC! Where is AGNES?'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s now talk about one of the big changes introduced: modules.</p>
</div>
</div>
<div class="sect2">
<h3 id="modules">2.14. Modules</h3>
<div class="paragraph">
<p>A standard way to organize functions in namespaces and to dynamically load code in JS has always been lacking.
Node.js has been one of the leaders in this, with a thriving ecosystem of modules using the CommonJS convention.
On the browser side, there is also the <a href="https://github.com/amdjs/amdjs-api/blob/master/AMD.md">AMD</a>
(Asynchronous Module Definition) API, used by <a href="http://requirejs.org/">RequireJS</a>.
But none of these were a real standard, thus leading to endless discussions on what&#8217;s best.</p>
</div>
<div class="paragraph">
<p>ES2015 aims to create a syntax using the best from both worlds, without caring about the actual implementation.
The Ecma TC39 committee
(which is responsible for evolving ES2015 and authoring the specification of the language)
wanted to have a nice and easy syntax (that&#8217;s arguably CommonJS&#8217;s strong suit),
but to support asynchronous loading (like AMD),
and a few goodies like the possibility to statically analyze the code by tools and support cyclic dependencies nicely.
The new syntax handles how you export and import things to and from modules.</p>
</div>
<div class="paragraph">
<p>This module thing is really important in Angular, as pretty much everything is defined in modules,
which you have to import when you want to use them.
Let&#8217;s say I want to expose a function to bet on a specific pony in a race and a function to start the race.</p>
</div>
<div class="paragraph">
<p>In races.service.js:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export function bet(race, pony) {
  // ...
}
export function start(race) {
  // ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, this is fairly easy:
the new keyword <code>export</code> does a straightforward job and exports the two functions.</p>
</div>
<div class="paragraph">
<p>Now, let&#8217;s say one of our application components needs to call these functions.</p>
</div>
<div class="paragraph">
<p>In another file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { bet, start } from './races.service';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// later
bet(race, pony1);
start(race);</code></pre>
</div>
</div>
<div class="paragraph">
<p>That&#8217;s what is called a <em>named export</em>.
Here we are importing the two functions,
and we have to specify the filename containing these functions - here 'races.service'.
Of course, you can import only one method if you need, and you can even give it an alias:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { start as startRace } from './races.service';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// later
startRace(race);</code></pre>
</div>
</div>
<div class="paragraph">
<p>And if you want to use all the exported symbols
(functions, constants, classes etc.) from the module,
you can use a wildcard '*'.</p>
</div>
<div class="paragraph">
<p>As you would do with other languages, use the wildcard with care,
only when you really want all the functions, or most of them.
As this will be analyzed by our IDEs,
we will see auto-import soon and that will free us from the bother of importing the right things.</p>
</div>
<div class="paragraph">
<p>With a wildcard, you have to use an alias,
and I kind of like it, because it makes the rest of the code clearer:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import * as racesService from './races.service';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// later
racesService.bet(race, pony1);
racesService.start(race);</code></pre>
</div>
</div>
<div class="paragraph">
<p>If your module exposes only one function or value or class,
you don&#8217;t have to use named export, and you can leverage the default keyword.
It works great for classes for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// pony.js
export default class Pony {}
// races.service.js
import Pony from './pony';</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice the lack of curly braces to import a default.
You can import it with the alias you want, but to be consistent,
it&#8217;s better to call the import with the module name
(except if you have multiple modules with the same name of course,
then you can choose an alias that allows you to distinguish them).
And of course, you can mix default export with named ones,
but obviously with only one default per module.</p>
</div>
<div class="paragraph">
<p>In Angular, you&#8217;re going to use a lot of these imports in your app.
Each component and service will be a class,
generally isolated in their own file and exported,
and then imported when needed in other components.</p>
</div>
</div>
<div class="sect2">
<h3 id="_conclusion">2.15. Conclusion</h3>
<div class="paragraph">
<p>That ends our gentle introduction to ES2015+. We skipped some other parts,
but if you&#8217;re comfortable with this chapter,
you will have no problem writing your apps in ES2015+.
If you want to have a deeper understanding of this,
I highly recommend <a href="https://exploringjs.com/">Exploring JS</a>
by <a href="https://twitter.com/rauschma">Axel Rauschmayer</a>
or <a href="https://leanpub.com/understandinges6">Understanding ES6</a>
from <a href="https://twitter.com/slicknet">Nicholas C. Zakas</a>&#8230;&#8203;
Both ebooks can be read online for free,
but don&#8217;t forget to buy it to support their authors. They have done great work!
Actually I&#8217;ve re-read <a href="http://speakingjs.com">Speaking JS</a>,
Axel&#8217;s previous book, and I again learned a few things,
so if you want to refresh your JS skills, I definitely recommend it!</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="types">3. Going further than ES2015+</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_dynamic_static_and_optional_types">3.1. Dynamic, static and optional types</h3>
<div class="paragraph">
<p>You may have heard that Angular apps can be written in TypeScript. And you may be wondering what TypeScript is, or what it brings to the table.</p>
</div>
<div class="paragraph">
<p>JavaScript is dynamically typed. That means you can do things like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">let pony = 'Rainbow Dash';
pony = 2;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And it works. That&#8217;s great for all sort of things, as you can pass pretty much any object to a function and it works, as long as the object has the properties the function needs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const pony = { name: 'Rainbow Dash', color: 'blue' };
const horse = { speed: 40, color: 'black' };
const printColor = animal =&gt; console.log(animal.color);
// works as long as the object has a `color` property</code></pre>
</div>
</div>
<div class="paragraph">
<p>This dynamic nature allows wonderful things but it is also a pain for a few other reasons compared to more statically-typed languages. The most obvious might be when you call an unknown function in JS from another API, you pretty much have to read the doc (or, worse, the function code) to know what the parameter should look like. Take a look at our previous example: the method <code>printColor</code> needs a parameter with a <code>color</code> property. That can be hard to guess, and of course it is much worse in day-to-day work, where we use various libraries and services developed by fellow developers. One of Ninja Squad&#8217;s co-founders is often complaining about the lack of types in JS, and finds it regrettable he can&#8217;t be as productive and write as good code as he would in a more statically-typed environment. And he is not entirely wrong, even if he is sometimes ranting for the sake of it too! Without type information, IDEs have no real clue if you&#8217;re doing something wrong, and tools can&#8217;t help you find bugs in your code. Of course, we have tests in our apps, and Angular has always been keen on making testing easy, but it&#8217;s nearly impossible to have a perfect test coverage.</p>
</div>
<div class="paragraph">
<p>That leads to the maintainability topic. JS code can become hard to maintain, despite tests and documentation. Refactoring a huge JS app is no easy task, compared to what could be done in other statically-typed languages. Maintainability is a very important topic, and types help humans and tools to avoid mistakes when writing and maintaining code. Google has always been keen to push new solutions in that direction: it&#8217;s easy to understand as they have some of the biggest web apps of the world, with GMail, Google apps, Maps&#8230;&#8203; So they have tried several approaches to front-end maintainability: GWT, Google Closure, Dart&#8230;&#8203; All trying to help writing big webapps.</p>
</div>
<div class="paragraph">
<p>For Angular, the Google team wanted to help us to write better JS, by adding some type information to our code. It&#8217;s not a very new concept in JS. It was even the subject of the ECMAScript&#160;4 specification, which was later abandoned. At first they announced AtScript, as a superset of ES2015+ with annotations (types annotations and another kind I&#8217;ll discuss later). They also announced the support of TypeScript, the Microsoft language, with additional type annotations. And then, a few months later, the TypeScript team announced that they had worked closely with the Google team, and the new version of the language (1.5) would have all the shiny new things AtScript had. And the Google team announced that AtScript was officially dropped, and that TypeScript was the new top-notch way to write Angular apps!</p>
</div>
</div>
<div class="sect2">
<h3 id="_enters_typescript">3.2. Enters TypeScript</h3>
<div class="paragraph">
<p>I think this was a smart move for several reasons. For one, no one really wants to learn another language extension. And TypeScript was already there, with an active community and ecosystem. I never really used it before Angular, but I heard good things about it, from various people. TypeScript is a Microsoft project. But it&#8217;s not the Microsoft you have in mind, from the Ballmer and Gates years. It&#8217;s the Microsoft of the Nadella era, the one opening up to its community, and, well, open-source. Google knows this, and it&#8217;s far better for them to contribute to an existing project, rather than to have to bear the burden of maintaining their own. And the TypeScript framework will gain a huge popularity boost: win-win, as your manager would say.</p>
</div>
<div class="paragraph">
<p>But the main reason to bet on TypeScript is the type system it offers. It&#8217;s an optional type system that helps without getting in the way. In fact, after coding some time with it, you&#8217;ll probably want to code every application with it. I do like what they have done, and we will have a look at what TypeScript offers in the next section. At the end, you&#8217;ll have enough understanding to read any Angular code, and you&#8217;ll be able to choose whether you want to use it or not, in your apps.</p>
</div>
<div class="paragraph">
<p>You may be wondering: why use typed code in Angular apps? Let&#8217;s take an example. Angular 1 and 2 have been built around a powerful concept named "dependency injection". You might already be familiar with it, as it is a common design pattern used in several frameworks for different languages and, as I said, already used in AngularJS&#160;1.x.</p>
</div>
</div>
<div class="sect2">
<h3 id="_a_practical_example_with_di">3.3. A practical example with DI</h3>
<div class="paragraph">
<p>To sum up what dependency injection is, think about a component of the app, let&#8217;s say <code>RaceList</code>, needing to access the races list that the service <code>RaceService</code> can give. You would write <code>RaceList</code> like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class RaceList {
  constructor() {
    this.raceService = new RaceService();
    // let's say that list() returns a promise
    this.raceService
      .list()
      // we store the races returned into a member of `RaceList`
      .then(races =&gt; (this.races = races));
    // arrow functions, FTW!
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>But it has several flaws. One of them is the testability: it is now very hard to replace the <code>raceService</code> by a fake (mock) one, to test our component.</p>
</div>
<div class="paragraph">
<p>If we use the Dependency Injection (DI) pattern, we delegate the creation of the <code>RaceService</code> to the framework, and we simply ask for an instance. The framework is now in charge of the creation of the dependency, and, well, injects it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class RaceList {
  constructor(raceService) {
    this.raceService = raceService;
    this.raceService.list().then(races =&gt; (this.races = races));
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, when we test this class, we can easily pass a fake service to the constructor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// in a test
const fakeService = {
  list: () =&gt; {
    // returns a fake promise
  }
};
const raceList = new RaceList(fakeService);
// now we are sure that the race list
// is the one we want for the test</code></pre>
</div>
</div>
<div class="paragraph">
<p>But how does the framework know what to inject in the constructor? Good question! AngularJS&#160;1.x relied on the parameter&#8217;s names, but it had a severe limitation, because minification of your code would have changed the param name&#8230;&#8203; You could use the array syntax to fix this, or add a metadata to the class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">RaceList.$inject = ['RaceService'];</code></pre>
</div>
</div>
<div class="paragraph">
<p>We had to add some metadata for the framework to understand what classes needed to be injected with. And that&#8217;s exactly what type annotations give: a metadata giving the framework a hint it needs to do the right injection. In Angular, using TypeScript, we can write our <code>RaceList</code> component like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class RaceList {
  raceService: RaceService;
  races: Array&lt;string&gt; = [];

  constructor(raceService: RaceService) {
    // the interesting part is `: RaceService`
    this.raceService = raceService;
    this.raceService.list().then(races =&gt; (this.races = races));
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now the injection can be done!</p>
</div>
<div class="paragraph">
<p>That&#8217;s why we&#8217;re going to spend some time learning TypeScript (TS). Angular is clearly built to leverage this language, so we will have the easiest time writing our apps using it. And the Angular team really hopes to submit the type system to the standard committee, so maybe one day we&#8217;ll have types in JS, and all this will be usual.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s dive in!</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="typescript">4. Diving into TypeScript</h2>
<div class="sectionbody">
<div class="paragraph">
<p>TypeScript has been around since 2012. It&#8217;s a superset of JavaScript, adding a few things to ES5. The most important one is the type system, giving TypeScript its name. From version 1.5, released in 2015, the library is trying to be a superset of ES2015+, including all the shiny features we saw in the previous chapter, and a few new things as well, like decorators.
Writing TypeScript feels very much like writing JavaScript. By convention, TypeScript files are named with a <code>.ts</code> extension, and they will need to be compiled to standard JavaScript, usually at build time, using the TypeScript compiler. The generated code is very readable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">npm install -g typescript
tsc test.ts</code></pre>
</div>
</div>
<div class="paragraph">
<p>But let&#8217;s start with the beginning.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALoAAADICAYAAABf5Ps7AAAACXBIWXMAAAsSAAALEgHS3X78AAAYQklEQVR4nO2dfXCUx33Hv/s8p5N0Ar0BB3pBCAlh4CzCW4yDhWNMMIlFDDWpx27jhLRNp3anjZOSUCdyg+tMUk+U1klm0pmm0yG2O43TxCke5BmUiZGxkhgbYgwIsIXEAXpDWK/WCenQof5xWvmRuJd93vZ528+MZ46759ldez5e9re7v10yOTkJgbnUN9eWA9gF4InISHTJzZuT12WfdFiSyBN1nzp8yeLmeQIiRDeH+ubafEzJDeBj9PvISBQTEzenn/P5pB5JIg1EIs8I6c1DiG4w9c21uwDsAbAz0e+zRacQgklZltolmfzvU9sanzS3ld5DiG4A9c219yAu9y4AeameTSa6EkIw6fNJ70qS9C912w6/ZFQ7vYwQXSNT4+4nEJd7Cet7LKIrkSQyIcvS7ySJ1NVtO9ysuqECAEJ0VSiCyj1QjLvVoFZ0JZJERBCrESF6GhRB5S4kGXerQY/oSkQQqw4hehKmgkr6T8pxtxqMEp0iglg2hOgK6ptr1yA+LNkDA+VWYrToSkQQmxzPi65czIGKoFIrZoquRASxM/Gk6MkWc3jAS3QlIoj1mOjpFnN4YIXoSrwaxLpedDWLOTywWnSK14JYV4qudTGHB3YRXYkXgljXiG7EYg4P7Ci6ErcGsY4W3ejFHB7YXXQlbgpiHSm6WYs5PHCS6EqcHsQ6RnQeizk8cKroFKcGsbYWnfdiDg+cLroSJwWxthPdysUcHrhJdCXxIJackSTp7+wYxNpGdDss5vDAraIrmQ5iCfmBXaS3VHS7LebwwAuiK7FLEMtddDsv5vDAa6Ir8fmkNquCWC6iO2UxhwdeFp1CZ25kWfoWryDWNNGduJjDAyH6THgFsYaL7uTFHB4I0ZNjZhBriOhuWczhgRCdDaODWM2iu3ExhwdCdPUYEcSqEt3tizk8EKJrR08QyyS6VxZzeCBENwa1QWxS0b24mMMDIbrxsASxM0T3+mIOD4To5pIsiCXff+P+cojFHG4I0fmhDGLJ99+43x67ujyCEJ0/siwNSlY3QiAwG0LQJwFwXFqUQKAGQkiHBCBsdUMEAjMhBBckAINWN0QgMBWCMxKAk1a3QyAwEwLSLYJRgeup23b4JQlAk9UNEQjMRvToAlcjy9IgEBddjNEFrkfaW9MgZl0ErkWSyLvAR0MXsWgkcDVU9LCVjRAIzIJI+AMgRBe4n6uAEF3gcgghvwY+El0EpAJXQpMvqOhiilHgOiSJTNDPPisb4jbWF+9EcE4lFuQsRTCnAp3DZ/HGpQPoGGqxummehBAyMv2Z5ozWN9eKTCOVrJh/N0ryQgjmVKAkd1XCZ6Kx62hs/RHOf3AUgMgw4onPJ7V9+9O/WQaIHl0VpXkhVBR8HCW5cbkz5Ky07/jlbJTkhaZFF/CDENJBPytFfxciOfoWKgo2YEPpbswPlCGQka+pjGBOhcGtEjBBMEA/KkUXMy+zKM0LYceKf4RfztZVjhDdGgjB6/SzcvdimH9T7E1pbrVuyQEgQ87C+mJxyBlvCEg3/SxETwHLGJyV4JxKw8oSsKE8n1GInoI3wgcMKyvZrIyAD0L0NPRG2g0pJz+rCOtLdhlSliA9NOGCohRdBKMJuBa5aFhZd5X9OaoW3GFYeSxUF2/BpqW7sWnpbq712o1p0ffWNIhtAAm42H/csLL8cgCfW/MtrC+737AyU3HP8kfx0Lo6fCb0OD4Tehxf2Pgsl3rtAE24mP6zVQ1xCuc/OIobsTHDyvPLAexa/Q/427v/A/et/DKqi7cYVraSe5Y/iq3L98z4rmrBBk/JrmT2yujrAD5pRUPszMBYl+Fz4YtyK7EoNz4T89C6OkRjY+iPdKIv0oWe4Qs42fEbDF6/qqnsRJJTqOzPH9untemOgCZcUMQWAJvgl7Om5Q8VbcbW276E/tEutPa+jVNdR3C5/zRTOakkp3hE9hm9xGzRT0L06Lcwx19oSb2FgWJsLN+JjeU70T/ahZbuo3gr/ErCnj4/eyEeWP01VC3YwFS222WnCReU2aKLmZdZlOaFNO9xMZLCQDE2Vz6MjeU7cam/BT3DFzAy1o+CnCLMy1mMJYUh1au4bpZ99pWNiXp0gYI7Fz9sdRNm4JezUbVgA3PPnQ43yq5MuJj+btafRY+uYFPZIyjPX2d1M0zHbbMxyoQLymzRw3yaYn82lT2CTWWft7oZ3HCT7ITglvngGaLvrWkIc2uNTcnNCuKR1d/3lOSUqgUb8KVP/MDqZuiGEPLe7O8STS8OwaP3ipbmhbB92VdQkF1idVMso2LeGquboB9FwgUl0cqoJwPSioINeHDVfk9L7haUCRcUsQUAccl3rNgHvxywuimWEzVwu4OdSCR6E+9GWImQ/CPGY6N46cQ/W90M3Ty1rfG52d95ukcXkn/EeGwUvzjxHbzfe8zqppiCZ8fouVlBbKn4ayE53CX57IQLSiLRPbFoVLv86yLwRPyAJbdInopE04uu79G3Vj7GJYdzcKwb1yLtGIkOYPB6FwAgGo3hZix+KFpOZgHmZs1DYaAYRXnL4DcwGZuVV1t+4irJJSnxouctou+taRisb641vUFGUZoXUnW24aayR7C2aIdp7emNtCM8cAIne17F8FjvLb+nOpKuungLQkWfxJLC2zEns8C0NlJ6httw4vKrptfDFzKU6Ntk+9EvAVhiXmP0U1GwAZ9d8eT0kRS9kXZci1zExf7jCY9/y80K4q6yzyMU3GpKe8KDf8SbV36u60DR011HcLrrCADgvpVfxtrS7aYK33rtbdPKtorZCReUZKKHYXPR7176FzPOXQnmVCCYU4FQcCu2x76C3kg7Bsfi59cUZi/GvMBiQw4jmk1vpB3N4Z+hfcC43FIAaDz3UzSe+yl23P73WLN4GzJNCJrPX33T8DJtQMK0rGSi2z4gnR9I/v9hhpyFktxVpo/D3+k+hN+2/bupdRw68yOc6jqC3Wu+gcJAsaFls2YtOQkCkrDHSTaPbuuA1Orj3aKxUbzc8m3TJadc7j+Nf3vtUbReM/ZvDbMSs62kbtvh5kTfO3LBqDQvZFnd0dgoDp1/1vChCgvPH9uHdzoaDStvSWG1YWXZgUQJF9O/Jfm+yZymGMMCi06ntVJyyssnn0VL9xuGlBUqutuQcuxCooQLiuN69NysIPKzirjXawfJKT8/sd+QYcyczALcU+WeffeJEi4ojhujr1pwryX1tvS+pkvyuf4g5vqDWFLwMSwuWIWCwCJkZczRXN4rp/4VfZGO9A+mocxFw5dECReUhLMudl40WjiH/7Clc/ispsBzXtZS5GeWID8z+VaDsRsjuDZyBVcGz2LsRtK/eW9h8PpVvNryEzx6x3dVt0tJ1YINyM9eqPmwJFuRIOGCkmro8m6K3yyjJJdvIBqNjeKNSwdUvZOfWYLqeTtQnntHSskBICtjDhYXrMSmpbuxclENfJKfuZ73e48ZEpzeUf6A7jLsQKKEC0oq0W03l27FGSutfX9QtdpZnrsRlXk18Ms5qusqyq3EpordKAgsYn7ntfcOIBq7rrouJYtyl+l63wmkEj3MqxGsVBR8nHudv7v8IvOzqwq3Y15Wua76fJIfa0u3o4hRvsHrV3XPwiwpvF3X+3YhUcIFxVGi874eJTz4x4QbsxJRnrsR2T7j/rZZueguzMlkOwrvuM6NWX45y5WLR0ocNXThfbvbmZ7fMD0XDCzX3ZMnYnXxFqYx++X+07jUf0ZXXUV5zh6+SBJJOX5LJbqtphhXzL+b6/j8RmyM6RJcmWSgOMecv/rjgSrbfp3LA/pELww4OwmFEDKe6nfHLBh1jZzXHXSpofPDs0zPLQzcBplkmNaOxQUrmXp1vTsR5+UYu2GMN8kSLqZ/T/bD3pqGJqMbo4fhsV6c7D7Erb6BqYygdJgxZFHik/xMw4rL/acxMp50GjktrPGAfUmccEFxTI8OAEfDB3D6aiM6h88aet1KIgYZRA/48jVNI6qlIJttunFkvF9zHTwymsyEEFxI9Xu6Gy/eBfAx45qjn8OtP5z+vGL+3SjJCyGYU2H43vPW/oSJKjOY4w8aWmcy8gMLmZ7rHm6bvi5GC9XFW6YznBwHQcogJZ3otpt5UXL+g6PTAWNpXgibl+wxTHiWaUUfYV/F1IOa1VI9rF38aceKnizhgpJu6GKrmZdUdAy14H9OfR3hwT9a3RRTULNaqpWqBRuwPLjR9HrMIFnCBSWd6Lbu0RPxyzNPoXOYbcZEcCsPra9znOyEYDLdM+lEDxvTFL6o3YTlBAZGe7jUkykH8ND6Oty38stc6jMCSZJSzrgA6cfoYWOawpeOoRZ0Dp/VNV7PzQqmHadPTEY1l6+GiZt86qFkygFsrnwYa0u341L/Gd33nppNqoQLiqOD0VQMjnXrEr2q8BM40XUw5TMjUbZ9MHoZHGUTrEjHjEsi5mQWIFS0eca9p52D7+HN8EFbnSCQKuGCknLosremwTHB6GxYF3ySkZ+dfqVwdGIQ0VhEVz0sDFxnG7aYvehTGChGdfEWfHHj95CfzTblaRcctWCkhhs6twsUMIgOAH1jYV31pGPiZhTdQynXQgDEU+J4Lfr45Wx8etVjXOpigUj4v3TPsIieNGvDzqQbdqSjZC7bsOfq6HuITd7QVVcqrgycYxqjr1h4p2ltSERJXhXX+vTi2h4dAEZvaA8xMuQsrJif/jiI2OQNdEX07RxMxtiNEVwZYJsqLSvgmzzROdTKtb5UpEq4oLCI7thxem+kXdf7ty/axlbP6PumDGFOdR1h6s3LCqu5Zwn1DKcfTtkJFtEdO/PSO9Km6/3y/HXIzWLbzxIePoYPb1zTVZ+Scz2/Y96ktaHsfsPqZaWplT3F0EzSJVxMP8fwjGN79PYB/cci36XiYt33B17T3bNP3IzinY7D6GbsMfOzFyJUtFlXnWrpGdbXgRhJuoQLiqt79I6hlumjo7VSNe8Tqs56DA8fQ9tQs6Zpx+7hNvy+/VeqVkHvvW2PKcdhp6LbRqKnS7iYfo7hGaaC7MrFgRO63vfLAWxeskfVO4PjnTjddwjh4bcwON6Z8tl4wHkOv7/4K5zraVa1Cro8uBFrS+9T1TYj6GGY7uRH6oQLSrqVUeytaQjb9dQuFt774Kjuq1xKcldha+Vjqk/r6hu7iL6xiwDiR9IBQObkPIyOf4ixiRFcvzGi6nQuJfnZC3F/6HFN7+ohGhvD7y/+inu9yUiXcEFJK/oUQwDytDfHOjqGWtAbadd9gkAoeC8u9r+t+fzFD6e2C/SMdCS9w0gND6z+GubllOouRy0si1dcSZNwQWGdR3dsQAoAYZ3DFyA+hNmxYh8qCjYY0CJ9PLx+P6oWWNMOOwWiAEBAmIIwVy8YUY6GD+haPKLYQfYH1+zjPsui5JKNNnMBQN22wy+xPMcqepP2ptgDvYtHFCtl/8LGZy0JPinR2JitUu1YEi4onujRASAS1X4UxGz8cgAPhp7G1ko+G5vKCqvx1XtfsGy4QrHb+Jwl4YLCGow6eowOwJRbmdcW7UBJ7ipTrl+kmHn9YjQ2hu6hC+gf7UJedhAL55Yjx5/8NDS9p4FZCavojl00oph171EwpwIPhp425EJdJWZeqDseG8Vb4VfQeO6nt/xWVliN1cVbsCi3csa17f2jXXgr/IrhbdGDJBHmM/w90aOX5oVMv/eoPH8dyvPXpb0iPRU8rkjvi3Tg5Xfrk2YIXe4/PeO36uItmJtZaKu5cy2QyUm28Xx9cy3zwN9ufGHtj7mfxAvE0/muRdoxEh2YPvkrGo3hZiz+nzInswBzs+ahMFA8o/c0i/HYKH5x4jt4v/eYqfXwwp8pf5Vliy7A3qMDwCXY/Nr0RDxU/T1LJAeA/KwiS27QS0Zz2y9cI7la1My6hM1qhFl87vZnUJa32upm2ILWa8fR9P4LVjfDUAghv2Z9Vo3ojgpIP3f7MyjPX2d1M2xBz3Abnj+2z+pmGE7dpw5fYn1WjeiOCUiF5B/RF+nAf7/9lNXNMBzWhIvp581qiFVsrXxMSD5FX6QDB978hm0PHtIDa8IFRY3oTeqaYg28kxDsSv9ol2slBwBC0KfmeTWzLgKH0HrtuCvH5EoIIaruh3fdGP1i/3FEY6NWN8MyjoUPul5ygD3hgsIs+t6aBkfMupz/4CgOnX/Wc7JHY9fxwlvfxKEzP7K6KXxgTLigqA1GmfcWWEn7wHFPyR6NXcePm/7SU4tBrAkXFLWiO6JXB7wl+6stP3Ft0JkM1oQLitpgNAzgkyrfsQwq+44V++DXsM21N9KOzuGz0/tU5ueUY+GcZZZtKUhE/2gXTui8It1pqEm4oGgR3VFokT0aG8WR9v/E6auHE/5emhfCnYsfRsncVcgweSNWOvReje5E1CRcUNSK7pihixI1skdjo2hs/XHK69E7hlrwy6H4auOdix9GaV7IMun7I6nPjRHEUSu6I6YYE8EiezQ2ikPnn1WVLfTmlZ8DV+Kflfee5vgLuOxc9Pu8t0CmJuGC4qkFo1Sya5F8Nsp7Tym5WUFUFcaPtVuSv87wldvCQImh5bkVVbMue2samkxqBzcSzcYYIXkyhsd6caLrIA6e+y4OvPM42j4wto6iPGPvLXICREL6a71n4akendI+cBwvn92PhTnLAABXIxcMy/VMxfBYL148/iT+bP33DMvoLwwUIz97odemF1X/y2rZvejIq15m0zHUghNdB3Gi6yAXyZU8f2yfoSde3VH+gGFlOQE1CRcU123TdQot3clnddSyKHeZYWU5ATUJFxQtojt25sVONLW+iGgs7T2wTBh9v6idkSQyoek9De84ci7djhh18hWvaxftACFE0znbWkQPa6lIcCtGjdN7PwwbUo4TUJtwQRGiW8gpnQd2jowPoL3vJF5465sGtcj+qE24oGiZXhRDF4O43H8aI+MDzEOPkfEBdA+3oWf4As5ffTPpaVuuhkDTabGqRd9b03DSyVe92I3OwfdwW5Jbn4XYt0KItultTy4Y2YkX3/4WNlXsxubKR+D3ZaN76AJ6httwquuIEDsBahMupt9jPXtRSX1zbRMctC/dTkRGoobcYeRVntnxW6LlPbFgJPAEWkVvMrIRAgELsixpnggRPbrAE2gVXWwDEHBHS8LF9Lsa3xNz6QJHoadHf9rIhggEqfD5pB5JInVa39c0vUipb64tB/AcgJ2aC/EYYnpRHbIsDco+8jTrFS7J0CU6pb659h4A+yHm1tMiRGdDksiEzyf97Kn7Gv/KiPIMEZ1S31y7B3HhHXfXES+E6KkhBJM+n3z0n7Y33mNouUaKTqlvrt0P4AkAeYYX7nCE6MnJyJBOSrK0S0sGUTpMER0A6ptr8xEfv3/RlAocihD9Vnw+qUeWpT+t23a42aw6TBOdMhWwHoAYvwMQoisxKtBkwXTRKVMB6wF4fPwuRDc+0GSBm+iUqYD1OXh0/O5l0WmgKcnki2aMw1PWzVt0YHr8/gQ8GLB6VXSfT2qTfdJW3oJTLBGdMjV+3w8PBaxeE12WpUGfT/qsmYEmC5aKTvHSgpNXRJckct2XIX2TR6DJgi1Ep9Q31+5CfPzu2oDV7aJbEWiyYCvRKfXNtU8g3sO7bvzuVtGtDDRZsKXowHTAuh/AVyxuiqG4UXSrA00WbCs6xW07JN0kul0CTRZsLzrFLQGrG0S3W6DJgmNEpzh9h6STRScEkxkZ8n/ZLdBkwXGiA85ecHKi6HYPNFlwpOgUJ+6QdJroPp/UJsvSHieMw1PhaNEpTtoh6RTRpwLNv1F7FbldcYXoFCfskLS76JJEJnwZ0tedFGiy4CrRKXbeIWlX0Z0caLLgypO69tY0HABQjviRHKrvjfcSU4K/7s/0LXWr5IBLe3Qldtshaace3S2BJguuF51ilwUnO4jutkCTBc+ITrF6h6SVok8FmvVPbWt80pIGWIjnRKdYtUPSCtEJwaQvQz74T/c1/gnXim2EK4NRFvbWNDyHeMD6Q4ubYio00PSy5ICHe3QlPHdI8urRvRRosiBEV8AjYDVbdJ5npTgJIXoCzNwhaZboXg40WRCiJ8GsHZJGiy4CTTaE6GkweoekkaJnZMivO3nrLE+E6IzUN9euQVx4XeN3I0TncSin2xCiq0TvDkk9ootAUztCdI1o3SGpRXS7npXiJIToOlAErN9mfUeN6Gbd/uBFhOgGoGaHJKvoZt7+4EWE6AbCsuCUTnQRaJqDEN0EUu2QTCa6CDTNRYhuIokuLZstugg0+SBEN5nZZ0hS0UWgyRchOifoDsnISHQnIRCBJmf+H6lJmKuq06ROAAAAAElFTkSuQmCC" alt="TypeScript">
</div>
</div>
<div class="sect2">
<h3 id="_types_as_in_typescript">4.1. Types as in TypeScript</h3>
<div class="paragraph">
<p>The general syntax to add type info in TypeScript is rather straightforward:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">let variable: type;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The types are easy to remember:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const ponyNumber: number = 0;
const ponyName: string = 'Rainbow Dash';</code></pre>
</div>
</div>
<div class="paragraph">
<p>In such cases, the types are optional because the TS compiler can guess them (it&#8217;s called "type inference") from the values.</p>
</div>
<div class="paragraph">
<p>The type can also come from your app, as with the following class <code>Pony</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const pony: Pony = new Pony();</code></pre>
</div>
</div>
<div class="paragraph">
<p>TypeScript also supports what some languages call "generics", for example for an array:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const ponies: Array&lt;Pony&gt; = [new Pony()];</code></pre>
</div>
</div>
<div class="paragraph">
<p>The array can only contain ponies, and the generic notation, using <code>&lt;&gt;</code>, indicates this. You may be wondering what the point of doing this is. Adding types information will help the compiler catch possible mistakes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">ponies.push('hello'); // error TS2345
// Argument of type 'string' is not assignable to parameter of type 'Pony'.</code></pre>
</div>
</div>
<div class="paragraph">
<p>So, if you need a variable to have multiple types, does it mean you&#8217;re screwed? No, because TS has a special type, called <code>any</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">let changing: any = 2;
changing = true; // no problem</code></pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s really useful when you don&#8217;t know the type of a value, either because it&#8217;s from a dynamic content or from a library you&#8217;re using.</p>
</div>
<div class="paragraph">
<p>If your variable can only be of type <code>number</code> or <code>boolean</code>, you can use a union type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">let changing: number | boolean = 2;
changing = true; // no problem</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_enums">4.2. Enums</h3>
<div class="paragraph">
<p>TypeScript also offers <code>enum</code>. For example, a race in our app can be either <code>ready</code>, <code>started</code> or <code>done</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">enum RaceStatus {
  Ready,
  Started,
  Done
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const race = new Race();
race.status = RaceStatus.Ready;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The enum is in fact a numeric value, starting at 0. You can set the value you want, though:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">enum Medal {
  Gold = 1,
  Silver,
  Bronze
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since TypeScript&#160;2.4, you can even specify a string value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">enum Position {
  First = 'First',
  Second = 'Second',
  Other = 'Other'
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To be honest though, we don&#8217;t use enums a lot in our projects:
we use union types.
They are simpler and cover roughly the same use-cases:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">let color: 'blue' | 'red' | 'green';
// we can only give one of these values to `color`
color = 'blue';</code></pre>
</div>
</div>
<div class="paragraph">
<p>TypeScript even allows you to create your own types,
so you could do something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">type Color = 'blue' | 'red' | 'green';
const ponyColor: Color = 'blue';</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_return_types">4.3. Return types</h3>
<div class="paragraph">
<p>You can also set the return type of a function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function startRace(race: Race): Race {
  race.status = RaceStatus.Started;
  return race;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the function returns nothing, you can show it using <code>void</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function startRace(race: Race): void {
  race.status = RaceStatus.Started;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_interfaces">4.4. Interfaces</h3>
<div class="paragraph">
<p>That&#8217;s a good first step. But as I said earlier, JavaScript is great for its dynamic nature. A function will work if it receives an object with the correct property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function addPointsToScore(player, points) {
  player.score += points;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This function can be applied to any object with a <code>score</code> property. How do you translate this in TypeScript? It&#8217;s easy: you define an interface, which is like the "shape" of the object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function addPointsToScore(player: { score: number }, points: number): void {
  player.score += points;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>It means that the parameter must have a property called <code>score</code> of the type <code>number</code>. You can name these interfaces, of course:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface HasScore {
  score: number;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function addPointsToScore(player: HasScore, points: number): void {
  player.score += points;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You&#8217;ll see that we often use interfaces throughout the book
to represent our entities.
We use interfaces for our models in our other projects as well.
We usually append a <code>Model</code> suffix to make it clear.
It&#8217;s then very easy to create a new entity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface PonyModel {
  name: string;
  speed: number;
}
const pony: PonyModel = { name: 'Light Shoe', speed: 56 };</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_optional_arguments">4.5. Optional arguments</h3>
<div class="paragraph">
<p>Another treat of JavaScript is that arguments are optional. You can omit them, and they will become <code>undefined</code>. But if you define a function with typed parameter in TypeScript, the compiler will shout at you if you forget them:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">addPointsToScore(player); // error TS2346
// Supplied parameters do not match any signature of call target.</code></pre>
</div>
</div>
<div class="paragraph">
<p>To show that a parameter is optional in a function (or a property in an interface), you can add <code>?</code> after the parameter. Here, the <code>points</code> parameter could be optional:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function addPointsToScore(player: HasScore, points?: number): void {
  points = points || 0;
  player.score += points;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_functions_as_property">4.6. Functions as property</h3>
<div class="paragraph">
<p>You may also be interested in describing a parameter that must have a specific function instead of a property.
The interface definition will be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface CanRun {
  run(meters: number): void;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function startRunning(pony: CanRun): void {
  pony.run(10);
}

const ponyOne = {
  run: (meters: number) =&gt; logger.log(`pony runs ${meters}m`)
};
startRunning(ponyOne);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_classes_2">4.7. Classes</h3>
<div class="paragraph">
<p>A class can implement an interface. For us, the <code>Pony</code> class should be able to run, so we can write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Pony implements CanRun {
  run(meters: number): void {
    logger.log(`pony runs ${meters}m`);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The compiler will force us to implement a <code>run</code> method in the class. If we implement it badly, by expecting a <code>string</code> instead of a <code>number</code> for example, the compiler will yell:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class IllegalPony implements CanRun {
  run(meters: string) {
    console.log(`pony runs ${meters}m`);
  }
}
// error TS2420: Class 'IllegalPony' incorrectly implements interface 'CanRun'.
// Types of property 'run' are incompatible.</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also implement several interfaces if you want:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class HungryPony implements CanRun, CanEat {
  run(meters: number): void {
    logger.log(`pony runs ${meters}m`);
  }

  eat(): void {
    logger.log(`pony eats`);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And an interface can extend one or several others:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface Animal extends CanRun, CanEat {}

class Pony implements Animal {
  // ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you&#8217;re defining a class in TypeScript, you can have properties and methods in your class. You may realize that properties in classes are not a standard ES2015+ feature. It is only possible in TypeScript.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class SpeedyPony {
  speed = 10;

  run(): void {
    logger.log(`pony runs at ${this.speed}m/s`);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Everything is public by default, but you can use the <code>private</code> keyword to hide a property or a method. If you add <code>private</code> or <code>public</code> to a constructor parameter, it is a shortcut to create and initialize a private or public member:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class NamedPony {
  constructor(public name: string, private speed: number) {}

  run(): void {
    logger.log(`pony runs at ${this.speed}m/s`);
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const pony = new NamedPony('Rainbow Dash', 10);
// defines a public property name with 'Rainbow Dash'
// and a private one speed with 10</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which is the same as the more verbose:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class NamedPonyWithoutShortcut {
  public name: string;
  private speed: number;

  constructor(name: string, speed: number) {
    this.name = name;
    this.speed = speed;
  }

  run(): void {
    logger.log(`pony runs at ${this.speed}m/s`);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>These shortcuts are really useful and we&#8217;ll rely on them a lot in Angular!</p>
</div>
</div>
<div class="sect2">
<h3 id="_working_with_other_libraries">4.8. Working with other libraries</h3>
<div class="paragraph">
<p>When working with external libraries written in JS, you may think we are doomed because we don&#8217;t know what types of parameter the function in that library will expect. That&#8217;s one of the cool things with the TypeScript community: its members have defined interfaces for the types and functions exposed by the popular JavaScript libraries!</p>
</div>
<div class="paragraph">
<p>The files containing these interfaces have a special <code>.d.ts</code> extension. They contain a list of the library&#8217;s public functions. A good place to look for these files is <a href="https://github.com/DefinitelyTyped/DefinitelyTyped">DefinitelyTyped</a>. For example, if you want to use TS in your AngularJS&#160;1.x apps, you can download the proper file from the repo directly with NPM:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">npm install --save-dev @types/angular</code></pre>
</div>
</div>
<div class="paragraph">
<p>or download it manually.
Then include the file at the top of your code, and enjoy the compilation checks:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">/// &lt;reference path="angular.d.ts" /&gt;
angular.module(10, []); // the module name should be a string
// so when I compile, I get:
// Argument of type 'number' is not assignable to parameter of type 'string'.</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>/// &lt;reference path="angular.d.ts" /&gt;</code> is a special comment recognized by TS, telling the compiler to look for the interface <code>angular.d.ts</code>.
Now, if you misuse an AngularJS method, the compiler will complain, and you can fix it on the spot, without having to manually run your app!</p>
</div>
<div class="paragraph">
<p>Even cooler, since TypeScript 1.6, the compiler will auto-discover
the type definitions of an NPM library if they are packaged with the library itself.
More and more projects are adopting this approach, and so is Angular.
So you don&#8217;t even have to worry about including the interfaces in your Angular project:
the TS compiler will figure it out by itself if you are using NPM to manage your dependencies!</p>
</div>
</div>
<div class="sect2">
<h3 id="_decorators">4.9. Decorators</h3>
<div class="paragraph">
<p>This feature was added in TypeScript 1.5, notably to help support Angular.
Indeed, as we will shortly see, Angular components can be described using decorators.
You may not have heard about decorators, as not every language has them.
A decorator is a way to do some meta-programming.
They are fairly similar to annotations
which are mainly used in Java, C# and Python, and maybe other languages I don&#8217;t know.
Depending on the language, you add an annotation to a method, an attribute, or a class.
Generally, annotations are not really used by the language itself, but mainly by frameworks and libraries.</p>
</div>
<div class="paragraph">
<p>Decorators are really powerful: they can modify their target (method, classes, etc.),
and for example alter the parameters of the call, tamper with the result,
call other methods when the target is called or add metadata for a framework (which is what Angular decorators do).
Until now, it was not something that was possible in JavaScript.
But the language is evolving and there is now an official proposal for <code>decorators</code>,
which may be standardized one day in the future (possibly in ES7/ES2016).
Note that the TypeScript implementation goes slightly further than the proposed standard.</p>
</div>
<div class="paragraph">
<p>In Angular, we will use the decorators provided by the framework.
Their role is fairly basic: they add some metadata to our classes, attributes or parameters to say things like "this class is a component",
"this is an optional dependency", "this is a custom property", etc.
You are not required to use them, as you can add the metadata manually (if you want to stick to ES5 for example),
but the code will definitely be more elegant using decorators, as provided by TypeScript.</p>
</div>
<div class="paragraph">
<p>In TypeScript, decorators start with an <code>@</code>, and can be applied to a class, a class property, a function or a function parameter.
They can&#8217;t be applied to a constructor, but can be applied to its parameters.</p>
</div>
<div class="paragraph">
<p>To have a better grasp on this, let&#8217;s try to build a simple decorator,
<code>@Log()</code>, that will log something every time a method is called.</p>
</div>
<div class="paragraph">
<p>It will be used like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class RaceService {
  @Log()
  getRaces() {
    // call API
  }

  @Log()
  getRace(raceId: number) {
    // call API
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To define it, we have to write a method returning a function like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const Log = () =&gt; {
  return (target: any, name: string, descriptor: any) =&gt; {
    logger.log(`call to ${name}`);
    return descriptor;
  };
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Depending on what you want to apply your decorator to, the function will not have exactly the same arguments.
Here we have a method decorator that takes 3 parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>target</code>: the method targeted by our decorator</p>
</li>
<li>
<p><code>name</code>: the name of the targeted method</p>
</li>
<li>
<p><code>descriptor</code>: a descriptor of the targeted method (is the method enumerable, writable, etc.)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here we simply log the method name, but you could do pretty much whatever you want:
interfere with the parameters, the result, calling another function, etc.</p>
</div>
<div class="paragraph">
<p>So, in our simple example, every time the <code>getRace()</code> or <code>getRaces()</code> methods are called,
we&#8217;ll see a trace in the browser logs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">raceService.getRaces();
// logs: call to getRaces
raceService.getRace(1);
// logs: call to getRace</code></pre>
</div>
</div>
<div class="paragraph">
<p>As a user, let&#8217;s look at what a decorator in Angular looks like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({ selector: 'ns-home', template: 'home' })
class HomeComponent {
  constructor(@Optional() hello: HelloService) {
    logger.log(hello);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>@Component</code> decorator is added to the class <code>Home</code>.
When Angular loads our app, it will find the class <code>Home</code>
and will understand that it is a component, based on the metadata the decorator will add.
Cool, huh? As you can see, a decorator can also receive parameters, here a configuration object.</p>
</div>
<div class="paragraph">
<p>I just wanted to introduce the raw concept of decorators;
we&#8217;ll look into every decorator available in Angular throughout the book.</p>
</div>
<div class="paragraph">
<p>So my advice would be to give TypeScript a try!
All my examples from here will be in TypeScript,
as Angular and all the tooling around are really designed for it.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="advanced-typescript">5. Advanced TypeScript</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you&#8217;re just starting to learn TypeScript,
you can safely skip this chapter for now and come back later.
This chapter is here to showcase some more advanced usages of TypeScript.
They&#8217;ll only make sense if you already have some familiarity with the language</p>
</div>
<div class="sect2">
<h3 id="_readonly">5.1. readonly</h3>
<div class="paragraph">
<p>You can use the <code>readonly</code> keyword to mark the property
of a class or interface as&#8230;&#8203; read only!
That way, the compiler will refuse to compile any code trying
to assign a new value to the property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface Config {
  readonly timeout: number;
}

const config: Config = { timeout: 2000 };
// `config.timeout` is now readonly and can't be reassigned</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_keyof">5.2. keyof</h3>
<div class="paragraph">
<p>The <code>keyof</code> keyword can be used to get a type representing
the union of the names of the properties of another type.
For example, you have a <code>PonyModel</code> interface:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface PonyModel {
  name: string;
  color: string;
  speed: number;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You want to build a function
that returns the value of a property.
You could implement a naive version:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getProperty(obj: any, key: string): any {
  return obj[key];
}

const pony: PonyModel = {
  name: 'Rainbow Dash',
  color: 'blue',
  speed: 45
};
const nameValue = getProperty(pony, 'name');</code></pre>
</div>
</div>
<div class="paragraph">
<p>Two problems here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>you can give any value to the <code>key</code> parameter, even keys that don&#8217;t exist on <code>PonyModel</code>.</p>
</li>
<li>
<p>the return type being <code>any</code>, you are losing a lot of type information.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is where <code>keyof</code> can shine.
<code>keyof</code> allows you to list all the keys of a type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">type PonyModelKey = keyof PonyModel;
// this is the same as `'name'|'speed'|'color'`
let property: PonyModelKey = 'name'; // works
property = 'speed'; // works
// key = 'other' would not compile</code></pre>
</div>
</div>
<div class="paragraph">
<p>So we can use this type to make <code>getProperty</code> safer,
by declaring that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the first parameter is of type <code>T</code></p>
</li>
<li>
<p>the second parameter is of type <code>K</code>, which is a key of <code>T</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getProperty&lt;T, K extends keyof T&gt;(obj: T, key: K): T[K] {
  return obj[key];
}

const pony: PonyModel = {
  name: 'Rainbow Dash',
  color: 'blue',
  speed: 45
};
// TypeScript infers that `nameValue` is of type `string`!
const nameValue = getProperty(pony, 'name');</code></pre>
</div>
</div>
<div class="paragraph">
<p>We killed two birds with one stone here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>key</code> can now only be an existing property of <code>PonyModel</code></p>
</li>
<li>
<p>the return value will be inferred by TypeScript (which is pretty awesome!)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Now let&#8217;s see how we can leverage <code>keyof</code> to do even more.</p>
</div>
</div>
<div class="sect2">
<h3 id="_mapped_type">5.3. Mapped type</h3>
<div class="paragraph">
<p>Let&#8217;s say you want to create a type that has exactly the same properties as <code>PonyModel</code>,
but you want every property to be optional.
You can of course define it manually:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface PartialPonyModel {
  name?: string;
  color?: string;
  speed?: number;
}

const pony: PartialPonyModel = {
  name: 'Rainbow Dash'
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>But you can do something more generic with a mapped type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">type Partial&lt;T&gt; = {
  [P in keyof T]?: T[P];
};

const pony: Partial&lt;PonyModel&gt; = {
  name: 'Rainbow Dash'
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>Partial</code> type is a transformation that applies the <code>?</code> modifier
to every property of a type!
In fact, you don&#8217;t have to define the type <code>Partial</code> yourself,
because since version 2.1, it&#8217;s part of the language itself,
and it&#8217;s declared exactly like in the above example.</p>
</div>
<div class="paragraph">
<p>TypeScript offers other mapped types out of the box.</p>
</div>
<div class="sect3">
<h4 id="_readonly_2">5.3.1. Readonly</h4>
<div class="paragraph">
<p><code>Readonly</code> makes all the properties of an object <code>readonly</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const pony: Readonly&lt;PonyModel&gt; = {
  name: 'Rainbow Dash',
  color: 'blue',
  speed: 45
};
// all properties are `readonly`</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_pick">5.3.2. Pick</h4>
<div class="paragraph">
<p><code>Pick</code> helps you build a type with only some of the original properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const pony: Pick&lt;PonyModel, 'name' | 'color'&gt; = {
  name: 'Rainbow Dash',
  color: 'blue'
};
// `pony` can't have a `speed` property</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_record">5.3.3. Record</h4>
<div class="paragraph">
<p><code>Record</code> helps you build a type with the same properties as another type,
but with a different type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface FormValue {
  value: string;
  valid: boolean;
}

const pony: Record&lt;keyof PonyModel, FormValue&gt; = {
  name: { value: 'Rainbow Dash', valid: true },
  color: { value: 'blue', valid: true },
  speed: { value: '45', valid: true }
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html">even more than that</a>,
but these are the most useful.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_union_types_and_type_guards">5.4. Union types and type guards</h3>
<div class="paragraph">
<p>Union types are really handy.
Let&#8217;s say your application has authenticated users and anonymous users,
and sometimes you need to do a different action depending on that.
You can model this as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface User {
  type: 'authenticated' | 'anonymous';
  name: string;
  // other fields
}

interface AuthenticatedUser extends User {
  type: 'authenticated';
  loggedSince: number;
}

interface AnonymousUser extends User {
  type: 'anonymous';
  visitingSince: number;
}

function onWebsiteSince(user: User): number {
  if (user.type === 'authenticated') {
    // this is a LoggedUser
    return (user as AuthenticatedUser).loggedSince;
  } else if (user.type === 'anonymous') {
    // this is an AnonymousUser
    return (user as AnonymousUser).visitingSince;
  }
  // TS doesn't know every possibility was covered
  // so we have to return something here
  return 0;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>I don&#8217;t know about you,
but I don&#8217;t like these <code>as &#8230;&#8203;</code> explicit casts.
Maybe we can do better?</p>
</div>
<div class="paragraph">
<p>One possibility is to use a type guard,
a special function whose sole purpose is to help the TypeScript compiler.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function isAuthenticated(user: User): user is AuthenticatedUser {
  return user.type === 'authenticated';
}

function isAnonymous(user: User): user is AnonymousUser {
  return user.type === 'anonymous';
}

function onWebsiteSince(user: User): number {
  if (isAuthenticated(user)) {
    // this is inferred as a LoggedUser
    return user.loggedSince;
  } else if (isAnonymous(user)) {
    // this is inferred as an AnonymousUser
    return user.visitingSince;
  }
  // TS still doesn't know every possibility was covered
  // so we have to return something here
  return 0;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is better!
But we still need to return a default value,
even if we covered all the possibilities.</p>
</div>
<div class="paragraph">
<p>We can slightly improve the situation if we drop the type guards
and use a union type instead.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface BaseUser {
  name: string;
  // other fields
}

interface AuthenticatedUser extends BaseUser {
  type: 'authenticated';
  loggedSince: number;
}

interface AnonymousUser extends BaseUser {
  type: 'anonymous';
  visitingSince: number;
}

type User = AuthenticatedUser | AnonymousUser;

function onWebsiteSince(user: User): number {
  if (user.type === 'authenticated') {
    // this is inferred as a LoggedUser
    return user.loggedSince;
  } else {
    // this is narrowed as an AnonymousUser
    // without even testing the type!
    return user.visitingSince;
  }
  // no need to return a default value
  // as TS knows that we covered every possibility!
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is even better, as TypeScript automatically narrows the type in the <code>else</code> branch.</p>
</div>
<div class="paragraph">
<p>Sometimes you know that the model will grow in the future,
and that more cases will need to be handled.
For example if you introduce an <code>AdminUser</code>.
In that case, you can use a <code>switch</code>.
A <code>switch</code> statement will break if one of the cases is not handled.
So introducing our <code>AdminUser</code>, or another type of user later, would automatically add compilation errors
in every place you need to handle it!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface AdminUser extends BaseUser {
  type: 'admin';
  adminSince: number;
}

type User = AuthenticatedUser | AnonymousUser | AdminUser;

function onWebsiteSince(user: User): number {
  switch (user.type) {
    case 'authenticated':
      return user.loggedSince;
    case 'anonymous':
      return user.visitingSince;
    case 'admin':
      // without this case, we could not even compile the code
      // as TS would complain that all possible paths are not returning a value
      return user.adminSince;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>I hope these patterns will help you.
Now let&#8217;s focus on Web Components.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="web-components">6. The wonderful land of Web Components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before going further, I&#8217;d like to make a brief stop to talk about Web Components.
You don&#8217;t have to know about Web Components to write Angular code.
But I think it&#8217;s a good thing to have an overview of what they are,
because some choices in Angular have been made to facilitate the integration with Web Components,
or to make the components we will build similar to Web Components.
Feel free to skip this part if you have no interest in this topic;
however, I do believe you&#8217;ll learn a thing or two that will be useful for the rest of the road.</p>
</div>
<div class="sect2">
<h3 id="_a_brave_new_world">6.1. A brave new world</h3>
<div class="paragraph">
<p>Components are an old fantasy in development.
Something you can grab off the shelves and drop into your app,
something that would work right away and bring a needed functionality to your users.</p>
</div>
<div class="paragraph">
<p>My friends, this time has come.</p>
</div>
<div class="paragraph">
<p>Well, maybe. At least, there is the start of something.</p>
</div>
<div class="paragraph">
<p>That&#8217;s not completely new.
We have had components in web development for quite some time,
but they usually require some kind of dependency,
like jQuery, Dojo, Prototype, AngularJS, etc.
Not necessarily libraries you wanted to add to your app.</p>
</div>
<div class="paragraph">
<p>Web Components attempt to solve this problem:
let&#8217;s have reusable and encapsulated components.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="Web Components">
</div>
</div>
<div class="paragraph">
<p>They rely on a set of emerging standards
that browsers don&#8217;t perfectly support yet.
But, still, it&#8217;s an interesting topic,
even if theres a chance well have to wait a few years to use them fully,
or even if the concept never takes off.</p>
</div>
<div class="paragraph">
<p>This emerging standard is defined in 3 specifications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Custom elements</p>
</li>
<li>
<p>Shadow DOM</p>
</li>
<li>
<p>Template</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that the samples are most likely to work in a recent Chrome or Firefox browser.</p>
</div>
</div>
<div class="sect2">
<h3 id="_custom_elements">6.2. Custom elements</h3>
<div class="paragraph">
<p>Custom elements are a new standard allowing developers to create their own DOM elements,
making something like <code>&lt;ns-pony&gt;&lt;/ns-pony&gt;</code> a perfectly valid HTML element.
The specification defines how to declare such elements,
how to make them extend existing elements,
how to define your API, etc.</p>
</div>
<div class="paragraph">
<p>Declaring a custom element is done using <code>customElements.define</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class PonyComponent extends HTMLElement {
  constructor() {
    super();
    console.log("I'm a pony!");
  }

}

customElements.define('ns-pony', PonyComponent);</code></pre>
</div>
</div>
<div class="paragraph">
<p>And you can then use it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-pony&gt;&lt;/ns-pony&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the name must contain a dash,
so that the browser knows it is a custom element.
Of course, your custom element can have properties and methods,
and it also has lifecycle callbacks,
to be able to execute code when the component is inserted or removed,
or when one of its attributes changes.
It can also have a template of its own.
Maybe the <code>ns-pony</code> displays an image of the pony or just its name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class PonyComponent extends HTMLElement {
  constructor() {
    super();
    console.log("I'm a pony!");
  }


  /**
   * This is called when the component is inserted
   */
  connectedCallback() {
    this.innerHTML = '&lt;h1&gt;General Soda&lt;/h1&gt;';
  }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you try to look at the DOM, you&#8217;ll see <code>&lt;ns-pony&gt;&lt;h1&gt;General Soda&lt;/h1&gt;&lt;/ns-pony&gt;</code>.
But that means the CSS and JavaScript logic of your app
can have undesired effects on your component.
So, usually, the template is hidden and encapsulated in something called Shadow DOM,
and you&#8217;ll only see <code>&lt;ns-pony&gt;&lt;/ns-pony&gt;</code> if you inspect the DOM,
despite the fact that the browser displays the pony&#8217;s name.</p>
</div>
</div>
<div class="sect2">
<h3 id="_shadow_dom">6.3. Shadow DOM</h3>
<div class="paragraph">
<p>With a mysterious name like this,
you expect something with great powers.
And surely it is.
The Shadow DOM is a way to encapsulate the DOM of our component.
This encapsulation means that the stylesheet and JavaScript logic of your app
will not apply on the component and ruin it inadvertently.
It gives us the perfect tool to hide the internals of a component,
and be sure nothing leaks from the component to the app, or vice-versa.</p>
</div>
<div class="paragraph">
<p>Going back to our previous example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class PonyComponent extends HTMLElement {
  constructor() {
    super();
    const shadow = this.attachShadow({ mode: 'open' });
    const title = document.createElement('h1');
    title.textContent = 'General Soda';
    shadow.appendChild(title);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you try to inspect it now you should see:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-pony&gt;
  #shadow-root (open)
    &lt;h1&gt;General Soda&lt;/h1&gt;
&lt;/ns-pony&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, even if you try to add some style to the <code>h1</code> elements,
the visual aspect of the component won&#8217;t change at all:
that&#8217;s because the Shadow DOM acts like a barrier.</p>
</div>
<div class="paragraph">
<p>Until now, we just used a string as a template of our web component.
But that&#8217;s usually not the way you do that.
Instead, the best practice is to use the &lt;template&gt; element.</p>
</div>
</div>
<div class="sect2">
<h3 id="_template">6.4. Template</h3>
<div class="paragraph">
<p>A template specified in a <code>&lt;template&gt;</code> element is not displayed in your browser.
Its main goal is to be cloned in an element at some point.
What you declare inside will be inert: scripts don&#8217;t run, images don&#8217;t load, etc.
Its content can&#8217;t be queried by the rest of the page using usual methods like <code>getElementById()</code>
and it can be safely placed anywhere in your page.</p>
</div>
<div class="paragraph">
<p>To use a template, it needs to be cloned:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;template id="pony-template"&gt;
  &lt;style&gt;
    h1 {
      color: orange;
    }
  &lt;/style&gt;
  &lt;h1&gt;General Soda&lt;/h1&gt;
&lt;/template&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class PonyComponent extends HTMLElement {
  constructor() {
    super();
    const template = document.querySelector('#pony-template');
    const clonedTemplate = document.importNode(template.content, true);
    const shadow = this.attachShadow({ mode: 'open' });
    shadow.appendChild(clonedTemplate);
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_frameworks_on_top_of_web_components">6.5. Frameworks on top of Web Components</h3>
<div class="paragraph">
<p>All these things put together make the Web Components.
I&#8217;m far from being an expert on this topic,
and there are all sorts of twisted traps on this road.</p>
</div>
<div class="paragraph">
<p>As Web Components are not fully supported by every browser,
there is a polyfill you can include in your app to make sure it will work.
The polyfill is called <a href="https://github.com/WebComponents/webcomponentsjs">web-component.js</a>,
and it&#8217;s worth noting that it is a joint effort from Google, Mozilla and Microsoft among others.</p>
</div>
<div class="paragraph">
<p>On top of this polyfill, a few libraries have seen the light.
All aim to facilitate working with Web Components,
and often come with some ready-to-use Web Components.</p>
</div>
<div class="paragraph">
<p>Among the most notable initiatives, you find:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.polymer-project.org/">Polymer</a>, the first attempt from Google</p>
</li>
<li>
<p><a href="https://lit-element.polymer-project.org/">LitElement</a>, a more recent project from the Polymer team&#160;;</p>
</li>
<li>
<p><a href="http://x-tag.github.io/">X-tag</a> from Mozilla and Microsoft</p>
</li>
<li>
<p><a href="https://stenciljs.com/">Stencil</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>I won&#8217;t go into the details, but you can easily use an already existing component.
Let&#8217;s say you want a Google Map in your app:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!-- Polyfill Web Components support for older browsers --&gt;
&lt;script src="webcomponents.js"&gt;&lt;/script&gt;

&lt;!-- Import element --&gt;
&lt;script src="google-map.js"&gt;&lt;/script&gt;

&lt;!-- Use element --&gt;
&lt;body&gt;
  &lt;google-map latitude="45.780" longitude="4.842"&gt;&lt;/google-map&gt;
&lt;/body&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are a LOT of components out there.
You can have an overview on <a href="https://www.webcomponents.org/" class="bare">https://www.webcomponents.org/</a>.</p>
</div>
<div class="paragraph">
<p>You can do a lot of cool things with LitElement
and other similar frameworks, like two-way data binding,
default values for attributes, emit custom events,
react to attribute changes, repeat elements if we give a collection to a component, etc.</p>
</div>
<div class="paragraph">
<p>That&#8217;s obviously far too short a chapter to tell you
everything there is to say on Web Components,
but you&#8217;ll see that some of the concepts are going to pop out along your read.
And you&#8217;ll definitely see that the Google team designed Angular
to make it easy to use Web Components with our Angular components.
It is even possible to export our own Angular components as Web Components,
with the help of <a href="https://angular.io/guide/elements">Angular Elements</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="philosophy">7. Grasping Angular&#8217;s philosophy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To write an Angular application,
you have to grasp a few things on the framework&#8217;s philosophy.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="angular logo" width="200">
</div>
</div>
<div class="paragraph">
<p>First and foremost,
Angular is component-oriented.
You will write tiny components and, together,
they will constitute a whole application.
A component is a group of HTML elements in a template,
dedicated to a particular task.
For this, you will usually also need to have
some logic linked to that template,
to populate data, and react to events for example.
For the veterans of AngularJS&#160;1.x,
it&#8217;s a bit like a 'template/controller' duo, or a directive.</p>
</div>
<div class="paragraph">
<p>This component orientation is something
that is becoming widely shared across front-end frameworks:
<a href="https://reactjs.org/">React</a>,
the cool kid from Facebook,
has been doing it that way from the beginning;
<a href="https://emberjs.com/">Ember</a>
and <a href="https://angularjs.org">AngularJS</a> have their way of doing something similar;
and others like <a href="https://svelte.dev/">Svelte</a>
or <a href="https://vuejs.org/">Vue.js</a> are betting on building small components too.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="emberjs logo" width="200">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="reactjs logo" width="200">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY1NkExMjc5NzY5MjExRTM5MTg5OEQ5MEJGOENFNDc2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY1NkExMjdBNzY5MjExRTM5MTg5OEQ5MEJGOENFNDc2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjU2QTEyNzc3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjU2QTEyNzg3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6FxXliAAApN0lEQVR42uyde4xd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" alt="vuejs logo" width="200">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="svelte logo" width="200">
</div>
</div>
<div class="paragraph">
<p>Angular is not alone in this,
but it is among the first (it might actually be the first?)
to really care about the integration of Web Components (the standard ones).
But let&#8217;s forget about this for now, as it is a more advanced topic.</p>
</div>
<div class="paragraph">
<p>Your components will be arranged in a hierarchical way,
like the DOM is. A root component will have child components,
each of them will also have children, etc.
If you want to display a pony race (who wouldn&#8217;t?),
you&#8217;ll have something like an app (<code>Ponyracer</code>),
displaying a menu (<code>Menu</code>) with the logged in user (<code>User</code>)
and a child view (<code>Race</code>),
displaying, of course, the ponies (<code>Pony</code>) in the races:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMjk0JyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgNDIwIDI5NCcgd2lkdGg9JzQyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMjk0JyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzQyMCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00xMTUuMCAzNS4wIEwyMzUuMCAzNS4wIEwyMzUuMCA2My4wIEwxMTUuMCA2My4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTQ1LjAgMTMzLjAgTDExNS4wIDEzMy4wIEwxMTUuMCAxNjEuMCBMNDUuMCAxNjEuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J00yMjUuMCAxMzMuMCBMMjk1LjAgMTMzLjAgTDI5NS4wIDE2MS4wIEwyMjUuMCAxNjEuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J000NS4wIDIzMS4wIEwxMTUuMCAyMzEuMCBMMTE1LjAgMjU5LjAgTDQ1LjAgMjU5LjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNMTQ1LjAgMjMxLjAgTDIxNS4wIDIzMS4wIEwyMTUuMCAyNTkuMCBMMTQ1LjAgMjU5LjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNMjM1LjAgMjMxLjAgTDMwNS4wIDIzMS4wIEwzMDUuMCAyNTkuMCBMMjM1LjAgMjU5LjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNMzI1LjAgMjMxLjAgTDM5NS4wIDIzMS4wIEwzOTUuMCAyNTkuMCBMMzI1LjAgMjU5LjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNMTE1LjAgMzUuMCBMMjM1LjAgMzUuMCBMMjM1LjAgNjMuMCBMMTE1LjAgNjMuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTQ1LjAgMTMzLjAgTDExNS4wIDEzMy4wIEwxMTUuMCAxNjEuMCBMNDUuMCAxNjEuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTIyNS4wIDEzMy4wIEwyOTUuMCAxMzMuMCBMMjk1LjAgMTYxLjAgTDIyNS4wIDE2MS4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNDUuMCAyMzEuMCBMMTE1LjAgMjMxLjAgTDExNS4wIDI1OS4wIEw0NS4wIDI1OS4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTQ1LjAgMjMxLjAgTDIxNS4wIDIzMS4wIEwyMTUuMCAyNTkuMCBMMTQ1LjAgMjU5LjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00yMzUuMCAyMzEuMCBMMzA1LjAgMjMxLjAgTDMwNS4wIDI1OS4wIEwyMzUuMCAyNTkuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTMyNS4wIDIzMS4wIEwzOTUuMCAyMzEuMCBMMzk1LjAgMjU5LjAgTDMyNS4wIDI1OS4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTc1LjAgOTEuMCBMODUuMCA5MS4wIEw4NS4wIDExOS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTE3NS4wIDkxLjAgTDI2NS4wIDkxLjAgTDI2NS4wIDExOS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTI2NS4wIDE4OS4wIEwxNzUuMCAxODkuMCBMMTc1LjAgMjE3LjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMjY1LjAgMTg5LjAgTDM1NS4wIDE4OS4wIEwzNTUuMCAyMTcuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J004MC4wIDExMi4wIEw4NS4wIDEyNi4wIEw5MC4wIDExMi4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00yNjAuMCAxMTIuMCBMMjY1LjAgMTI2LjAgTDI3MC4wIDExMi4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J004MC4wIDIxMC4wIEw4NS4wIDIyNC4wIEw5MC4wIDIxMC4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00xNzAuMCAyMTAuMCBMMTc1LjAgMjI0LjAgTDE4MC4wIDIxMC4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00yNzAuMCAyMTAuMCBMMjc1LjAgMjI0LjAgTDI4MC4wIDIxMC4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00zNTAuMCAyMTAuMCBMMzU1LjAgMjI0LjAgTDM2MC4wIDIxMC4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00yNzUuMCAxOTYuMCBMMjc1LjAgMjE3LjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTc1LjAgNjMuMCBMMTc1LjAgOTEuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J004NS4wIDE2MS4wIEw4NS4wIDIxNy4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTI2NS4wIDE2MS4wIEwyNjUuMCAxODkuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzEzMycgeT0nNTQnPjwhW0NEQVRBW1BvbnlyYWNlcl1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxMycgc3Ryb2tlPSdub25lJyB4PSc2MCcgeT0nMTUyJz48IVtDREFUQVtNZW51XV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzI0MCcgeT0nMTUyJz48IVtDREFUQVtSYWNlXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzYxJyB5PScyNTAnPjwhW0NEQVRBW1VzZXJdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTQnIHN0cm9rZT0nbm9uZScgeD0nMTYxJyB5PScyNTAnPjwhW0NEQVRBW1BvbnldXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTQnIHN0cm9rZT0nbm9uZScgeD0nMjUxJyB5PScyNTAnPjwhW0NEQVRBW1BvbnldXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTQnIHN0cm9rZT0nbm9uZScgeD0nMzQxJyB5PScyNTAnPjwhW0NEQVRBW1BvbnldXT48L3RleHQ+PC9nPjwvc3ZnPg==" alt="philosophy tree" width="420" height="294">
</div>
</div>
<div class="paragraph">
<p>Writing components will be your everyday work,
so let&#8217;s see what it looks like.
The Angular team wanted to harness
another goodness of today&#8217;s web development:
ES2015+.
So you can write your components in ES5
(but that&#8217;s not very cool) or in ES2015+ (way cooler!).
But that was not enough for them.
They wanted to use a feature that is not a standard (yet): decorators.
So they worked closely with the
transpiler teams (Traceur and Babel) and the TypeScript team at Microsoft,
to enable us to use decorators in our Angular apps.
A few decorators are available,
allowing us to easily declare a component for example.
I hope you already know all of that,
as I just spent two chapters on these things!</p>
</div>
<div class="paragraph">
<p>For example, if we simplify, the Race component could look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { RacesService } from './services';

@Component({
  selector: 'ns-race',
  templateUrl: './race.component.html'
})
export class RaceComponent {
  race: any;

  constructor(racesService: RacesService) {
    racesService.get().then(race =&gt; (this.race = race));
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And the template looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;
  &lt;h2&gt;{{ race.name }}&lt;/h2&gt;
  &lt;div&gt;{{ race.status }}&lt;/div&gt;
  &lt;div *ngFor="let pony of race.ponies"&gt;
    &lt;ns-pony [pony]="pony"&gt;&lt;/ns-pony&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you already know AngularJS&#160;1.x,
the template should look familiar,
with the same expression in curly braces <code>{{ }}</code>,
which will be evaluated and replaced by the corresponding value.
Some things have changed though: no more <code>ng-repeat</code> for example.
I don&#8217;t want to go too deep for now,
merely just give you a feel of what the code looks like.</p>
</div>
<div class="paragraph">
<p>A component is a very isolated piece of your app.
Your app <em>is</em> a component like the others.</p>
</div>
<div class="paragraph">
<p>You will group components in one or several coherent entities,
called modules (Angular Modules, not ES2015 Modules).</p>
</div>
<div class="paragraph">
<p>You can also take available modules from the community
and just put them in your app,
and be able to enjoy their features.</p>
</div>
<div class="paragraph">
<p>Such modules can offer UI components,
or drag and drop capability, or validation for your forms,
or whatever you can think of.</p>
</div>
<div class="paragraph">
<p>In the next chapters, we are going to explore how to get started,
how to build a small component,
your first module and the templating syntax.</p>
</div>
<div class="paragraph">
<p>There is another concept that is at the core,
and that is Dependency injection
(often called by its little name, DI).
It is a very powerful pattern,
and you will quickly get used to it after reading the dedicated chapter.
It is especially useful to test your application,
and I love doing tests, watching the progress bar go all green in my IDE.
It makes me feel I&#8217;m doing a good job.
So there will be an entire chapter on testing everything:
your components, your services, your UI&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Angular still has the magic feeling it had in v1,
where changes were automatically detected by the framework
and applied to the model and the views.
But it is done in a very different way than it was then:
the change detection now uses a concept called <code>zones</code>.
We will look into this, of course.</p>
</div>
<div class="paragraph">
<p>Angular is also a complete framework which provides
a lot of help for performing common tasks in web development.
Writing forms, calling a HTTP backend, routing,
interacting with other libraries, animations,
you name it: you&#8217;re covered.</p>
</div>
<div class="paragraph">
<p>Well, that&#8217;s a lot of things to learn!
We should start with the beginning:
bootstrap an app and write our first component.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="zero-to-something">8. From zero to something</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s start by creating our first Angular app and our first component, with a minimum of tooling.</p>
</div>
<div class="sect2">
<h3 id="_node_js_and_npm">8.1. Node.js and NPM</h3>
<div class="paragraph">
<p>Pretty much all the modern JavaScript tools are built for Node.js and NPM these days.
You&#8217;ll have to install Node.js and NPM on your system.
The best way to do that depends on your operating system -
you can find more information on the <a href="https://nodejs.org/">official website</a>.
Make sure you have a recent enough version of Node.js
(by executing <code>node --version</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_angular_cli">8.2. Angular CLI</h3>
<div class="paragraph">
<p>You <em>could</em> setup everything by yourself, starting with a TypeScript project,
then install every dependency needed, etc.</p>
</div>
<div class="paragraph">
<p>But in a real project, you&#8217;ll probably have to set up several other things too, like:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>some tests to check if we&#8217;re not breaking things</p>
</li>
<li>
<p>maybe a linter to check your code</p>
</li>
<li>
<p>maybe a CSS preprocessor</p>
</li>
<li>
<p>a build tool, to orchestrate the various tasks (compile, test, package, etc.)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>But it&#8217;s a bit cumbersome to setup everything yourself,
especially when there are sooooo many tools to learn first.</p>
</div>
<div class="paragraph">
<p>These past few years, a lot of small project generators have seen the light,
pretty much all using the great <a href="http://yeoman.io/">Yeoman</a>.
It used to be the case for AngularJS&#160;1.x,
and there were a few attempts for Angular from the community.</p>
</div>
<div class="paragraph">
<p>But this time, the Google team has been working on this issue,
and they have come up with something: <a href="https://github.com/angular/angular-cli"><code>Angular CLI</code></a>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="Angular CLI">
</div>
</div>
<div class="paragraph">
<p><code>Angular CLI</code> is a command line utility to easily quick start a project,
already configured with Webpack as a build tool (the popular kid these years), tests, packaging, etc.</p>
</div>
<div class="paragraph">
<p>The idea is not new, and is in fact borrowed from another popular framework:
EmberJS and its popularly acclaimed <a href="https://cli.emberjs.com/release/"><code>ember-cli</code></a>.</p>
</div>
<div class="paragraph">
<p>The tool is under continuous development,
with a dedicated Google team working on it and making it better and better.
It is now the recommended and <em>de facto</em> standard way of creating and building Angular apps.
So let&#8217;s give it a try, and discover the ton of cool stuff packed into it!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you want, you can follow our online exercise
<a href="https://angular-exercises.ninja-squad.com/exercises/0/getting-started">Getting Started</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Free" width="18"></span>!
It&#8217;s free and part of our Pro Pack,
where you&#8217;ll learn how to build a complete application step by step.
The first exercise is about getting everything up and running with Angular CLI,
and goes further than what we see in the chapter.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>First let&#8217;s install Angular CLI,
and generate a new application with the <code>ng new</code> command.
If you want to use exactly the same CLI version than we are (<code>15.1.1</code>),
you can use <code>npm install -g @angular/cli@15.1.1</code> instead.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">npm install -g @angular/cli</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">ng new ponyracer --prefix ns --defaults --strict</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will create a project skeleton in a new directory called <code>ponyracer</code>.
From this directory, you can start your app with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">ng serve</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will start a small HTTP server locally, with a hot reload configuration.
It means that every time you modify and save a file,
the server will rebuild the app,
and the browser will reload it immediately.</p>
</div>
<div class="paragraph">
<p>Tada! You have your first application up and running! </p>
</div>
</div>
<div class="sect2">
<h3 id="_application_structure">8.3. Application structure</h3>
<div class="paragraph">
<p>Let&#8217;s dive for a few seconds into the generated code.</p>
</div>
<div class="paragraph">
<p>Open the project in your preferred IDE. You can use pretty much anything you want,
but you should activate the TypeScript support for maximum comfort.
Pick your favorite: Webstorm, Visual Studio Code, Atom&#8230;&#8203;
All of them have great support for TypeScript.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If your IDE supports it,
code completion should work as the Angular dependencies have their own <code>d.ts</code> files in the <code>node_modules</code> directory,
and TypeScript is able to detect them.
You can even navigate to the type definitions if you want to.
TypeScript will bring its type-checking to the table,
so you&#8217;ll see what mistakes you make as you type.
As we are using source maps,
you can see the TS code directly from your browser,
and even debug your app by setting breakpoints in the TypeScript code.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You should see a bunch of configuration files in the root directory:
welcome to Modern JavaScript!</p>
</div>
<div class="paragraph">
<p>The first one you may recognize is the <code>package.json</code> file:
that&#8217;s where the dependencies of the application are defined.
You can have a look inside,
it should now contain the following dependencies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the different <code>@angular</code> packages.</p>
</li>
<li>
<p><code>rxjs</code>, a really cool library for reactive programming. We have a dedicated chapter on this topic
and about <a href="https://github.com/ReactiveX/RxJS">RxJS</a> in particular.</p>
</li>
<li>
<p><code>zone.js</code>, doing the heavy lifting for detecting the changes (we&#8217;ll dive into this later also).</p>
</li>
<li>
<p>some dependencies for developing the application, like the CLI, TypeScript, some test librairies, some typings&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>TypeScript itself has a configuration file <code>tsconfig.json</code>
(and another one called <code>tsconfig.app.json</code>),
which stores the compilation options.
As we saw in the previous chapters,
we are using TypeScript with decorators (hence the two options about decorators),
and we want our code to transpile to ECMAScript&#160;5, allowing it to run in every browser.
The <code>sourceMap</code> option allows you to generate source maps,
i.e. files that contain a mapping between the generated ES5 code and the original TypeScript code.
Those source maps are used by the browser to let you debug the ES5 code it executes
by stepping through the original TypeScript code that you have written.</p>
</div>
<div class="paragraph">
<p>TypeScript projects often also use ESLint,
a linter used to check your code against the best practices.
ESLint has its own options, stored in <code>.eslintrc.json</code>,
where you add/remove some of its rules.</p>
</div>
<div class="paragraph">
<p>Angular CLI itself has a configuration file <code>angular.json</code> if you want to override some of its defaults.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This ebook is using Angular version <code>15.1.0</code> for the examples.
Angular CLI will probably install the most recent version, which might not be exactly the same.
If you want to use the same version as we are,
replace the version in the <code>package.json</code> by <code>15.1.0</code> for each Angular package.
That might save you a few headaches!
Or, even better, follow our free online exercise
<a href="https://angular-exercises.ninja-squad.com/exercises/0/getting-started">Getting Started</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Free" width="18"></span>!
which is always up-to-date and battle-tested!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now that we have been over the configuration, let&#8217;s see the application code.</p>
</div>
</div>
<div class="sect2">
<h3 id="_our_first_component">8.4. Our first component</h3>
<div class="paragraph">
<p>As we saw in the previous section, a component is a combination of a view
(the template) and some logic (our TS class).
The CLI has already created one for us: <code>src/app/app.component.ts</code>.
Let&#8217;s check it out:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';

@Component({
  selector: 'ns-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {
  title = 'ponyracer';
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Our application itself is a simple component.
To tell Angular that it is a component,
we use the <code>@Component</code> decorator.
And to be able to use this decorator, we have to import it as you can see at the top of the file.</p>
</div>
<div class="paragraph">
<p>When you write new components,
don&#8217;t forget to import the <code>Component</code> decorator.
You may forget to do so at the beginning,
but it won&#8217;t last, as the compiler will yell at you! ;)</p>
</div>
<div class="paragraph">
<p>You&#8217;ll see that most of the things we need are in the <code>@angular/core</code> module,
but that&#8217;s not always the case.
For example, when dealing with HTTP, we&#8217;ll use imports from <code>@angular/http</code>;
or, if we use the router, we&#8217;ll import from <code>@angular/router</code>, etc.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';

@Component({
})
export class AppComponent {
  title = 'ponyracer';
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>@Component</code> decorator is expecting a configuration object.
We&#8217;ll see later in detail what you can configure here,
but for now only one property is expected: the <code>selector</code> one.
It will tell Angular what to look for in our HTML pages.
Every time Angular finds an element in our HTML
which matches the selector of the component,
it will create an instance of the component,
and replace the content of the element by the template of the component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';

@Component({
  selector: 'ns-root',
})
export class AppComponent {
  title = 'ponyracer';
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>So, here, every time our HTML contains an element like <code>&lt;ns-root&gt;&lt;/ns-root&gt;</code>,
Angular will instantiate a new instance of our <code>AppComponent</code> class.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
There is a clear naming convention established,
and applied by Angular CLI.
Component classes end with <code>Component</code>,
and they are defined in a file ending with <code>.component.ts</code>.
Angular also recommends using a prefix in component selectors,
to avoid name clashes with external components.
For example, since our company is named <strong>N</strong>inja <strong>S</strong>quad,
we chose to use the prefix <code>ns</code>.
Our pony component selector is thus named <code>ns-pony</code>.
You can configure Angular CLI so that it prepends this prefix to every generated component.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A component must also have a template.
We can have an inline template or externalize it in another file,
like the CLI does:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';

@Component({
  selector: 'ns-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {
  title = 'ponyracer';
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The corresponding HTML is defined in <code>app.component.html</code>,
with a bunch of static elements,
except the first <code>h1</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;span&gt;{{ title }} app is running!&lt;/span&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_our_first_angular_module">8.5. Our first Angular Module</h3>
<div class="paragraph">
<p>Like we briefly said in the previous chapter,
we are going to group our components and other pieces we&#8217;ll see later in coherent entities:
Angular Modules.</p>
</div>
<div class="paragraph">
<p>An Angular Module is different from the ES2015 Modules we came across earlier:
here we are talking about <strong>application</strong> modules.</p>
</div>
<div class="paragraph">
<p>Your application will always have at least one module, the <strong>root module</strong>.
Maybe, later, when your application grows,
you&#8217;ll add other modules, by feature.
For example, you could add a module dedicated to the Admin part
of your application, containing all the components and the logic
for this part. But we&#8217;ll come back to this later.
We&#8217;ll also see that third party libraries and Angular itself expose modules,
which we can use in our app.</p>
</div>
<div class="paragraph">
<p>Of course, the CLI has generated a module too, called <code>app.module.ts</code>.</p>
</div>
<div class="paragraph">
<p>The class is decorated with <code>@NgModule</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { NgModule } from '@angular/core';

@NgModule({
})
export class AppModule { }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Like the <code>@Component</code> decorator, it takes a configuration object.</p>
</div>
<div class="paragraph">
<p>As we are building an app for the browser,
the root module imports <code>BrowserModule</code>.
This is not the only target possible for Angular,
you could choose to render the app on the server for example,
and therefore import another module.
<code>BrowserModule</code> contains all kinds of useful stuff we will use later.
A module can choose to <em>export</em> components, directives and pipes.
When you import a module, you will make all the directives,
components and pipes exported by the imported module usable in your module.
Our root module won&#8217;t be imported into another module,
so we don&#8217;t have <code>exports</code>,
but we will have several <code>imports</code> in the end.</p>
</div>
<div class="paragraph">
<p>The terminology is not beginner friendly here.
We were talking about ES2015+ and TS modules in the first chapters, which define imports and exports.
And now we are talking about Angular modules, which also have imports and exports&#8230;&#8203;
I&#8217;m not a fan of having the same terms for different things,
so let me explain a little bit more.</p>
</div>
<div class="paragraph">
<p>You can see an ES2015+ or TS import purely as a language feature, like an import statement in Java:
it allows you to use the imported classes/functions in your source code.
It also declares a dependency for the bundler or module loader (Webpack or SystemJS, for example),
which knows that if <code>a.ts</code> is loaded, then <code>b.ts</code> must also be loaded since <code>a</code> imports <code>b</code>.
You have to use imports and exports with ES2015+ and TypeScript,
whether or not you&#8217;re using Angular or any other framework.</p>
</div>
<div class="paragraph">
<p>On the other hand,
importing an Angular module (for example <code>BrowserModule</code>) in your own Angular module (<code>AppModule</code>),
has a functional meaning.
It tells Angular: all the components, directives and pipes that are exported by <code>BrowserModule</code>
should be made available to my Angular components/templates.
It has no special meaning for the TypeScript compiler.</p>
</div>
<div class="paragraph">
<p>Back to <code>NgModule</code>: in its configuration object,
we must declare the components that belong to our root module,
with the <code>declarations</code> field.
You can see it contains the previous component we talked about: <code>AppComponent</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';

import { AppComponent } from './app.component';

@NgModule({
  declarations: [
    AppComponent
  ],
  imports: [
    BrowserModule
  ],
})
export class AppModule { }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since this is the root module,
we need to tell Angular which component is the root component,
i.e. the component that will be started when we bootstrap the app.
That&#8217;s what the <code>bootstrap</code> field of the configuration object is for:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';

import { AppComponent } from './app.component';

@NgModule({
  declarations: [
    AppComponent
  ],
  imports: [
    BrowserModule
  ],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule { }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Module ready, let&#8217;s bootstrap the app!</p>
</div>
</div>
<div class="sect2">
<h3 id="_bootstrapping_the_app">8.6. Bootstrapping the app</h3>
<div class="paragraph">
<p>Finally, we need to start our app, using the <code>bootstrapModule</code> method.
This method is exposed on an object returned by a method called <code>platformBrowserDynamic</code>.
You have to import it too, from <code>@angular/platform-browser-dynamic</code>.
Now, that&#8217;s a strange module! Why is it not <code>@angular/core</code>?
Good question: it&#8217;s because you might want to run your app somewhere else than in a browser,
as Angular supports server-side rendering or running in a Web Worker for example.
And in these cases, the bootstrap logic would be a bit different.
But we&#8217;ll see this later, as we are just focusing on the browser right now.</p>
</div>
<div class="paragraph">
<p>Angular CLI will by default generate a separate file containing this bootstrap logic: <code>main.ts</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';

import { AppModule } from './app/app.module';


platformBrowserDynamic().bootstrapModule(AppModule)
  .catch(err =&gt; console.error(err));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Yay! But wait a second. We need an HTML file to serve to our users, right?</p>
</div>
<div class="paragraph">
<p>The CLI created an <code>index.html</code> file for us,
which is the single page of our application.
You might wonder how it could possibly work,
since it doesn&#8217;t contain any <code>script</code> element.</p>
</div>
<div class="paragraph">
<p>When you run <code>ng serve</code>, the CLI calls the TypeScript compiler.
The compiler outputs JavaScript files.
The CLI then bundles them
and adds the necessary <code>script</code> elements to the <code>index.html</code> file
(using <a href="https://webpack.github.io/">Webpack</a> behind the scenes).</p>
</div>
<div class="paragraph">
<p>Hopefully, you now have a better understanding
of the various parts of this first Angular application.
It&#8217;s not really a dynamic app yet,
and we could have done the same
in one second in a static HTML page, I&#8217;ll give you that.
So let&#8217;s jump to the next sections, and learn all
about dependency injection and templating.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="templates">9. The templating syntax</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We&#8217;ve seen that a component needs to have a view. To define a view, you can
define a template inline or in a separate file. You&#8217;re probably familiar with a
templating syntax, maybe even the one from AngularJS&#160;1.x. To simplify things,
a template helps us to render HTML with some dynamic parts depending on our data.</p>
</div>
<div class="paragraph">
<p>Angular has its own templating syntax that we need to learn before going further.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsSAAALEgHS3X78AAALmElEQVR4nO3dv24qyx0H8O9Bt/d5g0OewJTpTOXyHqKIyorOKpLb4CJFJCLddeE6pqbBuqKyrg6+JdXyBvAEwVKkKFe3sJ/AKWYGL+vdZf/M7MzOfj8SMpgFpuCr38zs7PDp7e0NpNd4Mv0MYACgL2/qMeT986zXvv7+W95b7wC8yPtbeX8vb9v1cv6S/jKq6hMDUl0sCOrWB3BR5z1PBKSIDWRgIEIT1X3DLmNAShhPpn0AQ3kbIKcSVKUhIGl2EIGJAETr5Xxv4kN8xIDkkBViCGAk/34x/ZmGApL0DBGWFURg2DXLwIAkyCoxkrda3aUqGgpI0gYiLCtWl2MMCA6VIpA37d2mMiwFJG4HYAFgwcrS8YCMJ9MRRCi+Wm7KgQMBiXuCCMrKdkNs6VxAZBcqkDfjY4qyHAuI8oz3qrK325RmdSYg48l0AOAGwDfbbcnjaEDiHgDcr5fzre2GNMH7gIwn0yGAEBYG3FW0ICDKBkDo+3kWbwPStmAoLQqI4nVQvAtIW4OhtDAgipdB8SYgcvAdwvExxiktDojyABGUve2G6ND6gMhzGDcAfrLdFh08CIhyCzGYb/W5lFYHRJ7HuIeD07VVeRQQQEwP37T5PEorAyK7Uwu0dJyRx7OAKBsAQRu7XT3bDShrPJneQKxM9S4cHrsAsL28ur6x3ZCyWlNBfK4acZ5WkLhWVZNWVBA51mDV8IOqJiPbDSnC6QoiZ6ju0fKp2zI6UEHiZhBTws7OdDkbENmlWsHy8vOmdSwggFheP3K1y+VkFyvWpepUODrqHA53uZwLyHgyDQF8B3BmuSnUnDMA3y+vrkPbDUlyqos1nkwX6NB4I00Hu1hJD+vlPLDdCMWJgMjBeAR2qRgQYQdg6MLg3XoXSw7GIzAc9O4cQHR5dd233RCrAZFX+XEwTmnU4H1w8kiDrAVEhiMCB+OU7QyiklgLiZWAMBxUgtWQNB4QhoMqsBaSRgPCcFANVkLSWEAYDtKg8ZA0EpDYVC7DQXWpkPSb+DDjAZEnAVdgOEifMwCry6vrz6Y/qIkKEoHnOUi/c4jvllFGAyLXVjEcZMr55dX1wuQHGAuIXJXb6YWH1IhvJlcBG1msKK/n+K79jTuAixUr+5OJ7YW0B0TOWG3BQXklDEhlrwAGuq9M1NrF4owVWWRkZkv3GCQEB+VkzznEd1AbbV0sjjv0YBdLC23jES0B4bhDHwZEC23jEV1drAUYDnLHGcR3srbaAZF75XLHQ3LNhY69gGt1sdi10o9dLK1qd7XqVpAFGA5yV+2uVuWAyFkrdq3IdRd1dm2s1MWSJwS38OiXnVzBLpYRzxBdrdL7bFWtIDdgOKg9vkB8Z0srXUHkwPzfVT7MBY+zO9tNaNTl1bXtJrjkD2UH7FUqyH2F1xC5ICz7glIBGU+mQwBfy34IkSO+XV5dD8u8oGwFCUseT+SasMzBhQMiqwendantLspUkTIVJCzdFCI3hUUPLBQQVg/yTOEqUrSChJWbQuSmsMhBJwMitwxl9SDfXBTZwrRIBam9ZJjIUSe/27ln0tt+1jxN186k/+e//yt03F///k/DLXFW7tn1UxUk0NoUIvcEeU8yINR1Qd6TmQGR13twxS757kve9SJ5FSTQ3xYiJwVZT6QGRF4QxUWJ1BVfs3ZkzKoggbm2EDkpSPsnA0IkBGn//BAQee6D++tS15yn/e5hWgWpvAMEUct9+O7/UOQg8t9f/vxjoeN+/uVXwy2xaoTEJeVHFUTOXnFhInXVRXI2K9nFGjbXFiInDeMPkgFh94q67igDrCBEx4bxB4eAyOldrr2irvsSn+6NV5Bh400hctNQ3WFAiD4aqjvxgJy8PpeoIw5ZiAeEy0uIhEMWesBh3ysiktS+WaqCsHtFdGwAMCBEWY4C0rfXDiIn9YH3gHCBItGxCwDoyRW8RJRweXX9uQeOP4iyDHrg+IMoS58BIcrW7wHgGIQoHccgRDkGVX4nnagz2MUiyva5B67iJcpyzi4WUQ4GhCgHA0KUgwEhysGAEOVgQIhyMCBEORgQohwMCFEOBoQoBwNClIMBIcrBgBDl6AHY2W4EkaN2PQAvtltB5KgXdrGIcvQAbG03gshRW3axiLK99ADsbbeCyFF7BoQo255jEKJs297j7I5jEKIU6+X8MM27sdoSIvdsgPelJnt77SBy0h54DwjHIUTHtgADQpSFASHKsl7OI0AGRM5kcVUvkXDIQnyxIqsIkXDIQjwgUfPtIHJSpO4wIEQfRerOISCPs7s9gGcLjSFyyfN6Od+rB8kLpqJGm0Lknij+IBmQVXPtIHLSUQZYQYiORfEHRwGR50O4cJG66mm9nB+tbv8h5aAVgItm2tO88WRa6Lh//eNvhltCDoqS/0jb1YTjEOqqD9/9DwGR071cdkJds4tP7ypZ+2ItjDaFyD2LtH8yIETCIu2fqQGRs1lPJltD5JAPs1dK3tajCzNtIXLOIuuJzIA8zu5W4Nos8t/zejnPnLk9tXn1Qm9biJyzyHuSAaGuu8978tPb21vuq8eT6QLAN40N8sqPF3+03YRG/fzLr7aboNPDejkP8g4o8vsguQkjarGT3+2TAXmc3W3BBYzkn816OT+5D0PRX5gK67WFyDlhkYMKBeRxdheBVYT8sVH7Xp1S5jcKw0pNIXJPWPTAwgFhFSFPFK4eQLkKArCKUPuFZQ4uFRBZRR7KvIbIIQ9lqgdQvoIArCLUXmHZF5w8k55mPJmGAH4q/UI66fX332w3wVe36+U8LPuiKhUEEGcgudKX2uIZFVeEVAqIvKDqpspriSy4ybog6pSqFURdL8JpX3LdU971HqdUDogUAHit+R5EpryiZk+nVkDkFkFhnfcgMihM28qnjEqzWEnjyTSCx7sxNomzWNps1sv5sO6b1O1iKQHY1SJ3vAIY6XgjLQGRXa1Ax3sRaRBUnbVK0lVB1KzWTNf7EVU0qzNrlaQtIFII7utL9uygedJIa0DkCcQROB6h5r0CGOnqWim6KwjHI2RLUHdKN432gACH8citifcmSnGrc9wRp+U8SBbuqVUez4OUdnJvqzqMBgQAxpPpFsC50Q/xCANSym69nA9MfoCRLlbCEJzZIv12EN8to4wHhDNbZICRGas0TVQQNbM1BENC9b0CGJqYsUrTSECAwxamQzAkVJ0Kx8ktQ3VpLCAAQ0K1NB4OoOGAAAwJVWIlHICFgAAMCZViLRyApYAADAkVYjUcgMWAAIeQDMDzJPTRDsDAZjgAywEBjqaAGRJSdmhwKjeP8aUmZXDtFpeawPDaqrKsV5C4x9ldAK4C7rJbl8IBOFZBlPFkOoL4Ceozy01pXEcryCvE9RxGlqzX4VQFUeT1JBy8d4MajDsXDsDRgABHg3duBOGvGRwZjGdxsouV1KUuV0e6WM52qZKcrSBxsS4XN8tuvw0c7lIltaKCxI0n0xuIrV28rCYeV5BXiL1yK/1Ohy2tCwgAjCfTPkSXy7v9gD0NyAaGdh0xrZUBUeTY5B7AF9tt0cWzgDxD/HhNK7pTaVoxBskSG5vw5KJ7btGisUaWVleQONntCtHypSoeVJAHaPhdDld4ExBlPJkOIYLSyvFJiwOygQhGZLshOnkXEKWtQWlhQLwMhuJtQJS2BaVFAfE6GIr3AVHGk+kA4gcdnR6jtCAgDwDubV/I1JTOBESRg/lA3pybHnY0IM8Q550Wvgy+i+pcQOLkeZQAwFfLTTlwLCBPEKFo9VRtHZ0OiDKeTD/jvapY3WjbgYDsIE6+rprY2tN1DEiC7IKN5K3xgb2lgGwArCBCsbfRAFcxIDlkZRlChGWIBsYsDQXkGUAEEYqIlSIbA1KCrC5DeRvAQHfMUEB2ALYQoYhYJYpjQGqS51kG8tZHzW6ZhoBsAOwhArH1/TyFaQyIAbJrpgLTB6AeQ97PrDwnArIDoLpDW3l/L29bdpX0+z9OZTra7Ck1MgAAAABJRU5ErkJggg==" alt="Templates">
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s take a simple example, by modifying our first component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';

@Component({
  selector: 'ns-root',
  template: '&lt;h1&gt;PonyRacer&lt;/h1&gt;'
})
export class AppComponent {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we want to display some dynamic data on this first page, maybe the number
of users registered into our app. Later we&#8217;ll see how to get data from a server,
but for now we&#8217;ll say that this number of users is directly hard-coded in our
class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-root',
  template: '&lt;h1&gt;PonyRacer&lt;/h1&gt;'
})
export class AppComponent {
  numberOfUsers = 146;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, how do we change our template to display this variable?
The answer is interpolation.</p>
</div>
<div class="sect2">
<h3 id="_interpolation">9.1. Interpolation</h3>
<div class="paragraph">
<p>Interpolation is a big word for a simple concept.</p>
</div>
<div class="paragraph">
<p>Quick example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-root',
  template: `
    &lt;h1&gt;PonyRacer&lt;/h1&gt;
    &lt;h2&gt;{{ numberOfUsers }} users&lt;/h2&gt;
  `
})
export class AppComponent {
  numberOfUsers = 146;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We have an <code>AppComponent</code> component that will be activated every time Angular finds a
<code>&lt;ns-root&gt;</code> tag. The <code>AppComponent</code> class has a property, <code>numberOfUsers</code>.
And the template has been augmented with an <code>&lt;h2&gt;</code> tag,
using the famous double curly braces (a.k.a. "mustaches") to indicate that an expression has to be evaluated.
This kind of templating is called interpolation.</p>
</div>
<div class="paragraph">
<p>We should now see in the browser:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-root&gt;
  &lt;h1&gt;PonyRacer&lt;/h1&gt;
  &lt;h2&gt;146 users&lt;/h2&gt;
&lt;/ns-root&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>as <code>{{ numberOfUsers }}</code> will be replaced by its value.
When Angular detects a <code>&lt;ns-root&gt;</code> element in the page,
it creates an instance of the <code>AppComponent</code> class,
and this instance is the evaluation context of the template&#8217;s expressions.
Here the <code>AppComponent</code> instance sets the <code>numberOfUsers</code> property to '146',
so we have '146' displayed on screen.</p>
</div>
<div class="paragraph">
<p>The magic is that, whenever the value of <code>numberOfUsers</code> changes in our object,
the template will be automatically updated!
That&#8217;s called 'change detection', and it&#8217;s one of the great features of Angular.</p>
</div>
<div class="paragraph">
<p>One important fact to remember, though: if we try to display a variable that does not exist, then, instead of displaying
<code>undefined</code>, Angular is going to display an empty string.
The same will happen for a <code>null</code> variable.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say that, instead of a simple value,
our first component has a more complex <code>user</code> object, reflecting the current user.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-root',
  template: `
    &lt;h1&gt;PonyRacer&lt;/h1&gt;
    &lt;h2&gt;Welcome {{ user.name }}&lt;/h2&gt;
  `
})
export class AppComponent {
  user = { name: 'Cdric' };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, we can interpolate more complex expressions, like accessing the
property of an object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-root&gt;
  &lt;h1&gt;PonyRacer&lt;/h1&gt;
  &lt;h2&gt;Welcome Cdric&lt;/h2&gt;
&lt;/ns-root&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>What happens if we have a typo in our template, with a property that does not exist in the class?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-root',
  // typo: users is not user!
  template: `
    &lt;h1&gt;PonyRacer&lt;/h1&gt;
    &lt;h2&gt;Welcome {{ users.name }}&lt;/h2&gt;
  `
})
export class AppComponent {
  user = { name: 'Cdric' };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When loading the app, you will have an error, telling you that this property does not exist:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">Cannot read property 'name' of undefined in [{{ users.name }} in AppComponent]</code></pre>
</div>
</div>
<div class="paragraph">
<p>That&#8217;s great, because now you are quite sure that your templates are correct.
One of the most often encountered problem in AngularJS&#160;1.x was that this type of
error could not be detected, and you could lose quite some time trying to figure out
what was going on (usually a typo, like <code>{{ users.name }}</code> instead of <code>{{ user.name }}</code>).
We have given quite a few training sessions, and I can assure you that 30% of
beginners were having this problem on the first day. I got a bit tired of it,
and I even submitted a <a href="https://github.com/angular/angular.js/pull/6414">pull-request</a> to display a warning when the parser would
find an unknown variable, which was refused for valid reasons and with a comment
from the core team saying they had an idea on how to solve this in Angular. And they did!</p>
</div>
<div class="paragraph">
<p>One last little but handy feature.
What happens if my <code>user</code> object is in fact fetched from the server,
and thus initialized to <code>undefined</code> before being valued with the result of the server call?
Is there a way to avoid the errors when the template is compiled?</p>
</div>
<div class="paragraph">
<p>Yes, there is: instead of writing <code>user.name</code>, you write <code>user?.name</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-root',
  // user is undefined
  // but the ?. will avoid the error
  template: `
    &lt;h1&gt;PonyRacer&lt;/h1&gt;
    &lt;h2&gt;Welcome {{ user?.name }}&lt;/h2&gt;
  `
})
export class AppComponent {
  user: { name: string } | undefined;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And you don&#8217;t have errors anymore!
The <code>?.</code> is sometimes called the "Safe Navigation Operator".</p>
</div>
<div class="paragraph">
<p>So we can write our templates more safely, and be assured that they will behave properly.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s go back to our example. We are now displaying a greeting message.
Maybe we can go a step further and display the upcoming pony races.</p>
</div>
<div class="paragraph">
<p>That should lead us to write our second component. For now, we&#8217;ll just make it simple:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// in another file, races.component.ts
import { Component } from '@angular/core';

@Component({
  selector: 'ns-races',
  template: `&lt;h2&gt;Races&lt;/h2&gt;`
})
export class RacesComponent {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nothing fancy: a simple class, decorated with <code>@Component</code>
to give it a <code>selector</code> to match and an inline template.</p>
</div>
<div class="paragraph">
<p>Now we want to include this component in our <code>AppComponent</code> template.
What do we need to do?</p>
</div>
</div>
<div class="sect2">
<h3 id="_using_other_components_in_our_templates">9.2. Using other components in our templates</h3>
<div class="paragraph">
<p>We have our app component, <code>AppComponent</code>, where we want
to display the pony races component, <code>RacesComponent</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// in app.component.ts
import { Component } from '@angular/core';

@Component({
  selector: 'ns-root',
  // added the RacesComponent component
  template: `
    &lt;h1&gt;PonyRacer&lt;/h1&gt;
    &lt;ns-races&gt;&lt;/ns-races&gt;
  `
})
export class AppComponent {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, we added the <code>RacesComponent</code> component in the template, by including
a tag whose name matches the selector we defined for the component.</p>
</div>
<div class="paragraph">
<p>Buuuuuut, that will not work: your browser will not display the races component.</p>
</div>
<div class="paragraph">
<p>Why is that? The reason is simple: Angular doesn&#8217;t know about this <code>RacesComponent</code> yet.</p>
</div>
<div class="paragraph">
<p>But the fix is simple. Do you remember that we had to add <code>AppComponent</code> in the
<code>declarations</code> of the <code>@NgModule</code> decorator? Now, since we have a second component, it must be
declared, too.</p>
</div>
<div class="paragraph">
<p><code>RacesComponent</code> is not the root component of our application, so it must be in the declarations,
but not in the <code>bootstrap</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';

import { AppComponent } from './app.component';
// do not forget to import the component
import { RacesComponent } from './races.component';

@NgModule({
  imports: [BrowserModule],
  declarations: [AppComponent, RacesComponent],
  bootstrap: [AppComponent]
})
export class AppModule {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that you will pass the class directly, so you&#8217;ll have to import it.
And in order to be able import it, you need to export the class <code>RacesComponent</code> in its source file <code>races.component.ts</code>
(read the section about
<a href="#modules">ES2015 modules</a>
again if that&#8217;s not clear for you).
So <code>RacesComponent</code> will look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// in another file, races.component.ts
import { Component } from '@angular/core';

@Component({
  selector: 'ns-races',
  template: `&lt;h2&gt;Races&lt;/h2&gt;`
})
export class RacesComponent {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, our races component will proudly be displayed in our browser:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-root&gt;
  &lt;h1&gt;PonyRacer&lt;/h1&gt;
  &lt;ns-races&gt;
    &lt;h2&gt;Races&lt;/h2&gt;
  &lt;/ns-races&gt;
&lt;/ns-root&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_property_binding">9.3. Property binding</h3>
<div class="paragraph">
<p>Interpolation is only one of the ways to have dynamic parts in your template.</p>
</div>
<div class="paragraph">
<p>In fact, the interpolation we just saw is just an easy way to use what is the core
of Angular templating system: property binding.</p>
</div>
<div class="paragraph">
<p>In Angular, every DOM property can be written to
via special attributes on HTML elements surrounded with square brackets <code>[]</code>.
It looks weird at first, but in fact it is valid HTML (it surprised me too).
An HTML attribute can start with pretty much anything you want except a few characters
like quotes, apostrophes, slashes, equals, spaces&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>I&#8217;m talking about DOM properties, but maybe this is not clear for you. We usually
write to HTML attributes, right? Right, usually we do.
Let&#8217;s take this simple HTML:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input type="text" value="hello"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>input</code> tag above has two <em>attributes</em>: a <code>type</code> attribute and a <code>value</code> attribute.
When the browser parses this tag, it creates a corresponding DOM node
(an HTMLInputElement if we want to be accurate), which has the matching <em>properties</em>
<code>type</code> and <code>value</code>.
Each standard HTML attribute has a corresponding property in the DOM node.
But the DOM node also has additional properties, which don&#8217;t have a corresponding attribute.
For example: <code>childElementCount</code>, <code>innerHTML</code> or <code>textContent</code>.</p>
</div>
<div class="paragraph">
<p>The interpolation we had above to display the user&#8217;s name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ user.name }}&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>is just sugar syntax for the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p [textContent]="user.name"&gt;&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The square bracket syntax allows you to modify the DOM property <code>textContent</code>, and we give
it the value <code>user.name</code> which will be evaluated in the context of the current component instance,
as it was for the interpolation.</p>
</div>
<div class="paragraph">
<p>Note that the parser is case-sensitive, so you have to write the property name with the correct case:
<code>textcontent</code> or <code>TEXTCONTENT</code> will not work. It has to be <code>textContent</code>.</p>
</div>
<div class="paragraph">
<p>DOM properties have a great advantage over HTML attributes: they have up-to-date values.
In my input example, the <code>value</code> <em>attribute</em> will always contain 'hello', whereas the
<code>value</code> <em>property</em> of the DOM node is dynamically modified by the browser,
and thus contains whatever the user has entered in the text field.</p>
</div>
<div class="paragraph">
<p>Finally, properties can have boolean values, whereas some attributes can only
reflect it by being present or absent on the start tag. For example, you have the
<code>selected</code> attribute on the <code>&lt;option&gt;</code> tag: no matter what value you give it,
it will select the option, as long as it is present.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;option selected&gt;Rainbow Dash&lt;/option&gt;
&lt;option selected="false"&gt;Rainbow Dash&lt;/option&gt; &lt;!-- still selected --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>With properties access like Angular gives us, you can write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;option [selected]="isPonySelected" value="Rainbow Dash"&gt;Rainbow Dash&lt;/option&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And the pony will be selected if <code>isPonySelected</code> is <code>true</code>, and will not be selected if
it is <code>false</code>. And whenever the value of <code>isPoneySelected</code> changes, the selected property
will be updated.</p>
</div>
<div class="paragraph">
<p>You can do a lot of cool things with this, things that were cumbersome in AngularJS&#160;1.x.
For example, having a dynamic source URL for an image.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;img src="{{ pony.avatar.url }}"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This syntax has a major problem: the browser will try to fetch the image as soon
as it reads the <code>src</code> attribute. You can see that it will fail:
it will make an HTTP request to <code>{{ pony.avatar.url }}</code> which is not a valid URL&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>In AngularJS&#160;1.x, there was a special directive to take care of that: <code>ng-src</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;img ng-src="{{ pony.avatar.url }}"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Having <code>ng-src</code> instead of <code>src</code> did solve the problem, as it tricked the browser into ignoring it.
Once AngularJS had compiled the app, it added the <code>src</code> attribute with a correct
URL, hence triggering the image download.
Cool! But it had two downsides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>first, you had to know, as a developer, what value to give to <code>ng-src</code>.
Was it 'https://gravatar.com'? '"https://gravatar.com"'? 'pony.avatar.url'? '{{ pony.avatar.url }}'?
No way to know, except by reading the documentation.</p>
</li>
<li>
<p>second, the Angular team had to create a directive for each standard attribute.
They did, and we had to learn them.
But we are now in a world where your HTML can also contain external Web Components, looking like:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-pony name="Rainbow Dash"&gt;&lt;/ns-pony&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If this is a Web Component that you want to use, you have no easy way to pass a dynamic value
with most JS frameworks,
except if the developer of the Web Component had taken extra care to make it possible.
Read the chapter on
<a href="#web-components">Web Components</a>
for more information.</p>
</div>
<div class="paragraph">
<p>A Web component should act like a browser element.
They have a DOM API based on properties, events and methods. With Angular, you can do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-pony [name]="pony.name"&gt;&lt;/ns-pony&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And it works!</p>
</div>
<div class="paragraph">
<p>Angular will maintain the properties and attributes in sync.</p>
</div>
<div class="paragraph">
<p>No more directives to learn! If you wish to hide an element, you can use
the standard <code>hidden</code> property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div [hidden]="isHidden"&gt;Hidden or not&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And the <code>div</code> will be hidden only when <code>isHidden</code> is <code>true</code>,
as Angular will work directly with the <code>hidden</code> property.
No more <code>ng-hide</code>, and this is just one of the dozens of directives that were used in Angular 1.</p>
</div>
<div class="paragraph">
<p>You can also access nested properties like the <code>color</code> attribute of the <code>style</code> property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p [style.color]="foreground"&gt;Friendship is Magic&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the <code>foreground</code> attribute is changing to 'green', then the text will update
its color to 'green' too!</p>
</div>
<div class="paragraph">
<p>So Angular is using properties. Which values can we pass?
We already saw the interpolation <code>property="{{ expression }}"</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-pony name="{{ pony.name }}"&gt;&lt;/ns-pony&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>is the same as <code>[property]="expression"</code> (which you will usually prefer):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-pony [name]="pony.name"&gt;&lt;/ns-pony&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to write 'Pony' followed by the pony&#8217;s name, you have two options:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-pony name="Pony {{ pony.name }}"&gt;&lt;/ns-pony&gt;
&lt;ns-pony [name]="'Pony ' + pony.name"&gt;&lt;/ns-pony&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If your value is not a dynamic one, you can simply write <code>property="value"</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-pony name="Rainbow Dash"&gt;&lt;/ns-pony&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>All of these are equivalent, and the syntax doesn&#8217;t depend on how
the developer chose to design their component, as it was the case in AngularJS&#160;1.x
where you had to know if the component was expecting a value or a reference for example.</p>
</div>
<div class="paragraph">
<p>Of course, the expression can also contain function calls:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-pony name="{{ pony.fullName() }}"&gt;&lt;/ns-pony&gt;
&lt;ns-pony [name]="pony.fullName()"&gt;&lt;/ns-pony&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_events">9.4. Events</h3>
<div class="paragraph">
<p>If you&#8217;re developing a webapp, you know that displaying things is just one part of the job:
you also have to deal with user interactions.
To allow this, the browser fires events, which you can listen to: <code>click</code>, <code>keyup</code>, <code>mousemove</code>, etc.
AngularJS&#160;1.x had one directive per event:
<code>ng-click</code>, <code>ng-keyup</code>, <code>ng-mousemove</code>, etc. In Angular, this is simpler - no more
directives to remember.</p>
</div>
<div class="paragraph">
<p>Going back to our <code>RacesComponent</code>, we now want to have a button
that will display the races when clicked.</p>
</div>
<div class="paragraph">
<p>Reacting to an event can be done as follow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;button (click)="onButtonClick()"&gt;Click me!&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A click on the button of the example above will trigger a call to the component method
<code>onButtonClick()</code>.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s add this to our component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-races',
  template: `
    &lt;h2&gt;Races&lt;/h2&gt;
    &lt;button (click)="refreshRaces()"&gt;Refresh the races list&lt;/button&gt;
    &lt;p&gt;{{ races.length }} races&lt;/p&gt;
  `
})
export class RacesComponent {
  races: Array&lt;RaceModel&gt; = [];

  refreshRaces(): void {
    this.races = [{ name: 'London' }, { name: 'Lyon' }];
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you try this in your browser, you should initially see:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-root&gt;
  &lt;h1&gt;PonyRacer&lt;/h1&gt;
  &lt;ns-races&gt;
    &lt;h2&gt;Races&lt;/h2&gt;
    &lt;button (click)="refreshRaces()"&gt;Refresh the races list&lt;/button&gt;
    &lt;p&gt;0 races&lt;/p&gt;
  &lt;/ns-races&gt;
&lt;/ns-root&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And after your click, '0 races' should become '2 races'. Yay \o/</p>
</div>
<div class="paragraph">
<p>The statement can be a function call, but it can be any executable statement,
or even a sequence of executable statements, like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;button (click)="firstName = 'Cdric'; lastName = 'Exbrayat'"&gt;
  Click to change name to Cdric Exbrayat
&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>However I would not advise you to do this.
Using methods is a better way of encapsulating the behavior:
it makes your code easier to maintain and test, and it makes the view simpler.</p>
</div>
<div class="paragraph">
<p>The cool thing is that it works with standard DOM events,
but also with custom events that might fire from your Angular components
or from web components. We&#8217;ll see later how to fire custom events.</p>
</div>
<div class="paragraph">
<p>For the moment, let&#8217;s say the <code>RacesComponent</code> component
emits a custom event to notify the app that a new race is available.</p>
</div>
<div class="paragraph">
<p>Our template in the <code>AppComponent</code> component would then look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-root',
  template: `
    &lt;h1&gt;PonyRacer&lt;/h1&gt;
    &lt;ns-races (newRaceAvailable)="onNewRace()"&gt;&lt;/ns-races&gt;
  `
})
export class AppComponent {
  onNewRace(): void {
    // add a flashy message for the user.
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can easily figure out that the <code>&lt;ns-races&gt;</code> component
has a custom event <code>newRaceAvailable</code> and that, when this event is fired,
the method <code>onNewRace()</code> of our <code>AppComponent</code> is called.</p>
</div>
<div class="paragraph">
<p>Angular will listen for the event on the element and on its children,
so it will react to events that bubble. Consider the template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div (click)="onButtonClick()"&gt;
  &lt;button&gt;Click me!&lt;/button&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Even though the user clicks on the button embedded inside the div,
the <code>onButtonClick()</code> method will be called, because the event bubbles up.</p>
</div>
<div class="paragraph">
<p>Oh, and you can access the event in the method called!
You just have to pass <code>$event</code> to your method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div (click)="onButtonClick($event)"&gt;
  &lt;button&gt;Click me!&lt;/button&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can handle the event in your component class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">onButtonClick(event) {
  console.log(event);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, the event will continue to bubble up,
eventually triggering other event listeners up in the hierarchy.</p>
</div>
<div class="paragraph">
<p>You can use the event to prevent the default behavior
and/or cancel propagation if you want:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">onButtonClick(event) {
  event.preventDefault();
  event.stopPropagation();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>One cool feature is that you can also easily handle keyboard events with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;textarea (keydown.space)="onSpacePress()"&gt;Press space!&lt;/textarea&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Every time you will press the <kbd>space</kbd> key, the <code>onSpacePress()</code> method will be called.
And you can do a crazy combo, like <code>(keydown.alt.space)</code>, etc.</p>
</div>
<div class="paragraph">
<p>To conclude this part, I want to point out that there is a big difference between something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;component [property]="doSomething()"&gt;&lt;/component&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>and</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;component (event)="doSomething()"&gt;&lt;/component&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the first case, with property binding, the <code>doSomething()</code> value is called an expression,
and will be evaluated at each change detection cycle to see if the property needs to
be updated.</p>
</div>
<div class="paragraph">
<p>In the second case, however, with event binding, the <code>doSomething()</code> value
is called a statement, and will be evaluated <strong>only when the event is triggered</strong>.</p>
</div>
<div class="paragraph">
<p>By definition they have completely different goals and, as you might suspect, they have
different restrictions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_expressions_vs_statements">9.5. Expressions vs statements</h3>
<div class="paragraph">
<p>Expressions and statements differ in several ways.</p>
</div>
<div class="paragraph">
<p>An expression will be executed many times, as part of the change detection.
It should thus be as fast as possible.
Basically, an Angular expression is a simplified version of an expression you could write
in JavaScript.</p>
</div>
<div class="paragraph">
<p>If you are using <code>user.name</code> as an expression, <code>user</code> should be defined,
otherwise Angular will throw an error.</p>
</div>
<div class="paragraph">
<p>An expression must be single: you can&#8217;t chain several ones separated with a semi-colon.</p>
</div>
<div class="paragraph">
<p>An expression should not have any side effect.
That means it can&#8217;t be an assignment, for example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!-- forbidden, as the expression is an assignment --&gt;
&lt;!-- this will throw an error --&gt;
&lt;component [property]="user = 'Cdric'"&gt;&lt;/component&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It cannot contains keywords, like <code>if</code>, <code>var</code>, etc.</p>
</div>
<div class="paragraph">
<p>A statement, on the other hand, is triggered on the matching event.
If you try to use a statement like <code>race.show()</code> where <code>race</code> is <code>undefined</code>,
you will have an error.
You can chain several statements, separated with a semi-colon.
A statement can, and generally should, have side effects.
That&#8217;s the point of reacting to an event: to make something happen.
A statement can be a variable assignment, and can contain keywords.</p>
</div>
</div>
<div class="sect2">
<h3 id="local-variables">9.6. Local variables</h3>
<div class="paragraph">
<p>When I say that Angular will look in the component instance to find a variable,
it is not technically correct. In fact, it will check the component instance and the local
variables. Local variables are variables that you can dynamically declare in your
template using the <code>#</code> syntax.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say you want to display the value of an input:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input type="text" #name&gt;
{{ name.value }}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using the <code>#</code> syntax, we are creating a local variable <code>name</code> referencing the
DOM object <code>HTMLInputElement</code>. This local variable can be used anywhere in the template.
As it has a <code>value</code> property, we can display this property in an interpolated
expression. I&#8217;ll come back to this example later.</p>
</div>
<div class="paragraph">
<p>Another useful usage of local variables is when you want to execute some kind of action on another element.</p>
</div>
<div class="paragraph">
<p>For example, you may want to give the focus on an element when you click on a button.
This was a bit cumbersome in AngularJS&#160;1.x, as you had to create a custom directive and so on.</p>
</div>
<div class="paragraph">
<p>The <code>focus()</code> method is a standard part of the DOM API, and we can leverage this.
Using a local variable, it&#8217;s a no-brainer in Angular:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input type="text" #name&gt;
&lt;button (click)="name.focus()"&gt;Focus the input&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It can also be used with a custom component - one we created in our app,
imported from another project, or even with a real Web Component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;google-youtube #player&gt;&lt;/google-youtube&gt;

&lt;button (click)="player.play()"&gt;Play!&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here, the button can start playing the video of the <code>&lt;google-youtube&gt;</code> component.
This is actually a <a href="http://googlewebcomponents.github.io/google-youtube/components/google-youtube/">real Web Component</a>
written with <a href="https://www.polymer-project.org/1.0/">Polymer</a>!
This component has a <code>play()</code> method that Angular will call when you click on the button,
which is pretty cool!</p>
</div>
<div class="paragraph">
<p>Local variables have a few use cases, and we will gradually see them.
One of them is described in the very next section.</p>
</div>
</div>
<div class="sect2">
<h3 id="_structural_directives">9.7. Structural directives</h3>
<div class="paragraph">
<p>Now, our <code>RacesComponent</code> is still not displaying the races :)
The "proper way" in Angular would mean creating another component <code>RaceComponent</code>
to display each race. We are going to do something slightly simpler, and just
write a simple <code>&lt;ul&gt;&lt;li&gt;</code> list.</p>
</div>
<div class="paragraph">
<p>Property and event binding is great, but it does not let us change the DOM structure,
like iterating over a collection and adding an element per item.
To do so, we need to use <strong>structural directives</strong>.
A directive in Angular is really close to a component, but does not have a template.
It is used to add behavior to an element.</p>
</div>
<div class="paragraph">
<p>The structural directives provided by Angular rely on using a <code>ng-template</code> element,
inspired by the <code>template</code> standard tag of
the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template">HTML specification</a>.
It even used to be called <code>template</code> before version 4.0,
but it&#8217;s now deprecated, and you should use <code>ng-template</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ng-template&gt;
  &lt;div&gt;Races list&lt;/div&gt;
&lt;/ng-template&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we have defined a template, displaying a simple <code>div</code>.
Alone, it does not have much use, as the browser will not display it.
But if we add one 'template' element in a view, then Angular can use its content.
The structural directives have the ability to do simple actions with this content,
like displaying it or not, repeating it, etc.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s see which directives are available!</p>
</div>
<div class="sect3">
<h4 id="_ngif">9.7.1. NgIf</h4>
<div class="paragraph">
<p>We might want this template instantiated only if a condition is matched.
For this, we will use the directive <code>ngIf</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ng-template [ngIf]="races.length &gt; 0"&gt;
  &lt;div&gt;&lt;h2&gt;Races&lt;/h2&gt;&lt;/div&gt;
&lt;/ng-template&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The framework provides a few directives, like <code>ngIf</code>.
They come from the module we imported earlier: <code>BrowserModule</code>.
You can also define your own directives if needed:
we&#8217;ll come back to custom directives later.</p>
</div>
<div class="paragraph">
<p>Here, the template will be instantiated only if <code>races</code> has at least one element,
that is to say if there are races.
As this syntax is a bit long, there is a shorter version:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div *ngIf="races.length &gt; 0"&gt;&lt;h2&gt;Races&lt;/h2&gt;&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And you will always use this shorter version.</p>
</div>
<div class="paragraph">
<p>The syntax uses <code>*</code> to show it is a structural directive. The <code>ngIf</code> will or will not
display the <code>div</code> whenever the value of <code>races</code> changes:
if there are no more races, the <code>div</code> will disappear.</p>
</div>
<div class="paragraph">
<p>The directives provided by the framework are already pre-loaded for us
so we don&#8217;t need to import and declare <code>NgIf</code> in the <code>directives</code> attribute
of the <code>@Component</code> decorator.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { RaceModel } from './race.model';

@Component({
  selector: 'ns-races',
  template: `&lt;div *ngIf="races.length &gt; 0"&gt;&lt;h2&gt;Races&lt;/h2&gt;&lt;/div&gt;`
})
export class RacesComponent {
  races: Array&lt;RaceModel&gt; = [];
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s also possible to use an <code>else</code> syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { RaceModel } from './race.model';

@Component({
  selector: 'ns-races',
  template: `
    &lt;div *ngIf="races.length &gt; 0; else empty"&gt;&lt;h2&gt;Races&lt;/h2&gt;&lt;/div&gt;
    &lt;ng-template #empty&gt;&lt;h2&gt;No races.&lt;/h2&gt;&lt;/ng-template&gt;
  `
})
export class RacesComponent {
  races: Array&lt;RaceModel&gt; = [];
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ngfor">9.7.2. NgFor</h4>
<div class="paragraph">
<p>Working with real data will inevitably lead you to display a list of something.
That&#8217;s when <code>NgFor</code> proves very useful: it allows you to instantiate one template per item in
a collection. Our <code>RacesComponent</code> component contains a field <code>races</code> which,
as you can probably guess, is an array of races to display.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { RaceModel } from './race.model';

@Component({
  selector: 'ns-races',
  template: `
    &lt;div *ngIf="races.length &gt; 0"&gt;
      &lt;h2&gt;Races&lt;/h2&gt;
      &lt;ul&gt;
        &lt;li *ngFor="let race of races"&gt;{{ race.name }}&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  `
})
export class RacesComponent {
  races: Array&lt;RaceModel&gt; = [{ name: 'London' }, { name: 'Lyon' }];
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And now we have a beautiful list, with one <code>li</code> tag per item in our collection!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li&gt;London&lt;/li&gt;
  &lt;li&gt;Lyon&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that <code>NgFor</code> is using a particular syntax, called a microsyntax.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li *ngFor="let race of races"&gt;{{ race.name }}&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is possible to declare another local variable bound to the index of the
current element:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li *ngFor="let race of races; index as i"&gt;{{ i }} - {{ race.name }}&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The local variable <code>i</code> will receive the index of the current element,
starting at zero.
<code>index</code> is an exported variable.
Some directives export variables that you can then assign to a local variable
to be able to use them in your template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li&gt;0 - London&lt;/li&gt;
  &lt;li&gt;1 - Lyon&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are also other exported variables that can be useful:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>even</code>, a boolean that is true if the element has an even index</p>
</li>
<li>
<p><code>odd</code>, a boolean that is true if the element has an odd index</p>
</li>
<li>
<p><code>first</code>, a boolean that is true if the element is the first of the collection</p>
</li>
<li>
<p><code>last</code>, a boolean that is true if the element is the last of the collection</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_ngswitch">9.7.3. NgSwitch</h4>
<div class="paragraph">
<p>As you can guess from its name, this directive allows to switch between different
templates based on a condition.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div [ngSwitch]="messageCount"&gt;
  &lt;p *ngSwitchCase="0"&gt;You have no message&lt;/p&gt;
  &lt;p *ngSwitchCase="1"&gt;You have a message&lt;/p&gt;
  &lt;p *ngSwitchDefault&gt;You have some messages&lt;/p&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, <code>ngSwitch</code> takes a condition and the <code>*ngSwitchCase</code> take the possible values.
You can also have <code>*ngSwitchDefault</code> that will be displayed if none of the values matched.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_other_template_directives">9.8. Other template directives</h3>
<div class="paragraph">
<p>Two other directives can be useful when writing a template,
but they are not structural directives like the ones we just saw.
These directives are standard directives.</p>
</div>
<div class="sect3">
<h4 id="_ngstyle">9.8.1. NgStyle</h4>
<div class="paragraph">
<p>The first one is <code>ngStyle</code>.
We already saw that we can act on the style of an element using:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p [style.color]="foreground"&gt;Friendship is Magic&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you need to set several styles at the same time,
you can use the <code>ngStyle</code> directive:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div [ngStyle]="{fontWeight: fontWeight, color: color}"&gt;I've got style&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the directive expects an object whose keys are the styles to set.
The keys can either be in camelCase (<code>fontWeight</code>) or in dash-case (<code>'font-weight'</code>).</p>
</div>
</div>
<div class="sect3">
<h4 id="_ngclass">9.8.2. NgClass</h4>
<div class="paragraph">
<p>In the same spirit, the <code>ngClass</code> directive allows you
to add or remove classes dynamically on an element.</p>
</div>
<div class="paragraph">
<p>As for the style, you can either set a class using property binding:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div [class.awesome-div]="isAnAwesomeDiv()"&gt;I've got style&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or set several classes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div [class.awesome-div]="isAnAwesomeDiv()" [class.wonderful-div]="isAWonderfulDiv()"&gt;I've got style&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also use <code>ngClass</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div [ngClass]="{'awesome-div': isAnAwesomeDiv(), 'wonderful-div': isAWonderfulDiv()}"&gt;I've got style&lt;/div&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_summary">9.9. Summary</h3>
<div class="paragraph">
<p>The Angular templating system gives us a powerful syntax to express the dynamic
part of our HTML. It allows to express data and property binding, event binding and
templating concerns, in a clear way, each with their own symbols:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>{{}}</code> for interpolation</p>
</li>
<li>
<p><code>[]</code> for property binding</p>
</li>
<li>
<p><code>()</code> for event binding</p>
</li>
<li>
<p><code>#</code> for variable declaration</p>
</li>
<li>
<p><code>*</code> for structural directives</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It provides a way to interact with standard Web Components
like no other framework does. As there is no ambiguity between the various meanings,
we will see our tools and IDEs gradually improve to give us meaningful warnings on
what we are writing in our templates.</p>
</div>
<div class="paragraph">
<p>It takes some time to be fluent in this syntax,
but you will soon be up to speed, and then it&#8217;s easy to read and write.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s go through a complete example before moving on.</p>
</div>
<div class="paragraph">
<p>I want to write a <code>PoniesComponent</code> component, displaying a list of ponies.
Each pony should be represented by a <code>PonyComponent</code> component,
but we haven&#8217;t seen yet how to pass parameters to a component.
So, for now, we are going to display a simple list.
The list should be displayed only if it&#8217;s not empty,
and I&#8217;d like to have some color for the even lines of my list.
Finally, I want to be able to refresh the list with a button click.</p>
</div>
<div class="paragraph">
<p>Ready?</p>
</div>
<div class="paragraph">
<p>We start to write our component, in its own file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';

@Component({
  selector: 'ns-ponies',
  template: ``
})
export class PoniesComponent {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can add it to the <code>AppComponent</code> component we wrote in the previous chapter to test it.
You will have to import it, add it to the directives and insert the tag
<code>&lt;ns-ponies&gt;&lt;/ns-ponies&gt;</code> in the template.</p>
</div>
<div class="paragraph">
<p>Our new component has a list of ponies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { PonyModel } from '../pony.model';

@Component({
  selector: 'ns-ponies',
  template: ``
})
export class PoniesComponent {
  ponies: Array&lt;PonyModel&gt; = [{ name: 'Rainbow Dash' }, { name: 'Pinkie Pie' }];
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We are going to display this list, using <code>NgFor</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { PonyModel } from '../pony.model';

@Component({
  selector: 'ns-ponies',
  template: `
    &lt;ul&gt;
      &lt;li *ngFor="let pony of ponies"&gt;{{ pony.name }}&lt;/li&gt;
    &lt;/ul&gt;
  `
})
export class PoniesComponent {
  ponies: Array&lt;PonyModel&gt; = [{ name: 'Rainbow Dash' }, { name: 'Pinkie Pie' }];
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>One thing is missing, the refresh button:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { PonyModel } from '../pony.model';

@Component({
  selector: 'ns-ponies',
  template: `
    &lt;button (click)="refreshPonies()"&gt;Refresh&lt;/button&gt;
    &lt;ul&gt;
      &lt;li *ngFor="let pony of ponies"&gt;{{ pony.name }}&lt;/li&gt;
    &lt;/ul&gt;
  `
})
export class PoniesComponent {
  ponies: Array&lt;PonyModel&gt; = [{ name: 'Rainbow Dash' }, { name: 'Pinkie Pie' }];

  refreshPonies(): void {
    this.ponies = [{ name: 'Fluttershy' }, { name: 'Rarity' }];
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And of course, a touch of color to finish,
with the use of <code>[style.color]</code> and the <code>isEven</code> exported variable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { PonyModel } from '../pony.model';

@Component({
  selector: 'ns-ponies',
  template: `
    &lt;button (click)="refreshPonies()"&gt;Refresh&lt;/button&gt;
    &lt;ul&gt;
      &lt;li *ngFor="let pony of ponies; even as isEven" [style.color]="isEven ? 'green' : 'black'"&gt;
        {{ pony.name }}
      &lt;/li&gt;
    &lt;/ul&gt;
  `
})
export class PoniesComponent {
  ponies: Array&lt;PonyModel&gt; = [{ name: 'Rainbow Dash' }, { name: 'Pinkie Pie' }];

  refreshPonies(): void {
    this.ponies = [{ name: 'Fluttershy' }, { name: 'Rarity' }];
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, we have used all the range of the templating syntax,
and we have a perfectly working component.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Try our
<a href="https://angular-exercises.ninja-squad.com/exercises/1/quiz-templates">quiz</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Free" width="18"></span>
and the two exercises
<a href="https://angular-exercises.ninja-squad.com/exercises/2/templates">Templates</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Free" width="18"></span>
and
<a href="https://angular-exercises.ninja-squad.com/exercises/3/races-list">List of races</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Free" width="18"></span>!
They are free and part of our Pro Pack,
where you&#8217;ll learn how to build a complete application step by step.
The first one is all about building a small component,
a responsive menu, and play with its template.
The second guides you in building another component:
the list of races.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-components">10. Building components and directives</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_introduction">10.1. Introduction</h3>
<div class="paragraph">
<p>So far, we have seen some small components.
And of course, you can sense that, as they are the backbone of our apps,
they can be more complex than what we have seen.
How do we pass data? How do we manage the lifecycle of our component?
What is best practice building these things?</p>
</div>
<div class="paragraph">
<p>Directives: What do they do? Do they do things? Let&#8217;s find out!</p>
</div>
</div>
<div class="sect2">
<h3 id="_directives">10.2. Directives</h3>
<div class="paragraph">
<p>A directive is very much like a component, except it does not have a template.
In fact, the <code>Component</code> class inherits from the <code>Directive</code> class in the framework.</p>
</div>
<div class="paragraph">
<p>So it makes sense to start by studying directives, as everything we will see
regarding directives also applies to components.
We will look into the configuration options you are most likely to use.
The more advanced ones are in a later chapter,
ready for you when you master the basics.</p>
</div>
<div class="paragraph">
<p>As for a component, your directive will be annotated with a decorator,
but instead of <code>@Component</code>, it will be <code>@Directive</code>.</p>
</div>
<div class="paragraph">
<p>Directives are very small pieces.
You can think of them as decorators for your HTML: they will attach a behavior to elements in the DOM.
You can have multiple directives on the same element.</p>
</div>
<div class="paragraph">
<p>A directive must have a CSS selector, which indicates to the framework where to activate
it in our template.</p>
</div>
<div class="sect3">
<h4 id="_selectors">10.2.1. Selectors</h4>
<div class="paragraph">
<p>Selectors can be of various types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an element, as it&#8217;s usually the case for components: <code>footer</code>.</p>
</li>
<li>
<p>a class, not so frequent: <code>.alert</code>.</p>
</li>
<li>
<p>an attribute, the most frequent for directives: <code>[color]</code>.</p>
</li>
<li>
<p>an attribute with a specific value: <code>[color=red]</code>.</p>
</li>
<li>
<p>a combination of the above:
<code>footer[color=red]</code> matches an element named <code>footer</code> having an attribute <code>color</code> whose value is <code>red</code>.
<code>[color],footer.alert</code> matches any element having an attribute <code>color</code> or (<code>,</code>) any element named <code>footer</code> with the CSS class <code>alert</code>.
<code>footer:not(.alert)</code> matches any element named <code>footer</code> that does not (<code>:not()</code>) have the CSS class <code>alert</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, this is a very simple directive that does nothing but gets
activated if the attribute <code>doNothing</code> is on an element:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[doNothing]'
})
export class DoNothingDirective {
  constructor() {
    console.log('Do nothing directive');
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Such a directive will be activated in a component like this <code>TestComponent</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-test',
  template: '&lt;div doNothing&gt;Click me&lt;/div&gt;'
})
export class TestComponent {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A more complex selector could be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: 'div.loggable[logText]:not([notLoggable=true])'
})
export class ComplexSelectorDirective {
  constructor() {
    console.log('Complex selector directive');
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here it will match all <code>div</code> elements with a <code>loggable</code> class and a <code>logText</code>
attribute that don&#8217;t have an attribute <code>notLoggable</code> with a <code>true</code> value.</p>
</div>
<div class="paragraph">
<p>So this template will trigger the directive:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div class="loggable" logText="text"&gt;Hello&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>But this one will not:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div class="loggable" logText="text" notLoggable="true"&gt;Hello&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s be honest, though: if you are writing something like this,
there is something wrong! :)</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
CSS selector like descendants, siblings, ids, wildcards and pseudos
(other than <code>:not</code>) are not supported.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Great, we know how to declare a directive.
Let&#8217;s make one that actually does something.</p>
</div>
</div>
<div class="sect3">
<h4 id="_inputs">10.2.2. Inputs</h4>
<div class="paragraph">
<p>Data binding is usually a big part of the job of creating a component or a directive.
Every time you want a top component to pass data to one of its children,
you will use a property binding.</p>
</div>
<div class="paragraph">
<p>To do this, we will define all the properties that accept data binding,
using the <code>inputs</code> attribute of the <code>@Directive</code> decorator.
This attribute accepts an array of strings, each one of the form <code>property: binding</code>.
<code>property</code> represents the directive instance property and
<code>binding</code> is the DOM property that will contain the expression.</p>
</div>
<div class="paragraph">
<p>For example, this directive is binding the DOM property <code>logText</code> to the
directive instance property <code>text</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[loggable]',
  inputs: ['text: logText']
})
export class SimpleTextDirective {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the property does not exist in your directive, it is created for you.
Then, every time the input changes, the property is updated automatically.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div loggable logText="Some text"&gt;Hello&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to be notified when the property changes, you can add a setter to your directive.
The setter will be called every time the <code>logText</code> property changes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[loggable]',
  inputs: ['text: logText']
})
export class SimpleTextWithSetterDirective {
  set text(value: string) {
    console.log(value);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>So if we use it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div loggable logText="Some text"&gt;Hello&lt;/div&gt;
// our directive will log "Some text"</code></pre>
</div>
</div>
<div class="paragraph">
<p>There is also another way which we&#8217;ll see in a few minutes.</p>
</div>
<div class="paragraph">
<p>Here the text is static, but of course it could easily be a dynamic value,
with an interpolation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div loggable logText="{{ expression }}"&gt;Hello&lt;/div&gt;
// our directive will log the value of 'expression' in the component</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the square bracket syntax (which is usally preferred):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div loggable [logText]="expression"&gt;Hello&lt;/div&gt;
// our directive will log the value of 'expression' in the component</code></pre>
</div>
</div>
<div class="paragraph">
<p>That&#8217;s one of the greatest features of the new template syntax: as a component developer,
you don&#8217;t care how your component is used. You just define which properties are
bound (if you wrote some AngularJS&#160;1.x, you know it was slightly different
with all the '@' and '=' syntax).</p>
</div>
<div class="paragraph">
<p>You can also use pipes in your bindings:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div loggable [logText]="expression | uppercase"&gt;Hello&lt;/div&gt;
// our directive will log the value of 'expression' in the component in uppercase</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to bind a DOM property to an attribute of your directive
that has the same name, you can simply write <code>property</code> instead of <code>property: binding</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[loggable]',
  inputs: ['logText']
})
export class SameNameInputDirective {
  set logText(value: string) {
    console.log(value);
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div loggable logText="Hello"&gt;Hello&lt;/div&gt;
// our directive will log "Hello"</code></pre>
</div>
</div>
<div class="paragraph">
<p>There is another way to declare an input in your directive: with the <code>@Input</code> decorator.
I like it very much, and the official guide style also recommends using it,
so a lot of examples will use it from now on.</p>
</div>
<div class="paragraph">
<p>The examples above can be rewritten as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[loggable]'
})
export class InputDecoratorDirective {
  @Input('logText') text = '';
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>or, if the property and the binding have the same name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[loggable]'
})
export class SameNameInputDecoratorDirective {
  @Input() logText = '';
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>TypeScript does not allow to have an <code>@Input</code> field and a setter with the same name.
One way to fix it if you need a setter (you don&#8217;t always need it)
is to add the <code>@Input</code> decorator directly on the setter.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[loggable]'
})
export class InputDecoratorOnSetterDirective {
  @Input('logText')
  set text(value: string) {
    console.log(value);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>or, if the setter and the binding have the same name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[loggable]'
})
export class SameNameInputDecoratorOnSetterDirective {
  @Input()
  set logText(value: string) {
    console.log(value);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Inputs are great to pass data from a top element to a bottom element.
For example, if you want to have a component displaying a list of ponies,
it is very likely that you will have a top component containing the list,
and another component to display a pony.</p>
</div>
<div class="paragraph">
<p>Note that TypeScript may complain if you do not initialize your field
(if you have a <code>strict</code> setting in your <code>tsconfig</code> file).
I usually give a default value for my inputs,
or, if I can&#8217;t, add a <code>!</code> (a non-null assertion) after the field
to let TypeScript know that the field will be initialized
(for example, if the input is mandatory).
If the input is not mandatory, and we don&#8217;t have a default value,
then we need to mark the field as optional or nullable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-pony',
  template: `&lt;div&gt;{{ pony.name }}&lt;/div&gt;`
})
export class PonyComponent {
  @Input() pony!: PonyModel;
}

@Component({
  selector: 'ns-ponies',
  template: `
    &lt;div&gt;
      &lt;h2&gt;Ponies&lt;/h2&gt;
      // the pony is handed to PonyComponent via [pony]="currentPony"
      &lt;ns-pony *ngFor="let currentPony of ponies" [pony]="currentPony"&gt;&lt;/ns-pony&gt;
    &lt;/div&gt;
  `
})
export class PoniesComponent {
  ponies: Array&lt;PonyModel&gt; = [
    { id: 1, name: 'Rainbow Dash' },
    { id: 2, name: 'Pinkie Pie' }
  ];
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ok, now what about passing data up?
We can&#8217;t use properties to pass data from <code>PonyComponent</code> to <code>PoniesComponent</code>.
But we can use events!</p>
</div>
</div>
<div class="sect3">
<h4 id="_outputs">10.2.3. Outputs</h4>
<div class="paragraph">
<p>Let&#8217;s go back to our latest example, and say we want to be
able to select a pony by clicking on it, and inform the parent component.
For this, we will use a custom event.</p>
</div>
<div class="paragraph">
<p>This is important.
In Angular, data flows into a component via properties,
and flows out of a component via events.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMjUyJyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgMjAwIDI1Micgd2lkdGg9JzIwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMjUyJyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzIwMCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00zNS4wIDM1LjAgTDE1NS4wIDM1LjAgTDE1NS4wIDYzLjAgTDM1LjAgNjMuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J000NS4wIDEwNS4wIEwxMzUuMCAxMDUuMCBMMTM1LjAgMTMzLjAgTDQ1LjAgMTMzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNNDUuMCAxODkuMCBMMTI1LjAgMTg5LjAgTDEyNS4wIDIxNy4wIEw0NS4wIDIxNy4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM1LjAgMzUuMCBMMTU1LjAgMzUuMCBMMTU1LjAgNjMuMCBMMzUuMCA2My4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNDUuMCAxMDUuMCBMMTM1LjAgMTA1LjAgTDEzNS4wIDEzMy4wIEw0NS4wIDEzMy4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNDUuMCAxODkuMCBMMTI1LjAgMTg5LjAgTDEyNS4wIDIxNy4wIEw0NS4wIDIxNy4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNODAuMCA4NC4wIEw4NS4wIDk4LjAgTDkwLjAgODQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNODAuMCAxNjguMCBMODUuMCAxODIuMCBMOTAuMCAxNjguMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNODUuMCA2My4wIEw4NS4wIDkxLjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNODUuMCAxMzMuMCBMODUuMCAxNzUuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzUxJyB5PSc1NCc+PCFbQ0RBVEFbUG9ueVJhY2VyXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzEwNycgeT0nODInPjwhW0NEQVRBW1twb25pZXNdXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzYzJyB5PScxMjQnPjwhW0NEQVRBW1Bvbmllc11dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PScxMDMnIHk9JzE2Nic+PCFbQ0RBVEFbW3BvbnldXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE0JyBzdHJva2U9J25vbmUnIHg9JzcxJyB5PScyMDgnPjwhW0NEQVRBW1BvbnldXT48L3RleHQ+PC9nPjwvc3ZnPg==" alt="intro data flow" width="200" height="252">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMjUyJyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgMjIwIDI1Micgd2lkdGg9JzIyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMjUyJyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzIyMCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00zNS4wIDM1LjAgTDE1NS4wIDM1LjAgTDE1NS4wIDYzLjAgTDM1LjAgNjMuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J000NS4wIDEwNS4wIEwxMzUuMCAxMDUuMCBMMTM1LjAgMTMzLjAgTDQ1LjAgMTMzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNNDUuMCAxODkuMCBMMTI1LjAgMTg5LjAgTDEyNS4wIDIxNy4wIEw0NS4wIDIxNy4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM1LjAgMzUuMCBMMTU1LjAgMzUuMCBMMTU1LjAgNjMuMCBMMzUuMCA2My4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNDUuMCAxMDUuMCBMMTM1LjAgMTA1LjAgTDEzNS4wIDEzMy4wIEw0NS4wIDEzMy4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNDUuMCAxODkuMCBMMTI1LjAgMTg5LjAgTDEyNS4wIDIxNy4wIEw0NS4wIDIxNy4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNODUuMCA3MC4wIEw4MC4wIDg0LjAgTDkwLjAgODQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNODUuMCAxNDAuMCBMODAuMCAxNTQuMCBMOTAuMCAxNTQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNODUuMCA3Ny4wIEw4NS4wIDEwNS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTg1LjAgMTQ3LjAgTDg1LjAgMTg5LjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc1MScgeT0nNTQnPjwhW0NEQVRBW1BvbnlSYWNlcl1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc2MycgeT0nMTI0Jz48IVtDREFUQVtQb25pZXNdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nMTA5JyB5PScxNjYnPjwhW0NEQVRBWyhzZWxlY3RlZCldXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTQnIHN0cm9rZT0nbm9uZScgeD0nNzEnIHk9JzIwOCc+PCFbQ0RBVEFbUG9ueV1dPjwvdGV4dD48L2c+PC9zdmc+" alt="intro event flow" width="220" height="252">
</div>
</div>
<div class="paragraph">
<p>You remember the previous chapter on reactive programming?
Cool, that&#8217;s going to be useful!
Custom events are emitted using an <code>EventEmitter</code>,
and must be declared in the decorator, using the <code>outputs</code> attribute.
Like the <code>inputs</code> attribute, it accepts an array with the list
of events you want your directive/component to emit.
And, like the inputs, it&#8217;s better to use the <code>@Output()</code> decorator.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say we want to emit an event called <code>ponySelected</code>.
We have three things to do:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>declare the output in the decorator</p>
</li>
<li>
<p>create an <code>EventEmitter</code> (the Angular style guide recommends marking it <code>readonly</code>)</p>
</li>
<li>
<p>emit an event when the pony is selected</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-pony',
  // the method `selectPony()` will be called on click
  template: ` &lt;div (click)="selectPony()"&gt;{{ pony.name }}&lt;/div&gt; `
})
export class SelectablePonyComponent {
  @Input() pony!: PonyModel;

  // we declare the custom event as an output,
  // the EventEmitter is used to emit the event
  @Output() readonly ponySelected = new EventEmitter&lt;PonyModel&gt;();

  /**
   * Selects a pony when the component is clicked.
   * Emits a custom event.
   */
  selectPony(): void {
    this.ponySelected.emit(this.pony);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use it in the template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-pony [pony]="pony" (ponySelected)="betOnPony($event)"&gt;&lt;/ns-pony&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above example, every time the user clicks on the pony name,
it emits an event <code>ponySelected</code>, with the pony as a value
(the parameter of the <code>emit()</code> method).
The parent component is listening to this event, as you can see in the template,
and will call its <code>betOnPony</code> method with the value of the event <code>$event</code>.
<code>$event</code> is the syntax you have to use to access the event emitted:
here, it will be the emitted pony.</p>
</div>
<div class="paragraph">
<p>The parent component must then have a method <code>betOnPony()</code>,
which will be called with the selected pony:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">betOnPony(pony: PonyModel): void {
  // do something with the pony
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you wish, you can specify an event name different from the event emitter name,
with the syntax <code>emitter: event</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-pony',
  template: ` &lt;div (click)="selectPony()"&gt;{{ pony.name }}&lt;/div&gt; `
})
export class OtherSelectablePonyComponent {
  @Input() pony!: PonyModel;
  // the emitter is called `emitter`
  // and the event `ponySelected`
  @Output('ponySelected') readonly emitter = new EventEmitter&lt;PonyModel&gt;();

  selectPony(): void {
    this.emitter.emit(this.pony);
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_lifecycle">10.2.4. Lifecycle</h4>
<div class="paragraph">
<p>You may want your directive to react on a specific moment of its life.</p>
</div>
<div class="paragraph">
<p>This is quite advanced stuff, and you won&#8217;t need it every day, so I&#8217;ll go fast.</p>
</div>
<div class="paragraph">
<p>One thing is really important to understand though,
and you&#8217;ll save quite some time if you do:
<strong>the inputs of a component are not evaluated yet in its constructor</strong>.</p>
</div>
<div class="paragraph">
<p>That means that the following component will not work:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[undefinedInputs]'
})
export class UndefinedInputsDirective {
  @Input() pony!: string;

  constructor() {
    console.log(`inputs are ${this.pony}`);
    // will log "inputs are undefined", always
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to access the value of an input,
to load additional data from the server for example,
you have to use a lifecycle phase.</p>
</div>
<div class="paragraph">
<p>Several phases are available, and have their own specificity:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ngOnChanges</code> will be the first to be called when the value of a bound property changes.
It will receive a <code>changes</code> map, containing the current and previous values of the binding,
wrapped in a <code>SimpleChange</code>.
It will not be called if there is no change.</p>
</li>
<li>
<p><code>ngOnInit</code> will be called only once after the first change (whereas <code>ngOnChanges</code> is called on every change).
It makes this phase perfect for initialization work, as the name suggests.</p>
</li>
<li>
<p><code>ngOnDestroy</code> is called when the component is removed.
Really useful to do some cleanup.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Other phases are available, but are for more advanced use cases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ngDoCheck</code> is slightly different. If present it will be called at each change detection cycle,
overriding the default change detection algorithm, which looks for difference between every bound property value.
That means that if at least one input has changed, by default the component is considered changed by the framework,
and its children will be checked and rendered.
But you can override it if you know that some inputs have no effect even if they have changed.
That can be useful if you want to accelerate the change detection by just checking the bare minimum
and not using the default algorithm, but usually you will not use this.</p>
</li>
<li>
<p><code>ngAfterContentInit</code> is called when all the projected contents of the component have been checked for the first time.</p>
</li>
<li>
<p><code>ngAfterContentChecked</code> is called when all the projected contents of the component have been checked,
even if they haven&#8217;t changed.</p>
</li>
<li>
<p><code>ngAfterViewInit</code> is called when all the bindings of the template have been checked for the first time.</p>
</li>
<li>
<p><code>ngAfterViewChecked</code> is called when all the bindings of the template have been checked,
even if they haven&#8217;t changed.
It can be useful if your component or directive is waiting for an element to be available to do something with it,
like focusing it for example.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this sounds a bit hard to grasp, don&#8217;t worry: keep on reading,
and we&#8217;ll explain all this better in the
<a href="#advanced-components">Advanced components and directives chapter</a>
a little further.</p>
</div>
<div class="paragraph">
<p>Our previous sample will work better using <code>ngOnInit</code>.
Angular invokes the method <code>ngOnInit()</code> if it&#8217;s present,
so you just have to implement it in your directive.
If you are using TypeScript for your app, you can leverage the available
interface <code>OnInit</code> that forces you to implement the method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[initDirective]'
})
export class OnInitDirective implements OnInit {
  @Input() pony!: string;

  ngOnInit(): void {
    console.log(`inputs are ${this.pony}`);
    // inputs are not undefined \o/
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we have access to our inputs!</p>
</div>
<div class="paragraph">
<p>If you want to do something every time a property changes, use <code>ngOnChanges</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[changeDirective]'
})
export class OnChangesDirective implements OnChanges {
  @Input() pony!: string;

  ngOnChanges(changes: SimpleChanges): void {
    const ponyValue = changes['pony'];
    console.log(`changed from ${ponyValue.previousValue} to ${ponyValue.currentValue}`);
    console.log(`is it the first change? ${ponyValue.isFirstChange()}`);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>changes</code> parameter is a map, with the binding names as keys,
and a <code>SimpleChange</code> object with two attributes (the previous and the current value) as value,
as well as a method <code>isFirstChange()</code> to know if it is&#8230;&#8203; the first change!</p>
</div>
<div class="paragraph">
<p>You can also use a setter if you want to react only on the change
of one of your bindings.
The following example will produce the same output as the previous one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[setterDirective]'
})
export class SetterDirective {
  private ponyModel!: string;

  @Input()
  set pony(newPony: string) {
    console.log(`changed from ${this.ponyModel} to ${newPony}`);
    this.ponyModel = newPony;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>ngOnChanges</code> is more useful if you need to watch several bindings at the same time.
It will only be invoked if at least one binding has changed
and will contain only the properties that have changed.</p>
</div>
<div class="paragraph">
<p>The <code>ngOnDestroy</code> phase is perfect to clean the component -
for example, to cancel background tasks.
Here, the <code>OnDestroyDirective</code> is logging "hello" every second when it is created.
When the component is removed from the page, you want to stop the <code>setInterval</code>
to avoid a memory leak:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[destroyDirective]'
})
export class OnDestroyDirective implements OnDestroy {
  sayHello: number;

  constructor() {
    this.sayHello = window.setInterval(() =&gt; console.log('hello'), 1000);
  }

  ngOnDestroy(): void {
    window.clearInterval(this.sayHello);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you don&#8217;t do this, you will have the thread logging "hello" until the end
or the crash&#8230;&#8203;</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_components">10.3. Components</h3>
<div class="paragraph">
<p>A component is not really different from a directive:
it just has two more optional attributes and <strong>must</strong> have an associated view.
It does not bring a lot of new attributes compared to the directive.</p>
</div>
<div class="sect3">
<h4 id="_template_template_url">10.3.1. Template / Template URL</h4>
<div class="paragraph">
<p>The main feature of a <code>@Component</code> is to have a template, whereas a directive does not have one.
You can either declare your template inline, using <code>template</code> or
use a URL to put it in a separate file with <code>templateURL</code>
(but you can&#8217;t do both at the same time).</p>
</div>
<div class="paragraph">
<p>As a rule of thumb, if your template is small (1-2 lines),
it&#8217;s perfectly fine to keep it inline.
When it starts to grow, move it to its own file to avoid cluttering
your component.</p>
</div>
</div>
<div class="sect3">
<h4 id="_styles_styles_url">10.3.2. Styles / Styles URL</h4>
<div class="paragraph">
<p>You can also specify the styles of your component.
It is particularly  useful if you plan to have really isolated components.
You can specify this using <code>styles</code> or <code>styleUrls</code>.</p>
</div>
<div class="paragraph">
<p>As you can see below, the <code>styles</code> attribute takes an array of CSS rules as
a string. You can imagine it grows pretty quickly, so using a separate file
and <code>styleUrls</code> is a good idea.
As the name of the latter suggests, you can specify an array of URLs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-styled-pony',
  template: '&lt;div class="pony"&gt;{{ pony.name }}&lt;/div&gt;',
  styles: ['.pony{ color: red; }']
})
export class StyledPonyComponent {
  @Input() pony: any;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_declarations">10.3.3. Declarations</h4>
<div class="paragraph">
<p>Remember that you have to declare every directive and component you are using in the <code>declarations</code> of your <code>@NgModule</code>.
If you don&#8217;t, your component will not be picked up in the template,
and you will waste a lot of time figuring out why.</p>
</div>
<div class="paragraph">
<p>The two most common mistakes are <strong>forgetting to declare the directive</strong>
and <strong>using the wrong selector</strong>.
If you don&#8217;t understand why nothing happens, look out for these!</p>
</div>
<div class="paragraph">
<p>We have left a few things out for now, like the queries, change detection,
exports, encapsulation options, etc.
As they are more advanced options, you won&#8217;t need them immediately;
but don&#8217;t worry, we&#8217;ll see them soon in an advanced chapter!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Try our exercises
<a href="https://angular-exercises.ninja-squad.com/exercises/4/race-detail">Race detail</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
and
<a href="https://angular-exercises.ninja-squad.com/exercises/5/pony-component">Pony component</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>!
These exercises will guide you in building two more advanced components,
with inputs and outputs.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styles">11. Styling components and encapsulation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s stop to talk about styles and CSS for a minute.
I know right? Why talk about freaking CSS?</p>
</div>
<div class="paragraph">
<p>Well because Angular is doing a lot of things
for us behind the scenes.</p>
</div>
<div class="paragraph">
<p>As a Web developer, you often add CSS classes to elements.
And the essence of CSS is that it will <em>cascade</em>.
That&#8217;s sometimes what you want (to change the font everywhere in your app for example), or sometimes not.
Imagine you want to add a style on a selected element in a list:
you will usually use a very narrow CSS selector in your CSS, like <code>li.selected</code>.
Or an even narrower one, using conventions like <a href="https://en.bem.info/methodology/css/">BEM</a>,
because you just want to style the selected element in a specific part of your app.</p>
</div>
<div class="paragraph">
<p>That&#8217;s where Angular can be useful.
The styles you define in a component (either with the <code>styles</code> attribute,
or in a dedicated CSS file for the component with <code>styleUrls</code>),
are scoped by Angular to this component and only this one.
That&#8217;s called style encapsulation.
How does it achieve this?</p>
</div>
<div class="paragraph">
<p>It starts with you writing some styles.
Then it depends on the strategy you select for the attribute <code>encapsulation</code>
of the component decorator. This attribute can have three different values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ViewEncapsulation.Emulated</code>, which is the default one</p>
</li>
<li>
<p><code>ViewEncapsulation.Native</code>, which relies on Shadow DOM v0
(first version of the specification, now deprecated)</p>
</li>
<li>
<p><code>ViewEncapsulation.ShadowDom</code>, which relies on Shadow DOM v1
(new option introduced in Angular&#160;6.1, to support the new Shadow DOM specification)</p>
</li>
<li>
<p><code>ViewEncapsulation.None</code>, which means you don&#8217;t want encapsulation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each value will induce a different behavior of course, so let&#8217;s have a look.
We&#8217;ll take a component you&#8217;re starting to know well, i.e. our <code>PonyComponent</code>.
This is a really simple version of the component,
only displaying the pony&#8217;s name in a <code>div</code>.
For the purpose of the example, we add a CSS class <code>red</code> to this <code>div</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component, ViewEncapsulation } from '@angular/core';

@Component({
  selector: 'ns-pony',
  template: `&lt;div class="red"&gt;{{ name }}&lt;/div&gt;`,
  styles: [
    `
      .red {
        color: red;
      }
    `
  ],
  // that's the same as the default mode
  encapsulation: ViewEncapsulation.Emulated
})
export class PonyComponent {
  name = 'Rainbow Dash';
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This class is then used in the styles of the component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="css">.red {
  color: red;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, we want to display the pony&#8217;s name in a red font.</p>
</div>
<div class="sect2">
<h3 id="_shadow_dom_strategy">11.1. Shadow DOM strategy</h3>
<div class="paragraph">
<p>If you use the <code>ShadowDom</code> option,
you&#8217;re telling Angular to use the Shadow DOM
of your browser to take care of the encapsulation.
The Shadow DOM is a part of the rather new Web Component specification.
This specification allows you to create elements in a special DOM,
which is perfectly encapsulated.
With this strategy, if we look at the generated DOM with our browser&#8217;s inspector, we&#8217;ll see:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-pony&gt;
  #shadow-root (open)
    &lt;style&gt;.red {color: red}&lt;/style&gt;
    &lt;div class="red"&gt;Rainbow Dash&lt;/div&gt;
&lt;/ns-pony&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can spot the <code>#shadow-root (open)</code> that Chrome will display in the inspector:
that&#8217;s because our component has been included in a Shadow DOM element!
And we can also see that the style was added at the top of our component&#8217;s content.</p>
</div>
<div class="paragraph">
<p>With the <code>ShadowDom</code> strategy, you are sure that your component&#8217;s styles
are not "bleeding" into your child components.
If we have another component inside the <code>PonyComponent</code>,
it can also define its own <code>red</code> CSS class with a different style:
you are sure that the correct one will be used, with no interaction
between each others!</p>
</div>
<div class="paragraph">
<p>But remember, Shadow DOM is a rather new specification, so it&#8217;s not available in every browser.
You can check the availability on the awesome website <a href="http://caniuse.com/#feat=shadowdomv1">caniuse.com</a>.
So be careful when you use it in your apps!</p>
</div>
</div>
<div class="sect2">
<h3 id="_emulated_strategy">11.2. Emulated strategy</h3>
<div class="paragraph">
<p>As said earlier, this is the default strategy.
And the reason is really simple:
it emulates (hence the name) the <code>ShadowDom</code> strategy,
but without using the Shadow DOM.
So it&#8217;s safe to use everywhere, and will have the same behavior.</p>
</div>
<div class="paragraph">
<p>To achieve that, Angular will take the CSS defined for the component,
and inline it inside the <code>&lt;head&gt;</code> element of the page (and not in each component as we saw for the <code>ShadowDom</code> strategy).
But before inlining it, it&#8217;s going to rewrite the CSS selector,
to append a unique attribute identifier.
This unique attribute is then added to all the elements of our component&#8217;s template!
That way the style will only apply to our component.
The same example, would now give:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;html&gt;
  &lt;head&gt;
    &lt;style&gt;.red[_ngcontent-dvb-3] {color: red}&lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    ...
    &lt;ns-pony _ngcontent-dvb-2="" _nghost-dvb-3=""&gt;
      &lt;div _ngcontent-dvb-3="" class="red"&gt;Rainbow Dash&lt;/div&gt;
    &lt;/ns-pony&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>red</code> class selector has been rewritten to <code>.red[_ngcontent-dvb-3]</code>,
so it will only apply on elements that have both the class <code>red</code> and
the attribute <code>_ngcontent-dvb-3</code>.
You can see that this attribute has also been added to our <code>div</code> automatically,
so that works perfectly. The <code>&lt;ns-pony&gt;</code> element also has a few attributes:
<code>_ngcontent-dvb-2</code> which is the unique identifier generated for its parent,
and <code>_nghost-dvb-3</code> which is a unique identifier for the host element itself.
Yes, we can also add styles that apply on the host element,
as we&#8217;ll see shortly.</p>
</div>
</div>
<div class="sect2">
<h3 id="_none_strategy">11.3. None strategy</h3>
<div class="paragraph">
<p>This strategy is not doing any encapsulation.
The styles will be inlined at the top of the page
(as for the <code>Emulated</code> strategy), but not rewritten.
They then behave like "normal" styles, cascading into children.</p>
</div>
</div>
<div class="sect2">
<h3 id="_styling_the_host">11.4. Styling the host</h3>
<div class="paragraph">
<p>A special CSS selector exists to style only the host element.
It is called <code>:host</code>, and it comes from the Web Component specification:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="css">:host {
  display: block;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>It will be kept as is for the <code>ShadowDom</code> strategy
and rewritten into <code>[_nghost-xxx]</code> if you use <code>Emulated</code>.</p>
</div>
<div class="paragraph">
<p>To conclude, you don&#8217;t have to do much to have perfectly encapsulated styles,
because the <code>Emulated</code> strategy takes care of this business for us.
You can switch the strategy to use the <code>ShadowDom</code> one if you target only specific browsers,
or <code>None</code> if you don&#8217;t want to encapsulate styles.
This strategy can be tweaked per component,
or globally for your whole app in the root module.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipes">12. Pipes</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_pied_piper">12.1. Pied piper</h3>
<div class="paragraph">
<p>Sometimes the raw data is not what we want to display in the view.
We often want to transform it, filter it, limit its number, etc.
AngularJS&#160;1.x had a very handy feature to do this, very badly named 'filters'.
Lessons have been learned and now these data transformers have a meaningful name!
Nah, I&#8217;m just kidding, they are called 'pipes' :).</p>
</div>
<div class="paragraph">
<p>Let&#8217;s take an example and see how we can use it.</p>
</div>
</div>
<div class="sect2">
<h3 id="_json">12.2. json</h3>
<div class="paragraph">
<p>A pipe that is not really useful in a production app, but very handy when you
are debugging your app, is <code>JsonPipe</code>.
Basically, this pipe applies <code>JSON.stringify()</code> to your data.
If you have some data in your component, an array of ponies called <code>ponies</code>,
for example, and you want to quickly see what&#8217;s inside, you may want to try
something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ ponies }}&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tough luck, it&#8217;s going to display <code>[object Object]</code>&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>But <code>JsonPipe</code> is here to rescue us.
You can use it in your HTML, in any expression:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ ponies | json }}&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And it will display the JSON representation of your object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;[ { "name": "Rainbow Dash" }, { "name": "Pinkie Pie" } ]&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see where the name 'pipe' is coming from. To use a pipe, you have to add a
pipe (<code>|</code>) character after your data, and then the name of the pipe you want to use.
The expression is evaluated and the result goes through the pipe.
It&#8217;s possible to chain several pipes, one after another, like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ ponies | slice:0:2 | json }}&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We&#8217;ll come back to the <code>slice</code> pipe, but you can see that we are chaining
the <code>slice</code> pipe and then the <code>json</code> one.</p>
</div>
<div class="paragraph">
<p>You can use it in an interpolation expression or in a property expression,
but <strong>not</strong> in an event statement.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p [textContent]="ponies | json"&gt;&lt;/p&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_slice">12.3. slice</h3>
<div class="paragraph">
<p>If you want to display just a part of a list, <code>slice</code> is your friend.
It works like the <code>slice</code> method in JavaScript, and takes two arguments:
a start index and, optionally, an end index.</p>
</div>
<div class="paragraph">
<p>To pass an argument to a pipe, you have to add a colon <code>:</code>, then the first
argument, then possibly, another colon and the second argument etc.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ ponies | slice:0:2 | json }}&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This example will display the first two elements of my list of ponies.</p>
</div>
<div class="paragraph">
<p><code>slice</code> works with arrays and strings, so you can also truncate a string:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ 'Ninja Squad' | slice:0:5 }}&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>and that will display only 'Ninja'.</p>
</div>
<div class="paragraph">
<p>You can give the <code>slice</code> pipe only one index n, and it will take the
elements from n to the end.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ 'Ninja Squad' | slice:3 }}&lt;/p&gt;
&lt;!-- will display 'ja Squad' --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you give it a negative integer, it will take the n
<strong>last</strong> elements.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ 'Ninja Squad' | slice:-5 }}&lt;/p&gt;
&lt;!-- will display 'Squad' --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>As we saw, you can also give the pipe an end index: it will take the elements until
this index.
If this index is negative, it will take the elements until the index,
but starting from the end.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ 'Ninja Squad' | slice:2:-2 }}&lt;/p&gt;
&lt;!-- will display 'nja Squ' --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can use <code>slice</code> in any expression, you can use it even with <code>NgFor</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';

@Component({
  selector: 'ns-ponies',
  template: `&lt;div *ngFor="let pony of ponies | slice : 0 : 2"&gt;{{ pony.name }}&lt;/div&gt;`
})
export class PoniesComponent {
  ponies: Array&lt;PonyModel&gt; = [{ name: 'Rainbow Dash' }, { name: 'Pinkie Pie' }, { name: 'Fluttershy' }];
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The component will create only two <code>div</code> elements here, for the first two ponies,
as we have applied the <code>slice</code> pipe to the collection.</p>
</div>
<div class="paragraph">
<p>The pipe argument can of course be a dynamic value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';

@Component({
  selector: 'ns-ponies',
  template: `&lt;div *ngFor="let pony of ponies | slice : 0 : size"&gt;{{ pony.name }}&lt;/div&gt;`
})
export class PoniesComponent {
  size = 2;
  ponies = [{ name: 'Rainbow Dash' }, { name: 'Pinkie Pie' }, { name: 'Fluttershy' }];
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use this to create a dynamic display where your user chooses how
many elements she/he wants to see.</p>
</div>
<div class="paragraph">
<p>Note that it&#8217;s also possible to store the result of the <code>slice</code> in a variable,
using the <code>as</code> syntax introduced in 4.0:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';

@Component({
  selector: 'ns-ponies',
  template: `
    &lt;div *ngFor="let pony of ponies | slice : 0 : 2 as total; index as i"&gt;
      {{ i + 1 }}/{{ total.length }}: {{ pony.name }}
    &lt;/div&gt;
  `
})
export class PoniesComponent {
  ponies: Array&lt;PonyModel&gt; = [{ name: 'Rainbow Dash' }, { name: 'Pinkie Pie' }, { name: 'Fluttershy' }];
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_keyvalue">12.4. keyvalue</h3>
<div class="paragraph">
<p>This pipe, introduced in Angular&#160;6.1,
allows you to iterate over a Map or an object,
and to display the keys/values in our templates.</p>
</div>
<div class="paragraph">
<p>Note that it orders the keys:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>first lexicographically if they are both strings</p>
</li>
<li>
<p>then by their value if they are both numbers</p>
</li>
<li>
<p>then by their boolean value if they are both booleans (<code>false</code> before <code>true</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>And if the keys have different types,
they will be cast to strings and then compared.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-ponies',
  template: `
    &lt;ul&gt;
      &lt;!-- entry contains { key: number, value: PonyModel } --&gt;
      &lt;li *ngFor="let entry of ponies | keyvalue"&gt;{{ entry.key }} - {{ entry.value.name }}&lt;/li&gt;
    &lt;/ul&gt;
  `
})
export class PoniesComponent {
  ponies = new Map&lt;number, PonyModel&gt;();

  constructor() {
    this.ponies.set(103, { name: 'Rainbow Dash' });
    this.ponies.set(56, { name: 'Pinkie Pie' });
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you have <code>null</code> or <code>undefined</code> keys,
they will be displayed at the end.</p>
</div>
<div class="paragraph">
<p>It&#8217;s also possible to define your own comparator function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-ponies',
  template: `
    &lt;ul&gt;
      &lt;!-- entry contains { key: PonyModel, value: number } --&gt;
      &lt;li *ngFor="let entry of poniesWithScore | keyvalue : ponyComparator"&gt;
        {{ entry.key.name }} - {{ entry.value }}
      &lt;/li&gt;
    &lt;/ul&gt;
  `
})
export class PoniesComponent {
  poniesWithScore = new Map&lt;PonyModel, number&gt;();

  constructor() {
    this.poniesWithScore.set({ name: 'Rainbow Dash' }, 430);
    this.poniesWithScore.set({ name: 'Rainbow Dash' }, 680);
    this.poniesWithScore.set({ name: 'Pinkie Pie' }, 125);
  }

  /*
   * Defines a custom comparator to order the elements by the name of the PonyModel (the key)
   */
  ponyComparator(a: KeyValue&lt;PonyModel, number&gt;, b: KeyValue&lt;PonyModel, number&gt;): -1 | 0 | 1 {
    if (a.key.name === b.key.name) {
      return 0;
    }
    return a.key.name &lt; b.key.name ? -1 : 1;
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_uppercase">12.5. uppercase</h3>
<div class="paragraph">
<p>As its name makes it clear enough, this pipe transforms a string
into its uppercase version:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ 'Ninja Squad' | uppercase }}&lt;/p&gt;
&lt;!-- will display 'NINJA SQUAD' --&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_lowercase">12.6. lowercase</h3>
<div class="paragraph">
<p>The counterpart of the previous one, this pipe transforms a string
into its lowercase version:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ 'Ninja Squad' | lowercase }}&lt;/p&gt;
&lt;!-- will display 'ninja squad' --&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_titlecase">12.7. titlecase</h3>
<div class="paragraph">
<p>Angular&#160;4 introduced a new <code>titlecase</code> pipe.
It capitalizes the first letter of all words:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ 'ninja squad' | titlecase }}&lt;/p&gt;
&lt;!-- will display 'Ninja Squad' --&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_number">12.8. number</h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The following pipes (<code>number</code>, <code>percent</code>, <code>currency</code>, <code>date</code>) can help with internationalization.
They have been completely overhauled in Angular&#160;5.0,
and don&#8217;t use the Intl API of the browsers anymore (it caused numerous bugs).
The Angular team has now implemented the internationalization logic themselves.
The following examples use the new implementation of the pipes, which comes with Angular&#160;5,
without diving into the internationalization details,
as they are covered in a
<a href="#internationalization">chapter</a>
at the end of the book.
The examples also use the default locale of Angular, <code>en-US</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This pipe lets you format a number.</p>
</div>
<div class="paragraph">
<p>It takes one parameter, a string, formatted as <code>{integerDigits}.{minFractionDigits}-{maxFractionDigits}</code>,
but every part is optional.
Each part indicates:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>how many numbers you want in the integer part</p>
</li>
<li>
<p>how many numbers you want at least in the decimal part</p>
</li>
<li>
<p>how many numbers you want at most in the decimal part</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A few examples, starting with what we have with no pipe:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ 12345 }}&lt;/p&gt;
&lt;!-- will display '12345' --&gt;
&lt;p&gt;{{ 12345 }}&lt;/p&gt;
&lt;!-- will display '12345' --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using the <code>number</code> pipe will group the integer part, even with no digits required:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ 12345 | number }}&lt;/p&gt;
&lt;!-- will display '12,345' --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>integerDigits</code> parameter will left-pad the integer part with zeros if needed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ 12345 | number:'6.' }}&lt;/p&gt;
&lt;!-- will display '012,345' --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>minFractionDigits</code> is the minimum size of the decimal part, so it will
pad zeros on the right until reached:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ 12345 | number:'.2' }}&lt;/p&gt;
&lt;!-- will display '12,345.00' --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>maxFractionDigits</code> is the maximum size of the decimal part.
You have to specify a <code>minFractionDigits</code>, even at 0, if you want to use it.
If the number has more decimals than that, then it is rounded:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ 12345.13 | number:'.1-1' }}&lt;/p&gt;
&lt;!-- will display '12,345.1' --&gt;

&lt;p&gt;{{ 12345.16 | number:'.1-1' }}&lt;/p&gt;
&lt;!-- will display '12,345.2' --&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_percent">12.9. percent</h3>
<div class="paragraph">
<p>Based on the same principle as <code>number</code>, <code>percent</code> lets you display&#8230;&#8203; a percentage!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ 0.8 | percent }}&lt;/p&gt;
&lt;!-- will display '80%' --&gt;

&lt;p&gt;{{ 0.8 | percent:'.3' }}&lt;/p&gt;
&lt;!-- will display '80.000%' --&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_currency">12.10. currency</h3>
<div class="paragraph">
<p>As you can imagine, this pipe lets you format an amount of money in the
currency you want.
You have to give it at least one parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the ISO string representing the currency ('EUR', 'USD'&#8230;&#8203;)</p>
</li>
<li>
<p>optionally, an option to say if you want to use the symbol ('', '$', CA$') with <code>'symbol'</code> or the ISO code with <code>'code'</code>,
or even the narrow symbol with <code>'symbol-narrow'</code>.
The narrow symbol is for example <code>$</code>, when the symbol is <code>CA$</code> for Canadian dollars.
The default value of this option is <code>'symbol'</code>.</p>
</li>
<li>
<p>optionally also, a string to format the amount, using the same syntax as <code>number</code>.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ 10.6 | currency:'CAD' }}&lt;/p&gt;
&lt;!-- will display 'CA$10.60' --&gt;

&lt;p&gt;{{ 10.6 | currency:'CAD':'symbol-narrow' }}&lt;/p&gt;
&lt;!-- will display '$10.60' --&gt;

&lt;p&gt;{{ 10.6 | currency:'EUR':'code':'.3' }}&lt;/p&gt;
&lt;!-- will display 'EUR10.600' --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you don&#8217;t provide the ISO string representing the currency,
then <code>USD</code> is used,
unless you configure it globally (since Angular&#160;9).
Check the
<a href="#internationalization">Internationalization chapter</a>
if you want to learn how.</p>
</div>
<div class="paragraph">
<p>This pipe is way more powerful than what you might expect:
it relies on the ISO 4217 specification to determine the number of digits in the decimal part.
For example, formatting an amount in Chilean pesos results in an amount with no digits
(as pesos don&#8217;t have cents),
whereas formatting an amount in Tunisian dinars results in an amount with 3 digits
(as it has millimes).</p>
</div>
</div>
<div class="sect2">
<h3 id="_date">12.11. date</h3>
<div class="paragraph">
<p>The <code>date</code> pipe formats a date value to a string of the desired format.
The date can be a <code>Date</code> object or a number of milliseconds.
The format specified can be either a pattern like 'dd/MM/yyyy', 'MM-yy' or one of
the predefined symbolic names available like 'short', 'longDate', etc.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ birthday | date:'dd/MM/yyyy' }}&lt;/p&gt;
&lt;!-- will display '16/07/1986' --&gt;

&lt;p&gt;{{ birthday | date:'longDate' }}&lt;/p&gt;
&lt;!-- will display 'July 16, 1986' --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course, you can also display the time portion of the date:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;{{ birthday | date:'HH:mm' }}&lt;/p&gt;
&lt;!-- will display '15:30' --&gt;

&lt;p&gt;{{ birthday | date:'shortTime' }}&lt;/p&gt;
&lt;!-- will display '3:30 PM' --&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To learn more about internationalization in general, and, in particular, about the way you can set the language
used to format numbers and dates, you can refer to the
<a href="#internationalization">Internationalization chapter</a>
.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_async">12.12. async</h3>
<div class="paragraph">
<p>The <code>async</code> pipe allows data obtained asynchronously to be displayed.
It can handle async data that comes from a Promise or an Observable.
I hope you now know what a Promise is (otherwise go back to the ES2015+ chapter),
and we&#8217;ll come back to Observables quickly.</p>
</div>
<div class="paragraph">
<p>The async pipe returns <code>null</code> until the data is finally available
(i.e. until the promise is resolved, in case of a promise).
Once resolved, the resolved value is returned.
More importantly, it triggers a change detection check once the data is available.</p>
</div>
<div class="paragraph">
<p>The following example uses a Promise:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';

@Component({
  selector: 'ns-greeting',
  template: `&lt;div&gt;{{ asyncGreeting | async }}&lt;/div&gt;`
})
export class GreetingComponent {
  asyncGreeting = new Promise(resolve =&gt; {
    // after 1 second, the promise will resolve
    window.setTimeout(() =&gt; resolve('hello'), 1000);
  });
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see the <code>async</code> pipe is applied to the variable <code>asyncGreeting</code>.
This one is a promise, resolved after 1 second.
Once the promise is resolved, our browser will display:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;hello&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Even more interesting, if the source is an Observable,
then the pipe will do the unsubscribe part itself
when the pipe is destroyed (for example when the user navigates to another component,
or because it&#8217;s part of an <code>ngIf</code> that becomes false).</p>
</div>
<div class="paragraph">
<p>And to avoid multiple subscriptions to your Observable
or calling your promise multiple times,
you can store the result of the call with <code>as</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';

@Component({
  selector: 'ns-user',
  template: `&lt;div *ngIf="asyncUser | async as user"&gt;{{ user.name }}&lt;/div&gt;`
})
export class UserComponent {
  asyncUser = new Promise&lt;UserModel&gt;(resolve =&gt; {
    // after 1 second, the promise will resolve
    window.setTimeout(() =&gt; resolve({ name: 'Cdric' }), 1000);
  });
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to learn more about this pipe,
check the
<a href="#performances">Performances chapter</a>
near the end of this ebook.</p>
</div>
</div>
<div class="sect2">
<h3 id="_a_pipe_in_your_code">12.13. A pipe in your code</h3>
<div class="paragraph">
<p>It is also possible to use the formatting functions offered by the framework directly.
For example, to format a number,
we can use the <code>formatNumber</code> function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component, Inject, LOCALE_ID } from '@angular/core';
// you need to import the function you want to use
import { formatNumber } from '@angular/common';

@Component({
  selector: 'ns-pony',
  template: `&lt;p&gt;{{ formattedSpeed }}&lt;/p&gt;`
})
export class PonyComponent {
  pony = { name: 'Rainbow Dash', speed: 15 };
  formattedSpeed: string;

  constructor(@Inject(LOCALE_ID) locale: string) {
    // use the format function
    this.formattedSpeed = formatNumber(this.pony.speed, locale, '.2');
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_creating_your_own_pipes">12.14. Creating your own pipes</h3>
<div class="paragraph">
<p>Of course, you can also create your own pipes.
That&#8217;s sometimes very useful. In AngularJS&#160;1.x, we often used custom filters.
For example, we built one to display how much time elapsed since an action
the user did (like <code>12 seconds ago</code> or <code>3 days ago</code>) in several of our apps.
Let&#8217;s see how we would do this in Angular!</p>
</div>
<div class="paragraph">
<p>First we need to create a new class.
It should implement the <code>PipeTransform</code> interface,
which forces us to have a <code>transform()</code> method, the one doing the heavy lifting.</p>
</div>
<div class="paragraph">
<p>Does not sound too hard. Let&#8217;s give it a try!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Pipe, PipeTransform } from '@angular/core';

export class FromNowPipe implements PipeTransform {
  transform(value: string, args: Array&lt;unknown&gt;): string {
    // do something here
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We are going to use the <code>parseISO</code> function from <a href="https://date-fns.org">date-fns</a>
to parse the date,
and the <code>formatDistanceToNow</code>
function to display how much time has elapsed since the date.</p>
</div>
<div class="paragraph">
<p>You can install date-fns using <code>NPM</code> if you want:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">npm install date-fns</code></pre>
</div>
</div>
<div class="paragraph">
<p>The types for date-fns are already included in the NPM dependency,
so the TypeScript compiler should be happy without us doing anything.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Pipe, PipeTransform } from '@angular/core';
import { formatDistanceToNowStrict, parseISO } from 'date-fns';

export class FromNowPipe implements PipeTransform {
  transform(value: string, args: Array&lt;unknown&gt;): string {
    const date = parseISO(value);
    return formatDistanceToNowStrict(date, { addSuffix: true });
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, we need to register the pipe in our app.
For this, there is a special decorator we can use: <code>@Pipe</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Pipe, PipeTransform } from '@angular/core';
import { formatDistanceToNowStrict, parseISO } from 'date-fns';

@Pipe({ name: 'fromNow' })
export class FromNowPipe implements PipeTransform {
  transform(value: string, args: Array&lt;unknown&gt;): string {
    const date = parseISO(value);
    return formatDistanceToNowStrict(date, { addSuffix: true });
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The chosen name will be the one allowing to use the pipe in the template.</p>
</div>
<div class="paragraph">
<p>To use the pipe in a template, the last thing you need to do is to add the pipe to the
<code>declarations</code> of your <code>@NgModule</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@NgModule({
  imports: [BrowserModule],
  declarations: [AppComponent, RacesComponent, FromNowPipe],
  bootstrap: [AppComponent]
})
export class AppModule {}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Try our exercise
<a href="https://angular-exercises.ninja-squad.com/exercises/6/pipes">Pipes</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Free" width="18"></span>!
It&#8217;s free and part of our Pro Pack,
where you&#8217;ll learn how to build a complete application step by step.
This exercise lets you use your first pipe.
Later, the
<a href="https://angular-exercises.ninja-squad.com/exercises/7/custom-pipe">Custom pipe with date-fns</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
exercise will make you build an awesome custom pipe!</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dependency-injection">13. Dependency injection</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_di_yourself">13.1. DI yourself</h3>
<div class="paragraph">
<p>Dependency injection is a well-known design pattern.
Let&#8217;s take a component of our application.
This component may need some features offered by other parts of our app (let&#8217;s say a service).
That&#8217;s what we call a dependency.
Instead of letting the component create its dependencies,
the idea is to let the framework create them, and provide them to the component.
That is known as "inversion of control".</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="DI">
</div>
</div>
<div class="paragraph">
<p>It has several interesting features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>it allows easy development, by just saying what we want and where we want it.</p>
</li>
<li>
<p>it allows easy testing, by replacing dependencies with mock ones.</p>
</li>
<li>
<p>it allows easy configuration, by swapping implementation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It&#8217;s a concept vastly used on the server side, but AngularJS&#160;1.x was one of the
first to use it on the frontend side.</p>
</div>
</div>
<div class="sect2">
<h3 id="_easy_to_develop">13.2. Easy to develop</h3>
<div class="paragraph">
<p>To be able to use dependency injection, we need a few things:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a way to register a dependency, to make it available for injection into another component/service.</p>
</li>
<li>
<p>a way to declare what dependencies are needed in the current component/service.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The framework does the rest of the job.
When we declare a dependency in a component, it will look into
the registry if it can find it, will get the instance of the dependency or create one,
and actually inject it in our component.</p>
</div>
<div class="paragraph">
<p>A dependency can be a service provided by Angular, or a service we have written ourselves.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s take an example with a <code>LoggingService</code> service.
In development, we want to log to the browser&#8217;s console.
In production, we want to aggregate logs on a remote server.
Let&#8217;s start by the development version.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export class LoggingService {
  log(message: string): void {
    console.log(message);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using TypeScript, it&#8217;s easy to declare a dependency for our component or service -
we just have to use the type system.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say we want to write a <code>RaceService</code> that would use the <code>LoggingService</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { LoggingService } from './logging.service';

export class RaceService {
  constructor(private loggingService: LoggingService) {}

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Angular will fetch the <code>LoggingService</code> service for us
and inject it into our constructor. When <code>RaceService</code> is needed,
the constructor will be called, and we will have a <code>loggingService</code> field
referencing the <code>LoggingService</code> service.</p>
</div>
<div class="paragraph">
<p>Now, we can add a method <code>list()</code> to our service,
which will call our backend and log a trace
using the <code>LoggingService</code> service:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { LoggingService } from './logging.service';

export class RaceService {
  constructor(private loggingService: LoggingService) {}

  list(): Array&lt;RaceModel&gt; {
    this.loggingService.log('race-service: get races');
    // ...
  }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In Angular, all services must be decorated with <code>@Injectable()</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Injectable } from '@angular/core';
import { RaceModel } from './race.model';
import { LoggingService } from './logging.service';

@Injectable()
export class RaceService {
  constructor(private loggingService: LoggingService) {}

  list(): Array&lt;RaceModel&gt; {
    this.loggingService.log('race-service: get races');
    // ...
  }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As we are using the <code>LoggingService</code>,
we need to "register" it,
to make it available for injection.</p>
</div>
<div class="paragraph">
<p>Starting with Angular&#160;6.0,
the easiest (and recommended) way to do this is to add the <code>@Injectable</code> decorator on <code>LoggingService</code>
and use <code>providedIn</code> directly inside:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root'
})
export class LoggingService {
  log(message: string): void {
    console.log(message);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Another way to do this is to use the <code>providers</code> attribute of the <code>@NgModule</code> decorator
we saw earlier (that&#8217;s what we used to do before Angular&#160;6.0):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppComponent } from './app.component';
import { LoggingService } from '../services/logging.service';

@NgModule({
  imports: [BrowserModule],
  declarations: [AppComponent],
  providers: [
    LoggingService
  ],
  bootstrap: [AppComponent]
})
export class AppModule {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, if we want to make our <code>RaceService</code> available for injection in other
services or components, we have to register it too:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Injectable } from '@angular/core';
import { LoggingService } from './logging.service';
import { RaceModel } from './race.model';

@Injectable({
  providedIn: 'root'
})
export class RaceService {
  constructor(private loggingService: LoggingService) {}

  list(): Array&lt;RaceModel&gt; {
    this.loggingService.log('race-service: get races');
    // ...
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And we&#8217;re done!</p>
</div>
<div class="paragraph">
<p>We can use our new service wherever we want.
Let&#8217;s test it in the <code>AppComponent</code> component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export class AppComponent {
  races: Array&lt;RaceModel&gt; = [];

  // add a constructor with RaceService
  constructor(private raceService: RaceService) {
    this.races = this.raceService.list();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As we want to use an API to log our traces in production,
we need to provide a different implementation of the <code>LoggingService</code> service.</p>
</div>
</div>
<div class="sect2">
<h3 id="_easy_to_configure">13.3. Easy to configure</h3>
<div class="paragraph">
<p>I&#8217;ll come back to the testability advantages
brought by dependency injection in a following chapter,
but we can have a look at the configuration problem.
Here we want to call a logging API in production.</p>
</div>
<div class="paragraph">
<p>DI provides a nice way to do this.
Let&#8217;s go back to the registration part,
if you chose to declare it in the module:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppComponent } from './app.component';
import { RaceService } from '../services/race.service';
import { LoggingService } from '../services/logging.service';

@NgModule({
  imports: [BrowserModule],
  declarations: [AppComponent],
  providers: [
    RaceService,
    LoggingService
  ],
  bootstrap: [AppComponent]
})
export class AppModule {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can represent the relations between component and services like this,
where the arrows mean <em>depends on</em>:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMjM4JyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgMjIwIDIzOCcgd2lkdGg9JzIyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMjM4JyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzIyMCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00yNS4wIDM1LjAgTDE5NS4wIDM1LjAgTDE5NS4wIDYzLjAgTDI1LjAgNjMuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J00yNS4wIDEwNS4wIEwxOTUuMCAxMDUuMCBMMTk1LjAgMTMzLjAgTDI1LjAgMTMzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNMjUuMCAxNzUuMCBMMTk1LjAgMTc1LjAgTDE5NS4wIDIwMy4wIEwyNS4wIDIwMy4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTI1LjAgMzUuMCBMMTk1LjAgMzUuMCBMMTk1LjAgNjMuMCBMMjUuMCA2My4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMjUuMCAxMDUuMCBMMTk1LjAgMTA1LjAgTDE5NS4wIDEzMy4wIEwyNS4wIDEzMy4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMjUuMCAxNzUuMCBMMTk1LjAgMTc1LjAgTDE5NS4wIDIwMy4wIEwyNS4wIDIwMy4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTAwLjAgODQuMCBMMTA1LjAgOTguMCBMMTEwLjAgODQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTAwLjAgMTU0LjAgTDEwNS4wIDE2OC4wIEwxMTAuMCAxNTQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTA1LjAgNjMuMCBMMTA1LjAgOTEuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00xMDUuMCAxMzMuMCBMMTA1LjAgMTYxLjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxMycgc3Ryb2tlPSdub25lJyB4PSc1MycgeT0nNTQnPjwhW0NEQVRBW0FwcENvbXBvbmVudF1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc1NScgeT0nMTI0Jz48IVtDREFUQVtSYWNlU2VydmljZV1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc0OCcgeT0nMTk0Jz48IVtDREFUQVtMb2dnaW5nU2VydmljZV1dPjwvdGV4dD48L2c+PC9zdmc+" alt="di intro" width="220" height="238">
</div>
</div>
<div class="paragraph">
<p>In fact, what we wrote was the short form of:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppComponent } from './app.component';
import { RaceService } from '../services/race.service';
import { LoggingService } from '../services/logging.service';

@NgModule({
  imports: [BrowserModule],
  declarations: [AppComponent],
  bootstrap: [AppComponent],
  providers: [
    { provide: RaceService, useClass: RaceService },
    { provide: LoggingService, useClass: LoggingService }
  ]
})
export class AppModule {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We are telling the <code>Injector</code> that we want to create
a link between a token (the type <code>LoggingService</code>) and the class <code>LoggingService</code>.
The <code>Injector</code> is a service which keeps track
of the injectable elements by maintaining a registry
and is actually injecting them when needed.
The registry is a map that associates keys, called tokens, with classes.
The tokens are not necessarily strings.
They can be anything, like Type references, for example.
And that will usually be the case.</p>
</div>
<div class="paragraph">
<p>Since, in our example, the token and the class to inject are the same,
you can write the same thing in the shorter form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppComponent } from './app.component';
import { RaceService } from '../services/race.service';
import { LoggingService } from '../services/logging.service';

@NgModule({
  imports: [BrowserModule],
  declarations: [AppComponent],
  providers: [
    RaceService,
    LoggingService
  ],
  bootstrap: [AppComponent]
})
export class AppModule {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The token has to uniquely identify the dependency.</p>
</div>
<div class="paragraph">
<p>Angular also offers an <code>inject()</code> function that can be used to inject dependencies.
We&#8217;ll see practical use cases later, but for now, it&#8217;s an easy way to test
how the injector works:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// in our module
providers: [
  LoggingService,
  { provide: LoggingService, useClass: LoggingService },
  // let's add another provider to the same class
  // with another token
  // A token can be declared like this:
  // const token = new InjectionToken&lt;LoggingService&gt;('LoggingServiceToken');
  { provide: token, useClass: LoggingService }
]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">console.log(inject(LoggingService));
// logs "LoggingService"
console.log(inject(token));
// logs "LoggingService" again
console.log(inject(LoggingService) === inject(LoggingService));
// logs "true", as the same instance is returned every time for a token
console.log(inject(LoggingService) === inject(token));
// logs "false", as the providers are different,
// so there are two distinct instances</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, we can ask the injector for a dependency with a token.
As I have declared the <code>LoggingService</code> twice, with two different tokens, we have two providers.
The injector will create an instance of <code>LoggingService</code> the first time
it is asked to for a specific token, and then returns the same instance for this token
every time.
It will do the same for each provider, so here we will actually have two instances of
<code>LoggingService</code> in our app, one for each token.</p>
</div>
<div class="paragraph">
<p>However, you will not use the token very often, or even at all.
In TypeScript, you rely on the types to get the job done,
so the token is a Type reference, usually bound to the corresponding class.
If you want to use another token, you have to use the decorator <code>@Inject()</code>:
see the last part of this chapter for more information about this.</p>
</div>
<div class="paragraph">
<p>This whole example was just to point out a few things:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a provider links a token to a service.</p>
</li>
<li>
<p>the injector returns the same instance every time it is asked for the same token.</p>
</li>
<li>
<p>we can have a token name different from the class name</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The fact that the instance returned is created on the first call and then is
always the same is also a well-known design pattern: it&#8217;s called a <em>singleton</em>.
This is really useful, as you can share information between components using a service,
and you will be sure they share the same service instance.</p>
</div>
<div class="paragraph">
<p>Now, back to our <code>LoggingService</code>.
I can write a new class, doing the same job as <code>LoggingService</code>
but this time calling an API to aggregate the logs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Injectable()
export class LoggingAPIService {
  log(message: string): void {
    // ... calls the logging API
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can use the provider declaration to replace <code>LoggingService</code> with our <code>LoggingAPIService</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// in our module
providers: [
  // we provide a different implementation of the service
  { provide: LoggingService, useClass: LoggingAPIService }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we have a relation like this:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMjM4JyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgMjUwIDIzOCcgd2lkdGg9JzI1MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMjM4JyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzI1MCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00yNS4wIDE3NS4wIEwyMjUuMCAxNzUuMCBMMjI1LjAgMjAzLjAgTDI1LjAgMjAzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNNDUuMCAzNS4wIEwxOTUuMCAzNS4wIEwxOTUuMCA2My4wIEw0NS4wIDYzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNNTUuMCAxMDUuMCBMMTk1LjAgMTA1LjAgTDE5NS4wIDEzMy4wIEw1NS4wIDEzMy4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTI1LjAgMTc1LjAgTDIyNS4wIDE3NS4wIEwyMjUuMCAyMDMuMCBMMjUuMCAyMDMuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTQ1LjAgMzUuMCBMMTk1LjAgMzUuMCBMMTk1LjAgNjMuMCBMNDUuMCA2My4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNTUuMCAxMDUuMCBMMTk1LjAgMTA1LjAgTDE5NS4wIDEzMy4wIEw1NS4wIDEzMy4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTIwLjAgODQuMCBMMTI1LjAgOTguMCBMMTMwLjAgODQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTIwLjAgMTU0LjAgTDEyNS4wIDE2OC4wIEwxMzAuMCAxNTQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTI1LjAgNjMuMCBMMTI1LjAgOTEuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00xMjUuMCAxMzMuMCBMMTI1LjAgMTYxLjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxMycgc3Ryb2tlPSdub25lJyB4PSc2MycgeT0nNTQnPjwhW0NEQVRBW0FwcENvbXBvbmVudF1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc3NScgeT0nMTI0Jz48IVtDREFUQVtSYWNlU2VydmljZV1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc1MScgeT0nMTk0Jz48IVtDREFUQVtMb2dnaW5nQXBpU2VydmljZV1dPjwvdGV4dD48L2c+PC9zdmc+" alt="di fake" width="250" height="238">
</div>
</div>
<div class="paragraph">
<p>That can be really useful to replace an implementation with another in certain environments
and, as we will see soon, when you are writing automated tests.</p>
</div>
</div>
<div class="sect2">
<h3 id="_other_types_of_provider">13.4. Other types of provider</h3>
<div class="paragraph">
<p>In our example, we might want to use <code>LoggingService</code> when we
are developing our app, and use the real <code>LoggingAPIService</code> when we are in
production.
You can also use another type of provider: <code>useFactory</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// we just have to change this constant when going to prod
const IS_PROD = false;

  // in our module
  providers: [
    RaceService,
    // we provide a factory
    {
      provide: LoggingService,
      useFactory: () =&gt; (IS_PROD ? new LoggingAPIService() : new LoggingService())
    }
  ]</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, we are using <code>useFactory</code> instead of <code>useClass</code>.
A factory is a function with one job, creating an instance.
Our example tests a constant and returns the race service with
the development or production logging service.</p>
</div>
<div class="paragraph">
<p>Of course, this example is just to demonstrate the use of <code>useFactory</code> and
its dependencies. You could, and should, write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// in our module
providers: [RaceService, { provide: LoggingService, useClass: IS_PROD ? LoggingAPIService : LoggingService }]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Declaring a constant for <code>IS_PROD</code> is really bothering: maybe we can
use dependency injection too? I&#8217;m pushing things a bit as you can see :)
You don&#8217;t necessarily need to force all things in DI, but this is just
to show you another provider type: <code>useValue</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// in our module
providers: [
  { provide: 'IS_PROD', useValue: true },
  RaceService,
  {
    provide: LoggingService,
    useFactory: (IS_PROD: boolean) =&gt; (IS_PROD ? new LoggingAPIService() : new LoggingService()),
    deps: ['IS_PROD']
  }
]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hierarchical_injectors">13.5. Hierarchical injectors</h3>
<div class="paragraph">
<p>One last crucial thing to understand in Angular: there are several injectors
in your app. In fact, there is one injector per component, and this injector inherits
from the injector of its parent.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say we have an app looking like:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMjM4JyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgMjcwIDIzOCcgd2lkdGg9JzI3MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMjM4JyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzI3MCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J003NS4wIDM1LjAgTDI0NS4wIDM1LjAgTDI0NS4wIDYzLjAgTDc1LjAgNjMuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J003NS4wIDEwNS4wIEwyNDUuMCAxMDUuMCBMMjQ1LjAgMTMzLjAgTDc1LjAgMTMzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNNzUuMCAxNzUuMCBMMjQ1LjAgMTc1LjAgTDI0NS4wIDIwMy4wIEw3NS4wIDIwMy4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTc1LjAgMzUuMCBMMjQ1LjAgMzUuMCBMMjQ1LjAgNjMuMCBMNzUuMCA2My4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNzUuMCAxMDUuMCBMMjQ1LjAgMTA1LjAgTDI0NS4wIDEzMy4wIEw3NS4wIDEzMy4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNzUuMCAxNzUuMCBMMjQ1LjAgMTc1LjAgTDI0NS4wIDIwMy4wIEw3NS4wIDIwMy4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTUwLjAgODQuMCBMMTU1LjAgOTguMCBMMTYwLjAgODQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTUwLjAgMTU0LjAgTDE1NS4wIDE2OC4wIEwxNjAuMCAxNTQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTU1LjAgNjMuMCBMMTU1LjAgOTEuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00xNTUuMCAxMzMuMCBMMTU1LjAgMTYxLjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PScxMTEnIHk9JzU0Jz48IVtDREFUQVtBcHBNb2R1bGVdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTMnIHN0cm9rZT0nbm9uZScgeD0nMTAzJyB5PScxMjQnPjwhW0NEQVRBW0FwcENvbXBvbmVudF1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNCcgc3Ryb2tlPSdub25lJyB4PSc5MScgeT0nMTk0Jz48IVtDREFUQVtSYWNlc0NvbXBvbmVudF1dPjwvdGV4dD48L2c+PC9zdmc+" alt="di hierarchical" width="270" height="238">
</div>
</div>
<div class="paragraph">
<p>We have a module <code>AppModule</code> with a root component <code>AppComponent</code>,
with a child component <code>RacesComponent</code>.</p>
</div>
<div class="paragraph">
<p>When we bootstrap the app, we create the root injector for the module.
Then, every component will create its own injector, inheriting its parent one.</p>
</div>
<div class="paragraph">
<p>When you register a service using the recommended <code>providedIn: 'root'</code>,
or by using the providers of the module,
you add these services to the root injector.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMjM4JyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgNTEwIDIzOCcgd2lkdGg9JzUxMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMjM4JyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzUxMCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00zNS4wIDM1LjAgTDE4NS4wIDM1LjAgTDE4NS4wIDYzLjAgTDM1LjAgNjMuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J000NS4wIDEwNS4wIEwxNTUuMCAxMDUuMCBMMTU1LjAgMTMzLjAgTDQ1LjAgMTMzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNNDUuMCAxNzUuMCBMMTU1LjAgMTc1LjAgTDE1NS4wIDIwMy4wIEw0NS4wIDIwMy4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM1LjAgMzUuMCBMMTg1LjAgMzUuMCBMMTg1LjAgNjMuMCBMMzUuMCA2My4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNDUuMCAxMDUuMCBMMTU1LjAgMTA1LjAgTDE1NS4wIDEzMy4wIEw0NS4wIDEzMy4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNDUuMCAxNzUuMCBMMTU1LjAgMTc1LjAgTDE1NS4wIDIwMy4wIEw0NS4wIDIwMy4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTA1LjAgNzAuMCBMMTAwLjAgODQuMCBMMTEwLjAgODQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTA1LjAgMTQwLjAgTDEwMC4wIDE1NC4wIEwxMTAuMCAxNTQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTA1LjAgNzcuMCBMMTA1LjAgOTcuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00xMDUuMCAxNDcuMCBMMTA1LjAgMTY3LjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc2NCcgeT0nNTQnPjwhW0NEQVRBW3Jvb3QgSW5qZWN0b3JdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nMjIxJyB5PSc1NCc+PCFbQ0RBVEFbKExvZ2dpbmdTZXJ2aWNlLCBSYWNlU2VydmljZSldXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNjknIHk9JzEyNCc+PCFbQ0RBVEFbSW5qZWN0b3JdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNjknIHk9JzE5NCc+PCFbQ0RBVEFbSW5qZWN0b3JdXT48L3RleHQ+PC9nPjwvc3ZnPg==" alt="di root injector" width="510" height="238">
</div>
</div>
<div class="paragraph">
<p>It means that when we are declaring a dependency in a component, Angular
will begin its search in the current injector.
If it finds the dependency, perfect, it returns it. If not, it will do the same
in the parent injector, and again, until it finds the dependency.
If it doesn&#8217;t, it will throw an exception.</p>
</div>
<div class="paragraph">
<p>From this, we can deduce two things:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the dependencies declared in the root injector are available for every component in the app.
For example, <code>LoggingService</code> and <code>RaceService</code> can be used everywhere.</p>
</li>
<li>
<p>we can declare dependencies at another level than the module.
How do we do this?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>@Component</code> decorator can take another configuration option, called <code>providers</code>.
This <code>providers</code> attribute can take an array with a list of dependencies, as
we did for the <code>providers</code> attribute of <code>@NgModule</code>.</p>
</div>
<div class="paragraph">
<p>We can imagine a <code>RacesComponent</code> that would declare its own <code>LoggingService</code> provider:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-races',
  providers: [{ provide: LoggingService, useClass: LoggingAPIService }],
  template: `&lt;strong&gt;Races&lt;/strong&gt;`
})
export class RacesComponent {
  constructor(private loggingService: LoggingService) {
    this.loggingService.log('RacesComponent created');
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this component, the provider with the token <code>LoggingService</code> will always
give an instance of <code>LoggingAPIService</code>, whatever was defined in the root
injector. It&#8217;s really useful if you want to have a different instance of
a service for a given component, or if you want to have perfectly encapsulated
components that declare everything they need.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
If you declare a dependency in the module of your app
and in the <code>providers</code> attribute of your component,
there will be two distinct instances of this dependency created and used!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here we have:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMjM4JyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgNTYwIDIzOCcgd2lkdGg9JzU2MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMjM4JyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzU2MCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00zNS4wIDM1LjAgTDE4NS4wIDM1LjAgTDE4NS4wIDYzLjAgTDM1LjAgNjMuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J000NS4wIDEwNS4wIEwxNTUuMCAxMDUuMCBMMTU1LjAgMTMzLjAgTDQ1LjAgMTMzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNNDUuMCAxNzUuMCBMMTU1LjAgMTc1LjAgTDE1NS4wIDIwMy4wIEw0NS4wIDIwMy4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM1LjAgMzUuMCBMMTg1LjAgMzUuMCBMMTg1LjAgNjMuMCBMMzUuMCA2My4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNDUuMCAxMDUuMCBMMTU1LjAgMTA1LjAgTDE1NS4wIDEzMy4wIEw0NS4wIDEzMy4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNDUuMCAxNzUuMCBMMTU1LjAgMTc1LjAgTDE1NS4wIDIwMy4wIEw0NS4wIDIwMy4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTA1LjAgNzAuMCBMMTAwLjAgODQuMCBMMTEwLjAgODQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTA1LjAgMTQwLjAgTDEwMC4wIDE1NC4wIEwxMTAuMCAxNTQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMzQwLjAgMTgyLjAgTDM1MC4wIDE4OS4wIEwzNDAuMCAxOTYuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTA1LjAgNzcuMCBMMTA1LjAgOTcuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00xMDUuMCAxNDcuMCBMMTA1LjAgMTY3LjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMzMwLjAgMTg5LjAgTDM0NS4wIDE4OS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNjQnIHk9JzU0Jz48IVtDREFUQVtyb290IEluamVjdG9yXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzIyMScgeT0nNTQnPjwhW0NEQVRBWyhMb2dnaW5nU2VydmljZSwgUmFjZVNlcnZpY2UpXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzY5JyB5PScxMjQnPjwhW0NEQVRBW0luamVjdG9yXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzY5JyB5PScxOTQnPjwhW0NEQVRBW0luamVjdG9yXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzE4MCcgeT0nMTk0Jz48IVtDREFUQVsoTG9nZ2luZ1NlcnZpY2VdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nMzcxJyB5PScxOTQnPjwhW0NEQVRBW0xvZ2dpbmdBUElTZXJ2aWNlKV1dPjwvdGV4dD48L2c+PC9zdmc+" alt="di component" width="560" height="238">
</div>
</div>
<div class="paragraph">
<p>The injection will then be resolved as:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMjM4JyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgNTMwIDIzOCcgd2lkdGg9JzUzMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMjM4JyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzUzMCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J000NS4wIDEwNS4wIEwyNTUuMCAxMDUuMCBMMjU1LjAgMTMzLjAgTDQ1LjAgMTMzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNMzI1LjAgMTc1LjAgTDUwNS4wIDE3NS4wIEw1MDUuMCAyMDMuMCBMMzI1LjAgMjAzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNMzI1LjAgMzUuMCBMNDk1LjAgMzUuMCBMNDk1LjAgNjMuMCBMMzI1LjAgNjMuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J000NS4wIDE3NS4wIEwyMTUuMCAxNzUuMCBMMjE1LjAgMjAzLjAgTDQ1LjAgMjAzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNNzUuMCAzNS4wIEwxOTUuMCAzNS4wIEwxOTUuMCA2My4wIEw3NS4wIDYzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNNDUuMCAxMDUuMCBMMjU1LjAgMTA1LjAgTDI1NS4wIDEzMy4wIEw0NS4wIDEzMy4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMzI1LjAgMTc1LjAgTDUwNS4wIDE3NS4wIEw1MDUuMCAyMDMuMCBMMzI1LjAgMjAzLjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00zMjUuMCAzNS4wIEw0OTUuMCAzNS4wIEw0OTUuMCA2My4wIEwzMjUuMCA2My4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNDUuMCAxNzUuMCBMMjE1LjAgMTc1LjAgTDIxNS4wIDIwMy4wIEw0NS4wIDIwMy4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNzUuMCAzNS4wIEwxOTUuMCAzNS4wIEwxOTUuMCA2My4wIEw3NS4wIDYzLjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J000MTUuMCA3Ny4wIEw0MTUuMCAxMTkuMCBMMjY1LjAgMTE5LjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1kYXNoYXJyYXk9JzUuMCw1LjAnIHN0cm9rZS1saW5lY2FwPSdidXR0JyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2UtbWl0ZXJsaW1pdD0nMCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMzEwLjAgNDIuMCBMMzIwLjAgNDkuMCBMMzEwLjAgNTYuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNDE1LjAgNzAuMCBMNDEwLjAgODQuMCBMNDIwLjAgODQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTMwLjAgODQuMCBMMTM1LjAgOTguMCBMMTQwLjAgODQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTMwLjAgMTU0LjAgTDEzNS4wIDE2OC4wIEwxNDAuMCAxNTQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMzEwLjAgMTgyLjAgTDMyMC4wIDE4OS4wIEwzMTAuMCAxOTYuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTM1LjAgNzAuMCBMMTM1LjAgOTEuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00xMzUuMCAxNDAuMCBMMTM1LjAgMTYxLjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMjA1LjAgNDkuMCBMMzE1LjAgNDkuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWRhc2hhcnJheT0nNS4wLDUuMCcgc3Ryb2tlLWxpbmVjYXA9J2J1dHQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS1taXRlcmxpbWl0PScwJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00yMjUuMCAxODkuMCBMMzE1LjAgMTg5LjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1kYXNoYXJyYXk9JzUuMCw1LjAnIHN0cm9rZS1saW5lY2FwPSdidXR0JyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2UtbWl0ZXJsaW1pdD0nMCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc5MScgeT0nNTQnPjwhW0NEQVRBW0FwcE1vZHVsZV1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSczNDgnIHk9JzU0Jz48IVtDREFUQVtMb2dnaW5nU2VydmljZV1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxMycgc3Ryb2tlPSdub25lJyB4PSc5MycgeT0nMTI0Jz48IVtDREFUQVtBcHBDb21wb25lbnRdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTQnIHN0cm9rZT0nbm9uZScgeD0nNjEnIHk9JzE5NCc+PCFbQ0RBVEFbUmFjZXNDb21wb25lbnRdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nMzM5JyB5PScxOTQnPjwhW0NEQVRBW0xvZ2dpbmdBUElTZXJ2aWNlXV0+PC90ZXh0PjwvZz48L3N2Zz4=" alt="di component resolution" width="530" height="238">
</div>
</div>
<div class="paragraph">
<p>If the service contains state that belongs to a specific component instance,
then it should be provided by that component.
For stateless services, or services that contain global state,
they should be provided in root.</p>
</div>
</div>
<div class="sect2">
<h3 id="_di_without_types">13.6. DI without types</h3>
<div class="paragraph">
<p>It&#8217;s also possible to not use a type for dependency injection,
by using the <code>@Inject()</code> decorator.
With this decorator, you can then inject services but also simple values:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Inject, Injectable } from '@angular/core';

import { BACKEND_URL } from './tokens';

@Injectable({
  providedIn: 'root'
})
export class RaceService {
  constructor(@Inject(BACKEND_URL) private url: string) {}

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use <code>@Inject()</code>,
you have to give it a token.
This token is defined like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { InjectionToken } from '@angular/core';

export const BACKEND_URL = new InjectionToken&lt;string&gt;('API URL');</code></pre>
</div>
</div>
<div class="paragraph">
<p>We then use this token in the providers of the module to define its value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{ provide: BACKEND_URL, useValue: 'http://localhost:8080' }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or you can register it directly with <code>providedIn</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export const BACKEND_URL_PROVIDED = new InjectionToken&lt;string&gt;('API URL', {
  providedIn: 'root',
  factory: () =&gt; 'http://localhost:8080'
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that you can use the environment variables feature of Angular CLI
for this use case.</p>
</div>
<div class="paragraph">
<p>Angular itself uses this token mechanism,
and allows us to define the locale of the application for example,
by using the token <code>LOCALE_ID</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@NgModule({
  imports: [BrowserModule],
  declarations: [
    CustomLocaleComponent
    // and other components
  ],
  providers: [
    { provide: LOCALE_ID, useValue: 'fr-FR' }
  ]
  // ...
})
export class AppModule {}

@Component({
  selector: 'ns-locale',
  template: `
    &lt;p&gt;The locale is {{ locale }}&lt;/p&gt;
    &lt;!-- will display 'fr-FR' --&gt;

    &lt;p&gt;{{ 1234.56 | number }}&lt;/p&gt;
    &lt;!-- will display '1 234,56' --&gt;
  `
})
export class CustomLocaleComponent {
  constructor(@Inject(LOCALE_ID) public locale: string) {}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>But we&#8217;ll talk about it later when we see how to internationalize your application!</p>
</div>
</div>
<div class="sect2">
<h3 id="_inject">13.7. <code>inject()</code></h3>
<div class="paragraph">
<p>Angular offers a function <code>inject()</code> that allows to inject a service.
This function is available since Angular 14
and is useful in cases where it is not possible to use constructor injection.
It has been introduced to allow the use of dependency injection in functions,
as Angular tends to use functions more and more often for some features.
This is the case for the guards of the router or the HTTP interceptors that we will see later.
Historically, they were classes, but since version 14 and 15,
it is possible to define them as functions.
This pattern is therefore more and more used in recent versions of Angular.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export const loggedInGuard: CanActivateFn = () =&gt; {
  const userService = inject(UserService);
  const router = inject(Router);
  // returns `true` if the user is logged in or redirects to the login page
  // note that you can also use `router.createUrlTree()` to build a `UrlTree` with parameters
  return userService.isLoggedIn() || router.parseUrl('/login');
};</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="services">14. Services</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Angular contains the concept of services: classes you can inject into an other.</p>
</div>
<div class="paragraph">
<p>A few services are provided by the framework, some by the common modules,
and others can be built by you.
We will see the ones provided by the common modules in dedicated chapters;
right now, let&#8217;s have a look at the core ones, and discover how we can build ours.</p>
</div>
<div class="sect2">
<h3 id="_title_service">14.1. Title service</h3>
<div class="paragraph">
<p>The core framework provides very few services, and those you
will use in your apps are even scarcer: actually there are just two for now :).</p>
</div>
<div class="paragraph">
<p>One question that pops up frequently is how can I change the title of my page?
Easy! There is a <code>Title</code> service you can inject and it offers a getter
and a setter method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { Title } from '@angular/platform-browser';

@Component({
  selector: 'ns-root',
  template: `&lt;h1&gt;PonyRacer&lt;/h1&gt;`
})
export class AppComponent {
  constructor(title: Title) {
    title.setTitle('PonyRacer - Bet on ponies');
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The service will automatically create the <code>title</code> element in the <code>head</code> if needed
and correctly set the value for you!</p>
</div>
</div>
<div class="sect2">
<h3 id="_meta_service">14.2. Meta service</h3>
<div class="paragraph">
<p>The other service is somewhat similar:
it allows you to get or update the "meta" values of the page.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { Meta } from '@angular/platform-browser';

@Component({
  selector: 'ns-root',
  template: `&lt;h1&gt;PonyRacer&lt;/h1&gt;`
})
export class AppComponent {
  constructor(meta: Meta) {
    meta.addTag({ name: 'author', content: 'Ninja Squad' });
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_making_your_own_service">14.3. Making your own service</h3>
<div class="paragraph">
<p>That&#8217;s really simple.
Just build a class, add the <code>@Injectable()</code> decorator on it, and you&#8217;re done!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Injectable } from '@angular/core';
import { RaceModel } from './race.model';

@Injectable({
  providedIn: 'root'
})
export class RacesService {
  list(): Array&lt;RaceModel&gt; {
    return [{ name: 'London' }];
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With this configuration (<code>providedIn: 'root'</code>), the service is a singleton, so the same,
unique instance of the class will be injected everywhere.
It thus makes a service a great candidate to share state between several unrelated components!</p>
</div>
<div class="paragraph">
<p>Our <code>RacesService</code> probably fetches the races from a REST API
instead of returning the same list every time.
To perform an HTTP request, the framework provides the <code>HttpClient</code> service.</p>
</div>
<div class="paragraph">
<p>Our service has a dependency on <code>HttpClient</code> to fetch the races,
so we need to add a constructor with the <code>HttpClient</code> service as an argument.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable } from 'rxjs';

@Injectable({
  providedIn: 'root'
})
export class RacesServiceWithHttp {
  constructor(private http: HttpClient) {}

  list(): Observable&lt;Array&lt;RaceModel&gt;&gt; {
    return this.http.get&lt;Array&lt;RaceModel&gt;&gt;('/api/races');
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We&#8217;ll see in the following chapters how to use the <code>HttpClient</code> service.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Try our exercise
<a href="https://angular-exercises.ninja-squad.com/exercises/8/race-service">Race service</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Free" width="18"></span>!
It&#8217;s free and part of our Pro Pack,
where you&#8217;ll learn how to build a complete application step by step.
This exercise lets you build your first service!</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="reactive-programming">15. Reactive Programming</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_call_me_maybe">15.1. Call me maybe</h3>
<div class="paragraph">
<p>You may have heard of reactive or functional reactive programming lately.
It has become quite popular in several languages platforms, like in .Net
with the <em>Reactive Extensions</em> library, which is now available in pretty much
every language (RxJava, RxJS, etc.).</p>
</div>
<div class="paragraph">
<p>Reactive programming is not really new.
It is a way to build an app using events and reacting to them (hence the name).
The events can be composed, filtered, grouped, etc. using functions like
<code>map</code>, <code>filter</code>, etc.
That&#8217;s why you sometimes find the terms "functional reactive programming".
But, to be accurate, reactive programming is not really functional programming,
as it does not necessarily include the concepts of immutability, the lack of
side-effects etc.
Reacting on events is something you may have done:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>in the browser, when setting listeners to user events;</p>
</li>
<li>
<p>on the backend side, reacting to events coming from a message bus.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In reactive programming, all data coming in will be in a stream.
These streams can be listened to, modified of course (filtered, merged&#8230;&#8203;),
and can even become a new stream that can be listened to.
This technique allows for fairly decoupled programs:
you don&#8217;t have to worry much about the consequences of your method call,
you just raise an event, and every part of your app interested in this business
will react accordingly. And maybe one of these parts will raise an event also, etc.</p>
</div>
<div class="paragraph">
<p>Now, why am I telling you about that? What does it have to do with Angular?</p>
</div>
<div class="paragraph">
<p>Well, Angular is built using reactive programming,
and we will use this technique for some parts as well.
Reacting on a HTTP request? Reactive programming.
Spawning a custom event for our component? Reactive programming.
Dealing with value changes in our forms? Reactive programming.</p>
</div>
<div class="paragraph">
<p>So let&#8217;s focus on this topic for a few minutes.
Nothing hard to handle, but it&#8217;s better to have a clear mind on this.</p>
</div>
</div>
<div class="sect2">
<h3 id="_general_principles">15.2. General principles</h3>
<div class="paragraph">
<p>In reactive programming, everything is a stream.
A stream is an ordered sequence of events.
These events represent values (look, another value!), errors (that went bad)
or completion events (ok, I&#8217;m done). All these are pushed from the data producer
to the consumer.
As a developer, your job will be to <em>subscribe</em> to these streams, i.e. defining
a listener capable of handling the three possibilities.
Such a listener is called an <em>observer</em>, and the stream, an <em>observable</em>.
These terms were coined a long time ago, as it is a well-known design pattern:
the <em>observer</em> pattern.</p>
</div>
<div class="paragraph">
<p>They are different from promises, even if they look a bit similar, as they both handle
asynchronous values. But an observer is not a one-time thing like a promise:
it will continue to listen until it receives a 'completion' event.</p>
</div>
<div class="paragraph">
<p>For now, observables aren&#8217;t part of the official ECMAScript specification,
but they might be part of a future version, as there is an effort being made to
standardize it.</p>
</div>
<div class="paragraph">
<p>Observables are very close to arrays.
An array is a collection of values, like an observable.
An observable only adds the concept of values over time:
in an array, you have all the values at once, while the values
will come over time in an observable, maybe every few minutes.</p>
</div>
<div class="paragraph">
<p>The most popular reactive programming library in the JavaScript ecosystem is <a href="https://github.com/Reactive-Extensions/RxJS">RxJS</a>.
And that&#8217;s the one that Angular relies on and lets us use.</p>
</div>
<div class="paragraph">
<p>So let&#8217;s have a look.</p>
</div>
</div>
<div class="sect2">
<h3 id="_rxjs">15.3. RxJS</h3>
<div class="paragraph">
<p>Every observable, just like every array, can be transformed using functions you may have already encountered:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>take(n)</code> will pick the first n events (e.g. the first five).</p>
</li>
<li>
<p><code>map(fn)</code> will apply <code>fn</code> to each event and return the result.</p>
</li>
<li>
<p><code>filter(predicate)</code> will only let through the events that fulfill the predicate.</p>
</li>
<li>
<p><code>reduce(fn)</code> will apply <code>fn</code> to every event to reduce the stream to a single value.</p>
</li>
<li>
<p><code>merge(s1, s2)</code> will merge the streams.</p>
</li>
<li>
<p><code>subscribe(fn)</code> will apply <code>fn</code> to each event it receives.</p>
</li>
<li>
<p>and much more&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>So, if you take an array of numbers and want to multiply each by 2,
filter those under 5, and print them, you can do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">[1, 2, 3, 4, 5]
  .map(x =&gt; x * 2)
  .filter(x =&gt; x &gt; 5)
  .forEach(x =&gt; console.log(x)); // 6, 8, 10</code></pre>
</div>
</div>
<div class="paragraph">
<p>RxJS let us build an observable from an array.
And, as you can see, we can do the exact same thing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { filter, from, map } from 'rxjs';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">from([1, 2, 3, 4, 5])
  .pipe(
    map(x =&gt; x * 2),
    filter(x =&gt; x &gt; 5)
  )
  .subscribe(x =&gt; console.log(x)); // 6, 8, 10</code></pre>
</div>
</div>
<div class="paragraph">
<p>But an observable is more than a collection.
It is an asynchronous collection, where the events arrive over time.
A good example is browser events.
They will happen over time, so they are a good use-case for an observable.
Here is an example using jQuery:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { fromEvent } from 'rxjs';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const input = $('input');

fromEvent(input, 'keyup').subscribe(() =&gt; console.log('keyup!'));

input.trigger('keyup'); // logs "keyup!"
input.trigger('keyup'); // logs "keyup!"</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can build observables from AJAX requests, browser events,
Web sockets responses, a promise, whatever you can think of.
And from a function of course:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const observable = new Observable(observer =&gt; observer.next('hello'));

observable.subscribe(value =&gt; console.log(value));
// logs "hello"</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>new Observable()</code> takes a function that will emit events on the <code>observer</code> given as parameter.
Here it simply emits one event for the demonstration.</p>
</div>
<div class="paragraph">
<p>You can also handle errors, because your observable may go wrong.
The <code>subscribe</code> method also accepts an object as an argument instead of a simple callback function.
This object can define a callback to handle events (named <code>next</code>),
and a callback to handle errors (named <code>error</code>).</p>
</div>
<div class="paragraph">
<p>Here the <code>map</code> method throws an exception, so the error handler will log it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">range(1, 5)
  .pipe(
    map(x =&gt; {
      if (x % 2 === 1) {
        throw new Error('something went wrong');
      } else {
        return x;
      }
    }),
    filter(x =&gt; x &gt; 5)
  )
  .subscribe({
    next: x =&gt; console.log(x),
    error: error =&gt; console.log(error)
  });
// something went wrong</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once the observable is done, it will emit a completion event that you can catch
with a third handler. Here, the <code>range</code> method we are using to create the events
will iterate from 1 to 5 and then emit the 'completed' signal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">range(1, 5)
  .pipe(
    map(x =&gt; x * 2),
    filter(x =&gt; x &gt; 5)
  )
  .subscribe({
    next: x =&gt; console.log(x),
    error: error =&gt; console.log(error),
    complete: () =&gt; console.log('done')
  });
// 6, 8, 10, done</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can do many, many things with an observable:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>transformation (delaying, debouncing&#8230;&#8203;)</p>
</li>
<li>
<p>combination (merge, zip, combineLatest&#8230;&#8203;)</p>
</li>
<li>
<p>filtering (distinct, filter, last&#8230;&#8203;)</p>
</li>
<li>
<p>maths (min, max, average, reduce&#8230;&#8203;)</p>
</li>
<li>
<p>conditions (amb, includes&#8230;&#8203;)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We would need a whole book to go through it all!
If you want to have a good visual representation of what each function does,
go to <a href="http://rxmarbles.com/">rxmarbles.com</a>.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s have a look at how we will use observables in Angular.</p>
</div>
</div>
<div class="sect2">
<h3 id="_reactive_programming_in_angular">15.4. Reactive programming in Angular</h3>
<div class="paragraph">
<p>Angular itself uses RxJS.
The framework provides an adapter around the <code>Observable</code> object: <code>EventEmitter</code>.</p>
</div>
<div class="paragraph">
<p>You recognize it?
It&#8217;s what we use to emit events on an <code>Output</code>!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-pony',
  // the method `selectPony()` will be called on click
  template: ` &lt;div (click)="selectPony()"&gt;{{ pony.name }}&lt;/div&gt; `
})
export class SelectablePonyComponent {
  @Input() pony!: PonyModel;

  // we declare the custom event as an output,
  // the EventEmitter is used to emit the event
  @Output() readonly ponySelected = new EventEmitter&lt;PonyModel&gt;();

  /**
   * Selects a pony when the component is clicked.
   * Emits a custom event.
   */
  selectPony(): void {
    this.ponySelected.emit(this.pony);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will also use observables a lot:
every time something is asynchronous in an Angular application,
it is usually represented as an observable.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Try our
<a href="https://angular-exercises.ninja-squad.com/exercises/9/quiz-observables">quiz</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Free" width="18"></span>
and the exercise
<a href="https://angular-exercises.ninja-squad.com/exercises/10/observables">Observables</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Free" width="18"></span>!
It&#8217;s free and part of our Pro Pack,
where you&#8217;ll learn how to build a complete application step by step.
In this exercise, you will transform the <code>RaceService</code> to make it reactive!</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tests">16. Testing your app</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_the_problem_with_troubleshooting_is_that_trouble_shoots_back">16.1. The problem with troubleshooting is that trouble shoots back</h3>
<div class="paragraph">
<p>I love automated testing.
My professional life revolves around the test progress bar going green in my IDE,
patting me in the back for doing my job properly.
And I hope you do care about tests too, as they are the only safety net we have when we write code.
Nothing is more tedious than manually testing code.</p>
</div>
<div class="paragraph">
<p>Angular does a great job to let us easily write tests.
So did AngularJS&#160;1.x, and that&#8217;s partly why I loved using it.
As in AngularJS&#160;1.x, we can write two types of tests:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>unit tests</p>
</li>
<li>
<p>end-to-end tests</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first ones are there to verify that a small unit of code (a component, a service, a pipe&#8230;&#8203;) works correctly in isolation,
i.e. without considering its dependencies.
Writing such a unit test requires you to execute each of the component/service/pipe methods,
and check that the outputs are what we expected regarding the inputs we fed it.
We can also check that the dependencies used by this unit are correctly called:
for example we can check that a service will do the correct HTTP request.</p>
</div>
<div class="paragraph">
<p>We can also write end-to-end tests.
Their purpose is to emulate a real user interacting with your app,
by starting a real instance and then driving the browser to enter values in inputs,
click on buttons, etc.
We&#8217;ll then check that the rendered page is in the state we expect, that the URL is correct -
whatever you can think of.</p>
</div>
<div class="paragraph">
<p>We&#8217;re going to cover all this, but let&#8217;s begin with the unit test part.</p>
</div>
</div>
<div class="sect2">
<h3 id="_unit_test">16.2. Unit test</h3>
<div class="paragraph">
<p>As we saw earlier, unit tests are there to check a small unit of code in isolation.
These tests can only verify a small part of your app works as intended,
but they have several advantages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>they are really fast - you can run several hundreds in a few seconds.</p>
</li>
<li>
<p>they are a very efficient way to test (nearly) all your code, especially the tricky cases,
which can be hard to manually test in the real app.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>One of the core concepts of unit testing is <strong>isolation</strong>:
we don&#8217;t want our test to be biased by its dependencies.
So we usually use "mock" objects as dependencies.
These are fake objects that we create just for testing purposes.</p>
</div>
<div class="paragraph">
<p>To do this, we are going to rely on a few tools.
First we need a library to write tests.
One of the most popular (if not the most popular) is <a href="http://jasmine.github.io/">Jasmine</a>,
so we are going to use it!</p>
</div>
<div class="sect3">
<h4 id="_jasmine_and_karma">16.2.1. Jasmine and Karma</h4>
<div class="paragraph">
<p>Jasmine gives us a few methods to declare our tests:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>describe()</code> declares a test suite (a group of tests)</p>
</li>
<li>
<p><code>it()</code> declares a test</p>
</li>
<li>
<p><code>expect()</code> declares an assertion</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A basic JavaScript test using Jasmine looks like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Pony {
  constructor(public name: string, public speed: number) {}

  isFasterThan(speed: number): boolean {
    return this.speed &gt; speed;
  }
}

describe('My first test suite', () =&gt; {
  it('should construct a Pony', () =&gt; {
    const pony = new Pony('Rainbow Dash', 10);
    expect(pony.name).toBe('Rainbow Dash');
    expect(pony.speed).not.toBe(1);
    expect(pony.isFasterThan(8)).toBe(true);
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>expect()</code> call can be chained with a lot of methods like <code>toBe()</code>,
<code>toBeLessThan()</code>, <code>toBeUndefined()</code>, etc.
Every method can be negated with the <code>not</code> attribute of the object returned by <code>expect()</code>.</p>
</div>
<div class="paragraph">
<p>The test file is a separate file from the code you want to test,
usually with an extension like <code>.spec.ts</code>.
The test for a Pony class written in a <code>pony.ts</code> file will likely be in a file named <code>pony.spec.ts</code>.
You can either put your test right next to the file you&#8217;re testing,
or in a dedicated directory with all your tests.
I tend to put the code and test in the same directory,
but both approaches are perfectly valid: pick your team.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
One cool trick is that if you use <code>fdescribe()</code> instead of <code>describe()</code>
then only this test suite will run (f stands for focus).
Same thing if you want to run only one test: use <code>fit()</code> instead of <code>it()</code>.
If you want to exclude a test, use <code>xit()</code>, or <code>xdescribe()</code> for a suite.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can also use the <code>beforeEach()</code> method to set up a context before each test: the <strong>fixture</strong>.
If I have several tests on the same pony,
it makes sense to use <code>beforeEach()</code> to initialize the pony,
instead of copy/pasting the same thing in every test.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">describe('Pony', () =&gt; {
  let pony: Pony;

  beforeEach(() =&gt; {
    pony = new Pony('Rainbow Dash', 10);
  });

  it('should have a name', () =&gt; {
    expect(pony.name).toBe('Rainbow Dash');
  });

  it('should have a speed', () =&gt; {
    expect(pony.speed).not.toBe(1);
    expect(pony.speed).toBeGreaterThan(9);
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>There is also an <code>afterEach</code> method, but I basically never use it&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>One last trick: Jasmine lets us create fake objects (mocks or spies, as you want),
or even spy on a method of a real object.
We can then do some assertions on these methods,
like with <code>toHaveBeenCalled()</code> that checks if the method has been called,
or with <code>toHaveBeenCalledWith()</code> that checks the exact parameters of the call to the spied method.
You can also check how many times the method has been called, or check if it has ever been called, etc.</p>
</div>
<div class="paragraph">
<p>For example, let&#8217;s say we have a <code>Race</code> class with a <code>start()</code> method,
that calls <code>run()</code> on every pony in the race,
and filters the ponies that did not started running
(<code>run()</code> returns a boolean):</p>
</div>
<div class="listingblock">
<div class="title">Race.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Race {
  constructor(private ponies: Array&lt;Pony&gt;) {}

  start(): Array&lt;Pony&gt; {
    return (
      this.ponies
        // start every pony
        // and only keeps the ones that started running
        .filter(pony =&gt; pony.run(10))
    );
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We want to test the <code>start()</code> method,
and see if it properly calls <code>run()</code>.
So we spy on the <code>run()</code> method of all the ponies in the race:</p>
</div>
<div class="listingblock">
<div class="title">Race.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">describe('Race', () =&gt; {
  let rainbowDash: Pony;
  let pinkiePie: Pony;
  let race: Race;

  beforeEach(() =&gt; {
    rainbowDash = new Pony('Rainbow Dash');
    // first pony agrees to run
    spyOn(rainbowDash, 'run').and.returnValue(true);

    pinkiePie = new Pony('Pinkie Pie');
    // second pony refuses to run
    spyOn(pinkiePie, 'run').and.returnValue(false);

    // create a race with these two ponies
    race = new Race([rainbowDash, pinkiePie]);
  });

});</code></pre>
</div>
</div>
<div class="paragraph">
<p>and test if the methods are called:</p>
</div>
<div class="listingblock">
<div class="title">Race.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">it('should make the ponies run when it starts', () =&gt; {
  // start the race
  const runningPonies: Array&lt;Pony&gt; = race.start();
  // should have called `run()` on the ponies
  expect(pinkiePie.run).toHaveBeenCalled();
  // with a speed of 10
  expect(rainbowDash.run).toHaveBeenCalledWith(10);
  // as one pony refused to start, the result should be an array of one pony
  expect(runningPonies).toEqual([rainbowDash]);
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you write unit tests, keep in mind that they should be small and readable.
And don&#8217;t forget to make them fail at first, to be sure you&#8217;re testing the right thing.</p>
</div>
<div class="paragraph">
<p>The next step is to run our tests.
For this, the Angular team has developed <a href="http://karma-runner.github.io">Karma</a>,
whose sole purpose is to run the tests in one or several browsers.
It can also watch your files to re-run the tests on every save.
As running the tests is really fast, it&#8217;s actually really nice to do this
and have (almost) instant feedback on your code.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="Karma">
</div>
</div>
<div class="paragraph">
<p>I won&#8217;t dive into the details on how to setup Karma,
but it&#8217;s a very interesting project with a lot of plugins you can use,
to make it work with your favorite tools, to have a coverage report, etc.
If you&#8217;re writing your code in TypeScript like me,
the strategy you can adopt is to let the TypeScript compiler watch your code and tests,
produce the compiled files in a separate output directory,
and have Karma watch this directory.</p>
</div>
<div class="paragraph">
<p>So we now know how to write a unit test in JavaScript.
Let&#8217;s add Angular to the mix.</p>
</div>
</div>
<div class="sect3">
<h4 id="_using_dependency_injection">16.2.2. Using dependency injection</h4>
<div class="paragraph">
<p>Let&#8217;s say I have an Angular application with a simple service like <code>RaceService</code>,
containing a method returning a hard-coded races list.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Injectable({
  providedIn: 'root'
})
export class RaceService {
  list(): Array&lt;RaceModel&gt; {
    const race1: RaceModel = { name: 'London' };
    const race2: RaceModel = { name: 'Lyon' };
    return [race1, race2];
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s write a test for this.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">describe('RaceService', () =&gt; {
  it('should return races when list() is called', () =&gt; {
    const raceService = new RaceService();
    expect(raceService.list().length).toBe(2);
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>That works great.
But we can also rely on the dependency injection offered by Angular to grab
the RaceService and inject it in our test.
It&#8217;s especially useful if our <code>RaceService</code> has some dependencies itself:
instead of having to instantiate these dependencies ourselves,
we could just rely on the injector to do it for us by saying:
"hey, we want the RaceService, go figure out what you need to create it and give it to me".</p>
</div>
<div class="paragraph">
<p>To use the dependency injection system in our test,
the framework has a utility method in <code>TestBed</code> called <code>inject</code>.</p>
</div>
<div class="paragraph">
<p>This method allows you to get a specific dependency
from the injector inside a test function.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s go back to our example, using <code>TestBed.inject</code> this time:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { TestBed } from '@angular/core/testing';

describe('RaceService', () =&gt; {
  it('should return races when list() is called', () =&gt; {
    const raceService = TestBed.inject(RaceService);
    expect(raceService.list().length).toBe(2);
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>That works, because the service is declared with <code>providedIn: 'root'</code>,
which make it available in the test.
It will be instantiated and injected lazily when needed in the test.</p>
</div>
<div class="paragraph">
<p>As we did in the simple Jasmine example,
we can maybe move the <code>RaceService</code> initialization into a <code>beforeEach</code> method.
We can also use <code>TestBed.inject</code> in a <code>beforeEach</code>, so let&#8217;s do it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { TestBed } from '@angular/core/testing';

describe('RaceService', () =&gt; {
  let service: RaceService;

  beforeEach(() =&gt; (service = TestBed.inject(RaceService)));

  it('should return races when list() is called', () =&gt; {
    expect(service.list().length).toBe(2);
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>We moved the <code>TestBed.inject</code> logic in a <code>beforeEach</code> and now our test is pretty clean.</p>
</div>
<div class="paragraph">
<p>Of course, a real <code>RaceService</code> will not have a hard-coded list of races,
and there is a big chance that the response will be an asynchronous one.
Let&#8217;s say that the <code>list</code> returns an observable.
What does that change in our test?
Well, now we have to set up the <code>expect</code> in the <code>subscribe</code> callback:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { TestBed, waitForAsync } from '@angular/core/testing';

describe('RaceService', () =&gt; {
  let service: RaceService;

  beforeEach(() =&gt; (service = TestBed.inject(RaceService)));

  it('should return an observable of 2 races', waitForAsync(() =&gt; {
    service.list().subscribe(races =&gt; {
      expect(races.length).toBe(2);
    });
  }));
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>You may be thinking that this will not work,
as the test will end before the subscribe is called,
and our expectation will never run.</p>
</div>
<div class="paragraph">
<p>But here we wrap the test with the <code>waitForAsync()</code> function.
And this method is really smart:
it keeps track of the asynchronous calls made in the test
and waits for them to resolve.</p>
</div>
<div class="paragraph">
<p>Angular uses a new concept called <a href="https://github.com/angular/angular/tree/master/packages/zone.js"><strong>zones</strong></a>.
These <strong>zones</strong> are execution contexts,
and, to simplify, they keep track of all the stuff going on within them
(timeouts, event listeners, callbacks&#8230;&#8203;).
They also provide hooks that can be called when we enter or leave the zone.
An Angular application runs in a zone,
and that&#8217;s how the framework knows it has to refresh the DOM when an asynchronous action is done.</p>
</div>
<div class="paragraph">
<p>This concept is also used in the tests if your test uses <code>waitForAsync()</code>:
the test runs in a zone, so the framework knows when all the asynchronous actions are done,
and won&#8217;t complete until then.</p>
</div>
<div class="paragraph">
<p>So our asynchronous expectation will be executed. Great!</p>
</div>
<div class="paragraph">
<p>There is another way to deal with async tests in Angular,
using <code>fakeAsync()</code> and <code>tick()</code> but that&#8217;s for a more advanced chapter.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_fake_dependencies">16.3. Fake dependencies</h3>
<div class="paragraph">
<p>The <code>TestBed</code> class will help us to declare fake dependencies.
Its <code>configureTestingModule</code> method allows you to declare what can be injected in the test,
by creating a test module containing only what we need.
Try to inject only what&#8217;s necessary in your test,
to make them as loosely coupled to the rest of the app as possible.
The method is called in the <code>beforeEach</code> Jasmine method,
and takes a module configuration, really close to what you can pass to the <code>@NgModule</code> decorator.
The <code>providers</code> attribute takes an array of dependencies that will become available to injection.</p>
</div>
<div class="paragraph">
<p>Being able to declare the dependencies with the test module has its use.
We can without too much trouble declare a fake service as a dependency instead of a real one.</p>
</div>
<div class="paragraph">
<p>For the sake of the example, let&#8217;s say that my <code>RaceService</code> uses the local storage to store the races,
with a key <code>'races'</code>.
Your colleagues have developed a service called <code>LocalStorageService</code> that deals with the JSON serialization, etc.
that our <code>RaceService</code> uses.
The <code>list()</code> method looks like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Injectable({
  providedIn: 'root'
})
export class RaceService {
  constructor(private localStorage: LocalStorageService) {}

  list(): Array&lt;RaceModel&gt; {
    return this.localStorage.get('races');
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, we don&#8217;t really want to test the <code>LocalStorageService</code> service:
we just want to test our <code>RaceService</code>.
That can easily be done by leveraging the dependency injection system
to give a fake <code>LocalStorageService</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export class FakeLocalStorage {
  get(key: string): any {
    return [{ name: 'Lyon' }, { name: 'London' }];
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>to <code>RaceService</code> in our test, using <code>provide</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { TestBed } from '@angular/core/testing';

describe('RaceService', () =&gt; {
  beforeEach(() =&gt;
    TestBed.configureTestingModule({
      providers: [{ provide: LocalStorageService, useClass: FakeLocalStorage }]
    })
  );

  it('should return 2 races from localStorage', () =&gt; {
    const service = TestBed.inject(RaceService);
    const races = service.list();
    expect(races.length).toBe(2);
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Great!
But I&#8217;m not completely satisfied with this test.
Creating a fake service by hand is tedious,
and Jasmine can help us spy on the service and replace its implementation with a fake one.
It also allows you to verify that the <code>get()</code> method has been called with the proper key 'races'.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { TestBed } from '@angular/core/testing';

describe('RaceService', () =&gt; {
  const localStorage = jasmine.createSpyObj&lt;LocalStorageService&gt;('LocalStorageService', ['get']);

  beforeEach(() =&gt;
    TestBed.configureTestingModule({
      providers: [{ provide: LocalStorageService, useValue: localStorage }]
    })
  );

  it('should return 2 races from localStorage', () =&gt; {
    localStorage.get.and.returnValue([{ name: 'Lyon' }, { name: 'London' }]);

    const service = TestBed.inject(RaceService);
    const races = service.list();

    expect(races.length).toBe(2);
    expect(localStorage.get).toHaveBeenCalledWith('races');
  });
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_testing_components">16.4. Testing components</h3>
<div class="paragraph">
<p>The next step after testing a simple service is to test a component.
A component test is slightly different because we have to create the component.
We can&#8217;t rely on the dependency injection system to give us an instance of the component to test
(you may have noticed by now that components are not injectable in other components :) ).</p>
</div>
<div class="paragraph">
<p>Let&#8217;s start by writing a component to test.
Why not our <code>PonyComponent</code> component?
It takes a pony as an input and emits an event <code>ponyClicked</code> when the component is clicked.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-pony',
  template: `
    &lt;img [src]="'./images/pony-' + pony.color.toLowerCase() + '.png'" [alt]="pony.name" (click)="clickOnPony()" /&gt;
  `
})
export class PonyComponent {
  @Input() pony!: PonyModel;
  @Output() readonly ponyClicked = new EventEmitter&lt;PonyModel&gt;();

  clickOnPony(): void {
    this.ponyClicked.emit(this.pony);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>It comes with a fairly simple template:
an image with a dynamic source depending on the pony color,
and a click handler.</p>
</div>
<div class="paragraph">
<p>To test such a component, you first need to create an instance.
To do this, we can also use <code>TestBed</code>.
This class comes with a utility method, named <code>createComponent</code>, to create a component.
The method returns a <code>ComponentFixture</code>,
a representation of our component.
Note that to create a component, it must be known from the test module,
so we need to add it to the <code>declarations</code> attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { TestBed } from '@angular/core/testing';

import { PonyComponent } from './pony.component';

describe('PonyComponent', () =&gt; {
  it('should have an image', () =&gt; {
    TestBed.configureTestingModule({
      declarations: [PonyComponent]
    });
    const fixture = TestBed.createComponent(PonyComponent);
    // given a component instance with a pony input initialized
    const ponyComponent = fixture.componentInstance;
    ponyComponent.pony = { name: 'Rainbow Dash', color: 'BLUE' };

    // when we trigger the change detection
    fixture.detectChanges();

    // then we should have an image with the correct source attribute
    // depending of the pony color
    const element = fixture.nativeElement;
    const imageElement = element.querySelector('img');
    expect(imageElement.getAttribute('src')).toBe('./images/pony-blue.png');
    expect(imageElement.getAttribute('alt')).toBe('Rainbow Dash');
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here, we follow the "Given/When/Then" pattern to write the unit test.
You&#8217;ll find a whole literature on the subject, but it boils down to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a "Given" phase, where we set up the test context. We get the component instance created and provide a pony.
It emulates an input that would come from a parent component in the real app.</p>
</li>
<li>
<p>a "When" phase, where we manually trigger the change detection, using the <code>detectChanges()</code> method.
In a test, the change detection is our responsibility: it&#8217;s not automatic as it is in an app.</p>
</li>
<li>
<p>and a "Then" phase, containing the expectations.
We can get the native element and query the DOM as you would do with the browser (using <code>querySelector()</code> for example).
Here we test if the image source is the correct one.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We can also test if the component really emits an event:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">it('should emit an event on click', () =&gt; {
  TestBed.configureTestingModule({
    declarations: [PonyComponent]
  });
  const fixture = TestBed.createComponent(PonyComponent);

  // given a pony
  const ponyComponent = fixture.componentInstance;
  ponyComponent.pony = { name: 'Rainbow Dash', color: 'BLUE' };

  // we fake the event emitter with a spy
  spyOn(ponyComponent.ponyClicked, 'emit');

  // when we click on the pony
  const element = fixture.nativeElement;
  const image = element.querySelector('img');
  image.dispatchEvent(new Event('click'));

  // and we trigger the change detection
  fixture.detectChanges();

  // then the event emitter should have fired an event
  expect(ponyComponent.ponyClicked.emit).toHaveBeenCalled();
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s have a look at another component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-race',
  template: `
    &lt;div&gt;
      &lt;h1&gt;{{ race.name }}&lt;/h1&gt;
      &lt;ns-pony *ngFor="let currentPony of race.ponies" [pony]="currentPony"&gt;&lt;/ns-pony&gt;
    &lt;/div&gt;
  `
})
export class RaceComponent {
  @Input() race: any;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>and its test:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">describe('RaceComponent', () =&gt; {
  let fixture: ComponentFixture&lt;RaceComponent&gt;;

  beforeEach(() =&gt; {
    TestBed.configureTestingModule({
      declarations: [RaceComponent, PonyComponent]
    });
    fixture = TestBed.createComponent(RaceComponent);
  });

  it('should have a name and a list of ponies', () =&gt; {
    // given a component instance with a race input initialized
    const raceComponent = fixture.componentInstance;
    raceComponent.race = { name: 'London', ponies: [{ name: 'Rainbow Dash', color: 'BLUE' }] };

    // when we trigger the change detection
    fixture.detectChanges();

    // then we should have a title with the race name
    const element = fixture.nativeElement;
    expect(element.querySelector('h1').textContent).toBe('London');

    // and a list of ponies
    const ponies = fixture.debugElement.queryAll(By.directive(PonyComponent));
    expect(ponies.length).toBe(1);
    // we can check if the pony is correctly initialized
    const rainbowDash = ponies[0].componentInstance.pony;
    expect(rainbowDash.name).toBe('Rainbow Dash');
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we query all the directives of type <code>PonyComponent</code> and test if the first pony is correctly initialized.</p>
</div>
<div class="paragraph">
<p>You can get the components inside your component with <code>children</code>
or query them with <code>query()</code> and <code>queryAll()</code>.
These methods take a predicate as argument that can be either <code>By.css</code> or <code>By.directive</code>.
That&#8217;s what we do to get the ponies displayed, as they are instances of <code>PonyComponent</code>.
Keep in mind that this is different from a DOM query using <code>querySelector()</code>:
it will only find the elements handled by Angular,
and will return a <code>ComponentFixture</code>, not a DOM element
(so you&#8217;ll have access to the <code>componentInstance</code> of the result, for example).</p>
</div>
</div>
<div class="sect2">
<h3 id="_testing_with_fake_templates_providers">16.5. Testing with fake templates, providers&#8230;</h3>
<div class="paragraph">
<p>When testing a component,
we sometimes want to create a parent component that uses it.
And if there are several use cases,
we&#8217;ll have to create several parent components just to try different inputs for example.</p>
</div>
<div class="paragraph">
<p>Hopefully, when we are in a test,
we can modify any component to reuse it in different tests,
by overriding its template.</p>
</div>
<div class="paragraph">
<p>To do this, the <code>TestBed</code> gives an <code>overrideComponent()</code> method,
to call before the <code>createComponent()</code> one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">describe('RaceComponent', () =&gt; {
  let fixture: ComponentFixture&lt;RaceComponent&gt;;

  beforeEach(() =&gt; {
    TestBed.configureTestingModule({
      declarations: [RaceComponent, PonyComponent]
    });
    TestBed.overrideComponent(RaceComponent, { set: { template: '&lt;h2&gt;{{ race.name }}&lt;/h2&gt;' } });
    fixture = TestBed.createComponent(RaceComponent);
  });

  it('should have a name', () =&gt; {
    // given a component instance with a race input initialized
    const raceComponent = fixture.componentInstance;
    raceComponent.race = { name: 'London' };

    // when we trigger the change detection
    fixture.detectChanges();

    // then we should have a name
    const element = fixture.nativeElement;
    expect(element.querySelector('h2').textContent).toBe('London');
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, the method takes two arguments:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the component you want to override</p>
</li>
<li>
<p>the metadata you want to set, add or remove (for example here we set the template)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>That means you can modify the template of the component you are testing,
or one of its children (to replace a component with a big template with a dumb one).</p>
</div>
<div class="paragraph">
<p><code>template</code> is not the only metadata available, you can also use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>providers</code> to replace the dependencies of a component</p>
</li>
<li>
<p><code>styles</code> to replace the styles used in the template of a component</p>
</li>
<li>
<p>or any property you can set in the <code>@Component</code> decorator&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As replacing the template is the most common use-case,
Angular&#160;4 introduced an <code>overrideTemplate()</code> method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">describe('RaceComponent', () =&gt; {
  let fixture: ComponentFixture&lt;RaceComponent&gt;;

  beforeEach(() =&gt; {
    TestBed.configureTestingModule({
      declarations: [RaceComponent, PonyComponent]
    });
    TestBed.overrideTemplate(RaceComponent, '&lt;h2&gt;{{ race.name }}&lt;/h2&gt;');
    fixture = TestBed.createComponent(RaceComponent);
  });

  it('should have a name', () =&gt; {
    // given a component instance with a race input initialized
    const raceComponent = fixture.componentInstance;
    raceComponent.race = { name: 'London' };

    // when we trigger the change detection
    fixture.detectChanges();

    // then we should have a name
    const element = fixture.nativeElement;
    expect(element.querySelector('h2').textContent).toBe('London');
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you&#8217;re ready to test your app!</p>
</div>
</div>
<div class="sect2">
<h3 id="_simpler_cleaner_unit_tests_with_ngx_speculoos">16.6. Simpler, cleaner unit tests with <code>ngx-speculoos</code></h3>
<div class="paragraph">
<p>Angular tests can quickly be very verbose.
As we don&#8217;t really like that,
we wrote a tiny open-source library called
<a href="https://ngx-speculoos.ninja-squad.com/">ngx-speculoos</a>.</p>
</div>
<div class="paragraph">
<p>Instead of writing a test looking like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">let fixture: ComponentFixture&lt;UserComponent&gt;;

beforeEach(() =&gt; {
  TestBed.configureTestingModule({
    imports: [TestModule]
  });
  fixture = TestBed.createComponent(UserComponent);
  fixture.detectChanges();
});

it('should display French cities when selecting the country France', () =&gt; {
  const countrySelect = fixture.nativeElement.querySelector('#country'); // countrySelect is of type any
  expect(countrySelect.selectedIndex).toBe(0);
  countrySelect.selectedIndex = 2; // what is at index 2?
  countrySelect.dispatchEvent(new Event('change')); // why do I need to do that?
  fixture.detectChanges();

  const city = fixture.nativeElement.querySelector('#city'); // city is of type any
  expect(city).toBeTruthy();
  expect(city.options.length).toBe(3);
  expect(city.options[0].value).toBe('');
  expect(city.options[0].label).toBe('');
  expect(city.options[1].value).toBe('PARIS');
  expect(city.options[1].label).toBe('Paris');
  expect(city.options[2].value).toBe('LYON');
  expect(city.options[2].label).toBe('Lyon');
});

it('should hide cities when selecting the empty country option', () =&gt; {
  const countrySelect = fixture.nativeElement.querySelector('#country'); // I did that previously. What about DRY?
  countrySelect.selectedIndex = 0;
  countrySelect.dispatchEvent(new Event('change')); // why do I need to do that?
  fixture.detectChanges(); // why do I need to do that?

  expect(fixture.nativeElement.querySelector('#city')).toBeFalsy(); // I did that previously. What about DRY?
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>you can write a cleaner and simpler test with <code>ngx-speculoos</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class UserComponentTester extends ComponentTester&lt;UserComponent&gt; {
  constructor() {
    super(UserComponent);
  }

  get country(): TestSelect {
    return this.select('#country')!; // returns a TestSelect object, not any. Similar methods exist for inputs, buttons, etc.
  }

  get city(): TestSelect {
    return this.select('#city')!; // returns a TestSelect object, not any
  }
}

let tester: UserComponentTester;

beforeEach(() =&gt; {
  TestBed.configureTestingModule({
    imports: [TestModule]
  });
  tester = new UserComponentTester();
  tester.detectChanges();
});

it('should display French cities when selecting the country France', () =&gt; {
  tester.country.selectLabel('France'); // no dispatchEvent, no detectChanges needed

  expect(tester.city.optionValues).toEqual(['', 'PARIS', 'LYON']);
  expect(tester.city.optionLabels).toEqual(['', 'Paris', 'Lyon']);
});

it('should hide cities when selecting empty country option', () =&gt; {
  tester.country.selectIndex(0); // no repetition of the selector, no dispatchEvent, no detectChanges needed

  expect(tester.city).toBeFalsy(); // no repetition of the selector
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can go one step further with the custom matcher for Jasmine we wrote:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">beforeEach(() =&gt; jasmine.addMatchers(speculoosMatchers));

it('should contain a pre-populated form', () =&gt; {
  expect(tester.informationMessage).toContainText('Please check that everything is correct');
  expect(tester.country).toHaveSelectedValue('');
  expect(tester.name).toHaveValue('Doe');
  expect(tester.newsletter).toBeChecked();
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Give it a try!</p>
</div>
</div>
<div class="sect2">
<h3 id="_end_to_end_tests_e2e">16.7. End-to-end tests (e2e)</h3>
<div class="paragraph">
<p>End-to-end tests are the other type of tests we can run.
An end-to-end test consists in really launching your app in a browser
and emulating a user interacting with it
(clicking on buttons, filling forms, etc.).
They have the advantage of really testing the application as a whole, but:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>they are slower (several seconds per test)</p>
</li>
<li>
<p>it can be hard to test the edge cases.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As you may guess, you don&#8217;t have to choose between unit tests and e2e tests:
you will combine both to have great coverage, and some guarantees that your complete application
runs as intended.</p>
</div>
<div class="paragraph">
<p>Angular CLI used to offer an integration with the Protractor e2e testing library.
This is no longer the case since Angular CLI v12,
as Protractor is slowly getting out of fashion.
We now have to set up a solution ourselves.
There are a lot of popular options out there like
<a href="https://www.cypress.io/">Cypress</a>, <a href="https://playwright.dev/">Playwrigth</a>, <a href="https://pptr.dev/">Puppeteer</a>, etc.
And I am madly in love with Cypress .</p>
</div>
<div class="paragraph">
<p>You can set up Cypress in an Angular project using
<a href="https://github.com/briebug/cypress-schematic">this schematic</a>.
Check out the first exercise of our Pro Pack to see how!</p>
</div>
<div class="paragraph">
<p>You can then run your e2e tests with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">ng e2e</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_cypress">16.7.1. Cypress</h4>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZMAAACHCAYAAADTLLRYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEY3QzhFRjRGMDc4MTFFNTgyMDhGMzEwRjI1QzI2RTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEY3QzhFRjVGMDc4MTFFNTgyMDhGMzEwRjI1QzI2RTAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0RjdDOEVGMkYwNzgxMUU1ODIwOEYzMTBGMjVDMjZFMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0RjdDOEVGM0YwNzgxMUU1ODIwOEYzMTBGMjVDMjZFMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ph6wb9QAACrXSURBVHja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" alt="Cypress">
</div>
</div>
<div class="paragraph">
<p>When you execute your tests,
it launches either Electron, Chrome, Firefox or Edge.
Or you can launch them in <em>headless</em> mode (i.e. without displaying any window) with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">ng e2e --headless</code></pre>
</div>
</div>
<div class="paragraph">
<p>which is very handy for running them on a Continuous Integration platform.</p>
</div>
<div class="paragraph">
<p>Cypress is full of really nice features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>easy to set up</p>
</li>
<li>
<p>easy to mock HTTP responses</p>
</li>
<li>
<p>easy to test different viewports (awesome for responsive applications)</p>
</li>
<li>
<p>nice enough DSL</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The time-travel debugging is the feature that won my heart:
Cypress takes snapshot at each step of your tests,
so you can debug very easily.
Just by hovering the step of the failing test,
you see exactly the state of the application and can play with it.</p>
</div>
<div class="paragraph">
<p>You will write your test suite using Mocha,
and you&#8217;ll see that it really looks like what we had in unit tests with Jasmine,
plus the Cypress API to interact with your app.</p>
</div>
<div class="paragraph">
<p>Cypress gives us a <code>cy</code> object,
with a few utility methods like <code>visit()</code> to go to a page.
Then you have <code>get(selector)</code> to select all the elements matching a CSS selector.
Or <code>contains(selector, text)</code> if you want an element with a specific text.</p>
</div>
<div class="paragraph">
<p>You can use several methods on the object returned by these methods,
like <code>should('contain', text)</code> or <code>should('be', 'not.displayed')</code>.
Or methods like <code>click()</code> and <code>type()</code> to act on the element.</p>
</div>
<div class="paragraph">
<p>You can also fake the API calls,
and check if the requests are sent at the right time.</p>
</div>
<div class="paragraph">
<p>For example, let&#8217;s say the application&#8217;s home page displays a headline.
A simple test would look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">describe('Ponyracer home page', () =&gt; {
  it('should display a headline', () =&gt; {
    cy.visit('/');
    cy.get('span').should('contain', 'ponyracer app is running!');
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>These tests can be quite long to write,
but they are really useful.
You can do all sorts of great things with them,
like recording videos,
taking a screenshot
and comparing them over time, at the pixel level, with something like <a href="https://percy.io">Percy</a>,
etc.</p>
</div>
<div class="paragraph">
<p>With unit tests and e2e tests,
you have the keys to build a robust and maintainable application!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All our Pro Pack exercises come with unit and e2e tests!
If you want to learn more, we strongly encourage you to take a look at them:
we tested every possible part of the application (100% code coverage)!
In the end, you&#8217;ll have dozens of test examples,
which you can use in your own projects.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="http">17. Send and receive data through HTTP</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It won&#8217;t come as a surprise, but a lot of our job consists
in asking a backend server to send data to our webapp,
and then sending data back.</p>
</div>
<div class="paragraph">
<p>Usually this is done over HTTP, even though you have other alternatives nowadays,
like WebSockets.
Angular provides an http module, but doesn&#8217;t force you to use it.
If you prefer, you can use your favorite library to
send HTTP requests.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="HTTP">
</div>
</div>
<div class="paragraph">
<p>One of the possibilities is the <a href="https://github.com/github/fetch">fetch</a> API,
which is currently available as a polyfill, but should become a standard in browsers.
You can perfectly build your app using <code>fetch</code> or another library.
In fact, that&#8217;s what I used before the Http part was done in Angular.
It works great, with no need of special calls to make the framework
aware that we have received data and that it needs to run the change detection
(unlike in AngularJS&#160;1.x, where you would have to call <code>$scope.apply()</code>
if you were using an external library: that&#8217;s the magic of Angular and
its zones!).</p>
</div>
<div class="paragraph">
<p>But if you feel comfortable with the framework,
you will use a small module called <code>HttpClientModule</code>, provided by the core team.
It is an independent module, so, really, do as you like.
Note that it mirrors closely enough the Fetch API proposal.</p>
</div>
<div class="paragraph">
<p>If you want to use it, you have to use the classes from the <code>@angular/common/http</code> package.</p>
</div>
<div class="paragraph">
<p>Why prefer this module over, say, <code>fetch</code>?
The answer is simple: testing.
As we will show, the Http module allows you to mock your backend server
and return fake responses.
That&#8217;s really, really useful.</p>
</div>
<div class="paragraph">
<p>A last thing before we dive into the API: the Http module heavily uses the
reactive programming paradigm.
So if you skipped the
<a href="#reactive-programming">Reactive Programming chapter</a>,
now might be a good time to go back and read it ;).</p>
</div>
<div class="sect2">
<h3 id="_getting_data">17.1. Getting data</h3>
<div class="paragraph">
<p>The Http module offers a service called <code>HttpClient</code> that you can inject
in any constructor.
As the service is coming from another module, you have to manually make it
available to your component or service.
To do so, import the <code>HttpClientModule</code> into the root module:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { HttpClientModule } from '@angular/common/http';

@NgModule({
  imports: [BrowserModule, HttpClientModule],
  declarations: [AppComponent],
  bootstrap: [AppComponent]
})
export class AppModule {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once this is done, you can inject the <code>HttpClient</code> service wherever you need it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-races',
  template: `&lt;h1&gt;Races&lt;/h1&gt;`
})
export class RacesComponent {
  constructor(private http: HttpClient) {}

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, the <code>HttpClient</code> service will do AJAX requests using <code>XMLHttpRequest</code>.</p>
</div>
<div class="paragraph">
<p>It offers several methods, matching the most common HTTP verbs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>get</code></p>
</li>
<li>
<p><code>post</code></p>
</li>
<li>
<p><code>put</code></p>
</li>
<li>
<p><code>delete</code></p>
</li>
<li>
<p><code>patch</code></p>
</li>
<li>
<p><code>head</code></p>
</li>
<li>
<p><code>jsonp</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you used the <code>$http</code> service in AngularJS&#160;1.x, you might remember that it heavily relied on Promises.
In Angular, however, all these methods return an <code>Observable</code> object.</p>
</div>
<div class="paragraph">
<p>A few advantages come with the use of Observables for <code>HttpClient</code> like
the ability to cancel requests, to retry, to easily compose them, etc.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s start by fetching the races available in PonyRacer.
We&#8217;ll assume that a backend is already up and running,
providing a RESTful API. To fetch the races, we&#8217;ll send a GET request to a
URL like 'http://backend.url/api/races'.</p>
</div>
<div class="paragraph">
<p>Usually, the base URL of your HTTP calls will be stored in a variable or a service,
that you can easily configure depending on your environment. Or, if the REST API
is served by the same server as the Angular application, you can simply use
a relative URL: '/api/races'.</p>
</div>
<div class="paragraph">
<p>Using the <code>HttpClient</code> service, such a request is straightforward:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">http
  .get&lt;Array&lt;RaceModel&gt;&gt;(`${baseUrl}/api/races`)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that you don&#8217;t need to deserialize the response body
from a string to a JavaScript array or object.
That is done automatically by Angular.
However, Angular won&#8217;t make any check to verify
that the JSON in the response indeed conforms
to the generic type you specified.
It&#8217;s up to you to make sure that you&#8217;re using the correct generic type,
and that the <code>RaceModel</code> interface indeed matches
with the JSON that the server sends back.</p>
</div>
<div class="paragraph">
<p>This returns an Observable, to which you can subscribe to receive
the response.</p>
</div>
<div class="paragraph">
<p>The response body is the most interesting part,
and it is directly emitted by the Observable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">http.get&lt;Array&lt;RaceModel&gt;&gt;(`${baseUrl}/api/races`).subscribe((response: Array&lt;RaceModel&gt;) =&gt; {
  console.log(response);
  // logs the array of races
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course, you can also have access to the full HTTP response.
The object returned is then an <code>HttpResponse</code> object,
with a few fields like the <code>status</code> code, <code>headers</code>, etc.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">http
  .get&lt;Array&lt;RaceModel&gt;&gt;(`${baseUrl}/api/races`, { observe: 'response' })
  .subscribe((response: HttpResponse&lt;Array&lt;RaceModel&gt;&gt;) =&gt; {
    console.log(response.status); // logs 200
    console.log(response.headers.keys()); // logs []
  });</code></pre>
</div>
</div>
<div class="paragraph">
<p>The observable will throw an error if the response status is different from 2xx or 3xx,
and the error is then of type <code>HttpErrorResponse</code>.</p>
</div>
<div class="paragraph">
<p>Sending data is fairly easy too.
Just call the <code>post()</code> or <code>put()</code> method,
with the URL and the object to post:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">http
  .post&lt;RaceModel&gt;(`${baseUrl}/api/races`, newRace)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once again, no need to serialize the race object being sent to JSON.
Angular does that for you.
The generic type <code>RaceModel</code> here is,
just as with the <code>get()</code> method,
the type of the response body.
So this example endpoint takes a <code>RaceModel</code>
as input and returns the created <code>RaceModel</code>.</p>
</div>
<div class="paragraph">
<p>I won&#8217;t show you the other methods - I&#8217;m sure you get the idea.</p>
</div>
</div>
<div class="sect2">
<h3 id="_transforming_data">17.2. Transforming data</h3>
<div class="paragraph">
<p>This kind of work will usually be done in a dedicated service.
I tend to create a service, like <code>RaceService</code>, where all the job is done.
Then, my component just needs to subscribe to my service method, without knowing
what&#8217;s going on under the hood.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">raceService.list().subscribe(races =&gt; {
  // store the array of the races in the component
  this.races = races;
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also leverage the power of RxJS to retry a failed request a few times, for example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">raceService
  .list()
  .pipe(
    // if the request fails, retry 3 times
    retry(3)
  )
  .subscribe(races =&gt; {
    // store the array of the races in the component
    this.races = races;
  });</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_advanced_options">17.3. Advanced options</h3>
<div class="paragraph">
<p>Of course, you can tune your requests more finely.
Every method takes an <code>options</code> object as an optional parameter,
where you can configure your request.
A few options are really useful and you can override everything in the request.</p>
</div>
<div class="paragraph">
<p><code>params</code> represents the URL search parameters
(also known as the query string) to add to the URL.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const params = {
  sort: 'ascending',
  page: '1'
};

http
  .get&lt;Array&lt;RaceModel&gt;&gt;(`${baseUrl}/api/races`, { params })
  // will call the URL ${baseUrl}/api/races?sort=ascending&amp;page=1
  .subscribe(response =&gt; {
    // will return the races sorted
    this.races = response;
  });</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>headers</code> option is often useful to add a few custom headers to your request.
It happens to be necessary for some authentication techniques like JSON Web Token for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const headers = { Authorization: `Bearer ${token}` };

http.get&lt;Array&lt;RaceModel&gt;&gt;(`${baseUrl}/api/races`, { headers }).subscribe(response =&gt; {
  // will return the races visible for the authenticated user
  this.races = response;
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_jsonp">17.4. Jsonp</h3>
<div class="paragraph">
<p>To let you access their API without being blocked by the Same Origin Policy enforced by web browsers,
some web services don&#8217;t use CORS, but use JSONP (JSON with Padding).</p>
</div>
<div class="paragraph">
<p>The server will not return the JSON data directly, but wrap them in the function passed as a callback.
The response comes back as a script, and scripts are not subject to the Same Origin Policy.
Once loaded, you can access the JSON value contained in the response.</p>
</div>
<div class="paragraph">
<p>In addition to the classic HTTP methods,
the <code>HttpClient</code> offers a <code>jsonp</code> method.
All you have to do is specify the URL of the service you want to call,
and add the name of the callback you want.</p>
</div>
<div class="paragraph">
<p>In the following example, we are fetching all the public repos from our Github organization using JSONP.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">http
  .jsonp&lt;{ data: Array&lt;GithupRepo&gt; }&gt;('https://api.github.com/orgs/Ninja-Squad/repos', 'callback')
  .pipe(
    // extract data
    map((res: { data: Array&lt;GithupRepo&gt; }) =&gt; res.data)
  )
  .subscribe(response =&gt; {
    // will return the public repos of Ninja-Squad
    this.repos = response;
  });</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_interceptors">17.5. Interceptors</h3>
<div class="paragraph">
<p>Interceptors are interesting when you want to&#8230;&#8203; intercept requests or responses in your application.</p>
</div>
<div class="paragraph">
<p>For example, if you want to intercept every request to add a specific header to some of them,
you can now write an interceptor like this one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Injectable()
export class GithubAPIInterceptor implements HttpInterceptor {
  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {
    // if it is a Github API request
    if (req.url.includes('api.github.com')) {
      // we need to add an OAUTH token as a header to access the Github API
      const clone = req.clone({ setHeaders: { Authorization: `token ${OAUTH_TOKEN}` } });
      return next.handle(clone);
    }
    // if it's not a Github API request, we just hand it to the next handler
    return next.handle(req);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that you have to clone the request to update it (requests are immutable).</p>
</div>
<div class="paragraph">
<p>Then add your interceptor to the <code>HTTP_INTERCEPTORS</code> array via dependency injection:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">providers: [
  { provide: HTTP_INTERCEPTORS, useClass: GithubAPIInterceptor, multi: true }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now every request will go through the interceptor,
and receive the custom header if needed (here the requests to the Github API).</p>
</div>
<div class="paragraph">
<p>You can also intercept the response,
which can be handy to handle errors in a generic way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Injectable()
export class ErrorHandlerInterceptor implements HttpInterceptor {
  constructor(private router: Router, private errorHandler: ErrorHandler) {}

  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {
    return next.handle(req).pipe(
      // we catch the error
      tap({
        error: (errorResponse: HttpErrorResponse) =&gt; {
          // if the status is 401 Unauthorized
          if (errorResponse.status === HttpStatusCode.Unauthorized) {
            // we redirect to login
            this.router.navigateByUrl('/login');
          } else {
            // else we notify the user
            this.errorHandler.handle(errorResponse);
          }
        }
      })
    );
  }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Angular v15 introduced a new way to declare interceptors using a function.
Check out the
<a href="#standalone-components">Standalone components chapter</a>
to learn more about it.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_context">17.6. Context</h3>
<div class="paragraph">
<p>Sometimes you want to give some context to an interceptor.
Doing so used to be painful.
The most common workaround was to use headers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const headers = { 'should-not-handle-error': 'true' };
return http.get(`${baseUrl}/api/users`, { headers });</code></pre>
</div>
</div>
<div class="paragraph">
<p>And then check and remove this header in the interceptor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {
  if (req.headers.get('should-not-handle-error')) {
    // don't send the header to the server
    req.headers.delete('should-not-handle-error');
    // and do nothing
    return next.handle(req);
  }
  return next.handle(req).pipe(
    // we catch the error
    tap({
      error: (errorResponse: HttpErrorResponse) =&gt; {</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since Angular v12, it is now easier thanks to <code>HttpContext</code>!
The context uses a type safe token (<code>HttpContextToken</code>),
so you can define something like this in your interceptor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export const SHOULD_NOT_HANDLE_ERROR = new HttpContextToken&lt;boolean&gt;(() =&gt; false);</code></pre>
</div>
</div>
<div class="paragraph">
<p>And simplify the interceptor to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {
  // if there is a context specifically asking for not handling the error, we don't handle it
  if (req.context.get(SHOULD_NOT_HANDLE_ERROR)) {
    return next.handle(req);
  }
  return next.handle(req).pipe(
    // we catch the error
    tap({
      error: (errorResponse: HttpErrorResponse) =&gt; {</code></pre>
</div>
</div>
<div class="paragraph">
<p>All HTTP methods accept a <code>context</code> option,
which is a Map that you can build in a type-safe way by using the token defined previously:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const context = new HttpContext().set(SHOULD_NOT_HANDLE_ERROR, true);
return http.get(`${baseUrl}/api/users`, { context });</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tests">17.7. Tests</h3>
<div class="paragraph">
<p>We now have a service calling an HTTP endpoint to fetch the races.
How do we test it?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Injectable({
  providedIn: 'root'
})
export class RaceService {
  constructor(private http: HttpClient) {}

  list(): Observable&lt;Array&lt;RaceModel&gt;&gt; {
    return this.http.get&lt;Array&lt;RaceModel&gt;&gt;('/api/races');
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In a unit test, you don&#8217;t want to really call the HTTP server: that&#8217;s not what we are testing.
We want to "fake" the HTTP call to return fake data.
To do this, we can replace the dependency to the <code>HttpClient</code> service with a fake implementation
by importing the <code>HttpClientTestingModule</code>.
We can then use a class provided by the framework called <code>HttpTestingController</code>
to fake the HTTP responses.</p>
</div>
<div class="paragraph">
<p>And you can also add a few assertions on the underlying HTTP request:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { TestBed } from '@angular/core/testing';
import { HttpClientTestingModule, HttpTestingController } from '@angular/common/http/testing';
describe('RaceService', () =&gt; {
  let raceService: RaceService;
  let http: HttpTestingController;

  beforeEach(() =&gt;
    TestBed.configureTestingModule({
      imports: [HttpClientTestingModule]
    })
  );

  beforeEach(() =&gt; {
    raceService = TestBed.inject(RaceService);
    http = TestBed.inject(HttpTestingController);
  });

  afterEach(() =&gt; {
    http.verify();
  });

  it('should return an Observable of 2 races', () =&gt; {
    // fake response
    const hardcodedRaces = [{ name: 'London' }, { name: 'Lyon' }];

    // call the service
    let actualRaces: Array&lt;RaceModel&gt; = [];
    raceService.list().subscribe(races =&gt; (actualRaces = races));

    // check that the underlying HTTP request was correct
    http
      .expectOne('/api/races')
      // return the fake response when we receive a request
      .flush(hardcodedRaces);

    // check that the returned array is deserialized as expected
    expect(actualRaces.length).toBe(2);
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>And we&#8217;re done!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Try our exercise
<a href="https://angular-exercises.ninja-squad.com/exercises/11/http">HTTP</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
and our
<a href="https://angular-exercises.ninja-squad.com/exercises/21/quiz-http">quiz</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>!
We prepared a full REST API, ready for you to use.
Let&#8217;s fetch some races using the <code>HttpClient</code> service.
Later you&#8217;ll learn how to call a secured API with an authentication mechanism and interceptors
in exercises
<a href="https://angular-exercises.ninja-squad.com/exercises/22/http-auth">HTTP with authentication</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>,
<a href="https://angular-exercises.ninja-squad.com/exercises/23/bet">Bet on a pony</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
and
<a href="https://angular-exercises.ninja-squad.com/exercises/24/cancel-bet">Cancel a bet</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>.
Slightly related, we&#8217;ll also use
<a href="https://angular-exercises.ninja-squad.com/exercises/26/websockets">WebSockets</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="router">18. Router</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is fairly common to want to map a URL to a state of the application.
That makes sense: you want your user to be able to bookmark a page and come back,
and it provides a better experience overall.</p>
</div>
<div class="paragraph">
<p>The piece in charge of doing this job is called a router, and every framework has its own (or several ones).</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="Router">
</div>
</div>
<div class="paragraph">
<p>The router in Angular has a simple goal: the creation of meaningful URLs reflecting the state
of our app, and each URL knowing what component should be initialized and inserted in the page.
It will execute all this without refreshing the page and without triggering a new request to our backend server:
this is the whole point of having a Single Page Application.</p>
</div>
<div class="paragraph">
<p>You probably know there was already a router in AngularJS&#160;1.x,
maintained by the core team, in a module called <code>ngRoute</code>.
You may also know that it was a very simplistic one: OK for simple applications,
but it was only allowing a single view per URL and no nesting was possible.
It was a bit limited when working on bigger apps, where you often have views inside views.
There was a very popular community module, called <code>ui-router</code>,
that a lot of people were using and which was doing a really great job.</p>
</div>
<div class="paragraph">
<p>The team behind Angular decided to bridge the gap and wrote a new module called <code>RouterModule</code>.
This module will hopefully fulfill all our needs!</p>
</div>
<div class="paragraph">
<p>Some new features are really interesting.
So let&#8217;s go!</p>
</div>
<div class="sect2">
<h3 id="_en_route">18.1. En route</h3>
<div class="paragraph">
<p>Let&#8217;s start using the router.
It is an optional module, that is thus not included in the core framework.</p>
</div>
<div class="paragraph">
<p>As we saw for the other modules,
you have to include it in your root module if you want to use it.
But for that, we need a configuration
to define the mapping between URLs and components.
We can do this with a dedicated file, generally named like <code>app.routes.ts</code>,
and containing an array representing the configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Routes } from '@angular/router';
import { HomeComponent } from './home/home.component';
import { RacesComponent } from './races/races.component';

export const routes: Routes = [
  { path: '', component: HomeComponent },
  { path: 'races', component: RacesComponent }
];</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then we need to import the router module in our root module,
initialized with the proper configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { RouterModule } from '@angular/router';
import { routes } from './app.routes';
import { HomeComponent } from './home/home.component';
import { RacesComponent } from './races/races.component';

@NgModule({
  imports: [BrowserModule, RouterModule.forRoot(routes)],
  declarations: [AppComponent, HomeComponent, RacesComponent],
  bootstrap: [AppComponent]
})
export class AppModule {}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You also need to declare all the components used by the router module
in the <code>declarations</code> attribute of your root module.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As you can see, the <code>Routes</code> is an array of objects, each one being a&#8230;&#8203; route.
A route configuration is usually a pair of properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>path</code>: what URL will trigger the navigation</p>
</li>
<li>
<p><code>component</code>: which component will be initialized and inserted</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You may be wondering where the component will be inserted in the page, and that&#8217;s a good question.
For a component to be included in our app, like the <code>RacesComponent</code> in the example above,
we must use a special tag in the template of the primary component: <code>&lt;router-outlet&gt;</code>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nNDA2JyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgNDcwIDQwNicgd2lkdGg9JzQ3MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nNDA2JyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzQ3MCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00yNS4wIDM1LjAgTDQ0NS4wIDM1LjAgTDQ0NS4wIDM3MS4wIEwyNS4wIDM3MS4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTQ1LjAgMTc1LjAgTDQyNS4wIDE3NS4wIEw0MjUuMCAyNTkuMCBMNDUuMCAyNTkuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J000NS4wIDkxLjAgTDQyNS4wIDkxLjAgTDQyNS4wIDE0Ny4wIEw0NS4wIDE0Ny4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTQ1LjAgMjg3LjAgTDQyNS4wIDI4Ny4wIEw0MjUuMCAzNDMuMCBMNDUuMCAzNDMuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J00yNS4wIDM1LjAgTDQ0NS4wIDM1LjAgTDQ0NS4wIDM3MS4wIEwyNS4wIDM3MS4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNDUuMCAxNzUuMCBMNDI1LjAgMTc1LjAgTDQyNS4wIDI1OS4wIEw0NS4wIDI1OS4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNDUuMCA5MS4wIEw0MjUuMCA5MS4wIEw0MjUuMCAxNDcuMCBMNDUuMCAxNDcuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTQ1LjAgMjg3LjAgTDQyNS4wIDI4Ny4wIEw0MjUuMCAzNDMuMCBMNDUuMCAzNDMuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTkwLjAgMjI0LjAgTDEwMC4wIDIzMS4wIEw5MC4wIDIzOC4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J004MC4wIDIzMS4wIEw5NS4wIDIzMS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTMnIHN0cm9rZT0nbm9uZScgeD0nNDMnIHk9JzY4Jz48IVtDREFUQVtBcHBDb21wb25lbnRdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNjEnIHk9JzExMCc+PCFbQ0RBVEFbSGVhZGVyXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzY3JyB5PScyMDgnPjwhW0NEQVRBW1JvdXRlck91dGxldF1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PScxMTgnIHk9JzIzNic+PCFbQ0RBVEFbd2hlcmUgb3VyIGNvbXBvbmVudCBnb2VzXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzYzJyB5PSczMDYnPjwhW0NEQVRBW0Zvb3Rlcl1dPjwvdGV4dD48L2c+PC9zdmc+" alt="router outlet" width="470" height="406">
</div>
</div>
<div class="paragraph">
<p>This is, of course, an Angular directive,
whose only job is to act as a placeholder for the template of the component of the current route.
Our app template would look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;header&gt;
  &lt;nav&gt;...&lt;/nav&gt;
&lt;/header&gt;
&lt;main&gt;
  &lt;router-outlet&gt;&lt;/router-outlet&gt;
  &lt;!-- the component's template will be inserted here--&gt;
&lt;/main&gt;
&lt;footer&gt;made with &amp;lt;3 by Ninja Squad&lt;/footer&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When we navigate, everything will stay (the header, main and footer here)
and the component matching the current route will be inserted just after the <code>RouterOutlet</code> directive.</p>
</div>
</div>
<div class="sect2">
<h3 id="_navigation">18.2. Navigation</h3>
<div class="paragraph">
<p>How can we navigate between the different components?
Well, you can manually type the URL and reload the page, but that&#8217;s not very convenient.
And we don&#8217;t want to use "classic" links, with <code>&lt;a href="&#8230;&#8203;"&gt;&lt;/a&gt;</code>.
Indeed, clicking on that link makes the browser load the page at that URL, and restart the whole Angular application.
But the goal of Angular is to avoid such page reloads: we want to create a Single Page Application.
Of course, there is a built-in solution.</p>
</div>
<div class="paragraph">
<p>In a template, you can insert a link with the directive <code>RouterLink</code> pointing to the path you want to go to.
We can use this directive because our root module imports the <code>RouterModule</code>,
making all the exported directives of <code>RouterModule</code> available to the root module.
The <code>RouterLink</code> directive can receive a constant representing the path you want to go to
or an array of strings,
representing the path and its params.
For example in our <code>RacesComponent</code> template, if we want to navigate to the <code>HomeComponent</code>,
we can imagine something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;a href="" routerLink="/"&gt;Home&lt;/a&gt;
&lt;!-- same as --&gt;
&lt;a href="" [routerLink]="['/']"&gt;Home&lt;/a&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>At runtime, the link <code>href</code> will be computed by the router and will point to <code>/</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The leading slash in the path is necessary.
If not included, <code>RouterLink</code> builds the URL relatively to the current path
(which can be useful with nested components, as we&#8217;ll see later).
Adding a slash indicates that the URL must be computed from the application base URL.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>RouterLink</code> directive can be used with the <code>RouterLinkActive</code> directive which can set a CSS class
automatically if the link points to the current route.
This allows you, for example,
to style a menu item as selected when it points to the current page.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;a href="" routerLink="/" routerLinkActive="selected-menu"&gt;Home&lt;/a&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can even put a reference on this directive,
to know if the route is active, and use it in the template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;a href="" routerLink="/" routerLinkActive #route="routerLinkActive"&gt;Home {{ route.isActive ? '(here)' : '' }}&lt;/a&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s also possible to navigate from the code, by using the <code>Router</code> service and its method <code>navigate()</code>.
It&#8217;s often handy when you want to redirect your user after an action:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export class RacesComponent {
  constructor(private router: Router) {}

  saveAndMoveBackToHome(): void {
    // ... save logic ...
    this.router.navigate(['']);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The method takes an array of parameters, with the path you want to navigate to as the first element.</p>
</div>
<div class="paragraph">
<p>It is also possible to have parameters in the URL,
and it&#8217;s really useful to define dynamic URLs.
For example, we want to display a detail page for a pony,
with a meaningful URL for this page, like <code>ponies/id-of-the-pony-/name-of-the-pony</code>.</p>
</div>
<div class="paragraph">
<p>To do so, let&#8217;s define a route in the configuration with one (or several) dynamic parameters.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export const routes: Routes = [
  { path: '', component: HomeComponent },
  { path: 'races', component: RacesComponent },
  { path: 'races/:raceId/ponies/:ponyId', component: PonyComponent }
];</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can then define dynamic links with <code>routerLink</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;a href="" [routerLink]="['/races', race.id, 'ponies', pony.id]"&gt;See pony&lt;/a&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course, the target component needs to access those parameters
to be able to load and display the pony with the given identifier.
To get the value of the parameters, the router provides a service,
that you can of course inject in the component, named <code>ActivatedRoute</code>.
This object can be used inside <code>ngOnInit</code>, and has a very useful field: <code>snapshot</code>.
This field has all the parameters of the URL in <code>paramMap</code>!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export class PonyComponent implements OnInit {
  pony!: PonyModel;

  constructor(private ponyService: PonyService, private route: ActivatedRoute) {}

  ngOnInit(): void {
    const id = this.route.snapshot.paramMap.get('ponyId')!;
    this.ponyService.get(id).subscribe(pony =&gt; (this.pony = pony));
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This hook is also a good place to do the initialization work of the component as you can see.</p>
</div>
<div class="paragraph">
<p>As you may have spotted, we are using <code>snapshot</code>. Is there a non snapshot version?
Yes there is. And it provides a way to subscribe to parameter changes, with,
you guessed it, an observable.
This observable is called <code>paramMap</code>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This is very important: the router will reuse your component if it can!
Let&#8217;s say our app has a "Next" button to see the next pony.
The URL will change from <code>/ponies/1</code> to <code>/ponies/2</code> for example when the user clicks.
The router will then reuse our component instance:
that means the <code>ngOnInit</code> will not be called again!
If you want your component to update for this kind of navigation,
you have no other way than using the <code>paramMap</code> observable!
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export class PonyReusableComponent implements OnInit {
  pony!: PonyModel;

  constructor(private ponyService: PonyService, private route: ActivatedRoute) {}

  ngOnInit(): void {
    this.route.paramMap.subscribe((params: ParamMap) =&gt; {
      const id = params.get('ponyId')!;
      this.ponyService.get(id).subscribe(pony =&gt; (this.pony = pony));
    });
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we subscribe to the observable offered by <code>ActivatedRoute</code>.
Now, every time the URL changes from <code>/ponies/1</code> to <code>/ponies/2</code> for example,
the <code>paramMap</code> observable will emit an event,
and we&#8217;ll fetch the correct pony to display on screen.</p>
</div>
<div class="paragraph">
<p>Note that instead of subscribing to the result of the <code>PonyService</code>
inside the subscribe of the params update,
we can use the more elegant <code>switchMap</code> operator:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export class PonySwitchMapComponent implements OnInit {
  pony!: PonyModel;

  constructor(private ponyService: PonyService, private route: ActivatedRoute) {}

  ngOnInit(): void {
    this.route.paramMap
      .pipe(
        map((params: ParamMap) =&gt; params.get('ponyId')!),
        switchMap(id =&gt; this.ponyService.get(id))
      )
      .subscribe(pony =&gt; (this.pony = pony));
  }
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Try our exercise
<a href="https://angular-exercises.ninja-squad.com/exercises/12/router">Router</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
to learn how to configure the router,
navigate between components, and test all this.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>What you have just learnt should cover your basic routing needs. But the router goes well beyond this and
offers many additional features. Covering them all in detail is quite a big task, and you can feel
overwhelmed when trying to learn them all.</p>
</div>
<div class="paragraph">
<p>This section will try to present most of the additional features as
concisely as possible, by explaining what they&#8217;re useful for. But it will not try covering every detail. If you really need
an extensive coverage of the router features, there&#8217;s a <a href="https://leanpub.com/router">whole book</a> available for that,
written by the main contributor to the Angular router, Victor Savkin.</p>
</div>
</div>
<div class="sect2">
<h3 id="_redirects">18.3. Redirects</h3>
<div class="paragraph">
<p>A common use-case is to have a URL simply redirect to another URL in the application. This can happen because you want,
for example, the root URL of your news app to redirect to the <code>/breaking</code> news category, or an old URL to redirect
to a new one after a refactoring. This is possible using</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{ path: '', pathMatch: 'full', redirectTo: '/breaking' },</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_matching_strategy">18.4. Matching strategy</h3>
<div class="paragraph">
<p>In the above example illustrating a redirect, I applied a strategy for matching the route: <code>'full'</code>. The default
strategy is <code>'prefix'</code>, which matches a route with a URL when the URL starts with the path of the route. If we used
this default strategy here, all URLs would redirect to <code>/breaking</code>, since all URLs start with an empty string.</p>
</div>
<div class="paragraph">
<p>The matching strategy consists in finding the first route that matches the complete URL. So, for example,
if you define routes like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{ path: 'races/:id', component: RaceComponent },
{ path: 'races/new', component: RaceCreationComponent }</code></pre>
</div>
</div>
<div class="paragraph">
<p>and the URL is <code>races/new</code>, the component that the router will activate is in fact the <code>RaceComponent</code>. Indeed,
<code>races/:id</code> matches with <code>races/new</code> and comes first in the list of routes. To solve this problem, change the order
of the routes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{ path: 'races/new', component: RaceCreationComponent },
{ path: 'races/:id', component: RaceComponent }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hierarchical_and_empty_path_routes">18.5. Hierarchical and empty-path routes</h3>
<div class="paragraph">
<p>Routes can have children. This can be useful for several reasons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>applying guards to several routes at once (see later);</p>
</li>
<li>
<p>applying resolvers to several routes at once (see later);</p>
</li>
<li>
<p>sharing a a common template between several routes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As we have seen before, when the router activates a route, the component of the route is inserted in the page at the
location marked by the <code>router-outlet</code> directive.</p>
</div>
<div class="paragraph">
<p>This mechanism can in fact be used in nested components, too.
Suppose you have a complex page to display the profile of a pony. This page would display its name and
portrait at the top, and would have several tabs at the bottom: one to display its birth certificate, one to display
its track record, and one to display journalist reviews about this pony. You want to have a URL for each tab, in
order to be able to directly link to them. But you don&#8217;t want to reload the pony and repeat its name and
portrait on every on these three tab components.</p>
</div>
<div class="paragraph">
<p>The solution is to use a nested <code>router-outlet</code> in the template of the <code>PonyComponent</code>, and to define a parent pony route,
this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: 'ponies/:ponyId',
  component: PonyComponent,
  children: [
    { path: 'birth-certificate', component: BirthCertificateComponent },
    { path: 'track-record', component: TrackRecordComponent },
    { path: 'reviews', component: ReviewsComponent }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When going to the URL <code>ponies/42/reviews</code>, for example, the router will insert the PonyComponent at the location indicated
by the main router-outlet, in the root component. The template of PonyComponent, besides the name and the portrait
of the pony, contains a second router-outlet. This is where the child <code>ReviewsComponent</code> will be inserted.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMzM2JyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgNDUwIDMzNicgd2lkdGg9JzQ1MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMzM2JyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzQ1MCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00zNS4wIDYzLjAgTDQyNS4wIDYzLjAgTDQyNS4wIDMwMS4wIEwzNS4wIDMwMS4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTY1LjAgMTE5LjAgTDQwNS4wIDExOS4wIEw0MDUuMCAyODcuMCBMNjUuMCAyODcuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J002NS4wIDE0Ny4wIEw0MDUuMCAxNDcuMCBMNDA1LjAgMjg3LjAgTDY1LjAgMjg3LjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNOTUuMCAyMDMuMCBMMzU1LjAgMjAzLjAgTDM1NS4wIDI3My4wIEw5NS4wIDI3My4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM1LjAgMzUuMCBMNDI1LjAgMzUuMCBMNDI1LjAgNjMuMCBMMzUuMCA2My4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTk1LjAgMjMxLjAgTDM1NS4wIDIzMS4wIEwzNTUuMCAyNzMuMCBMOTUuMCAyNzMuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J002NS4wIDExOS4wIEw0MDUuMCAxMTkuMCBMNDA1LjAgMTQ3LjAgTDY1LjAgMTQ3LjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNOTUuMCAyMDMuMCBMMzU1LjAgMjAzLjAgTDM1NS4wIDIzMS4wIEw5NS4wIDIzMS4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM1LjAgNjMuMCBMNDI1LjAgNjMuMCBMNDI1LjAgMzAxLjAgTDM1LjAgMzAxLjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J002NS4wIDExOS4wIEw0MDUuMCAxMTkuMCBMNDA1LjAgMjg3LjAgTDY1LjAgMjg3LjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J002NS4wIDE0Ny4wIEw0MDUuMCAxNDcuMCBMNDA1LjAgMjg3LjAgTDY1LjAgMjg3LjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J005NS4wIDIwMy4wIEwzNTUuMCAyMDMuMCBMMzU1LjAgMjczLjAgTDk1LjAgMjczLjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00zNS4wIDM1LjAgTDQyNS4wIDM1LjAgTDQyNS4wIDYzLjAgTDM1LjAgNjMuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTk1LjAgMjMxLjAgTDM1NS4wIDIzMS4wIEwzNTUuMCAyNzMuMCBMOTUuMCAyNzMuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTY1LjAgMTE5LjAgTDQwNS4wIDExOS4wIEw0MDUuMCAxNDcuMCBMNjUuMCAxNDcuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTk1LjAgMjAzLjAgTDM1NS4wIDIwMy4wIEwzNTUuMCAyMzEuMCBMOTUuMCAyMzEuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNTUnIHk9JzU0Jz48IVtDREFUQVthcHAuY29tcG9uZW50Lmh0bWxdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNTYnIHk9JzgyJz48IVtDREFUQVsuLi5dXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNjMnIHk9JzExMCc+PCFbQ0RBVEFbcm91dGVyIG91dGxldF1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc4NScgeT0nMTM4Jz48IVtDREFUQVtwb255LmNvbXBvbmVudC5odG1sXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9Jzg2JyB5PScxNjYnPjwhW0NEQVRBWy4uLl1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc5MycgeT0nMTk0Jz48IVtDREFUQVtyb3V0ZXIgb3V0bGV0XV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzExOCcgeT0nMjIyJz48IVtDREFUQVtyZXZpZXdzLmNvbXBvbmVudC5odG1sXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzExNicgeT0nMjUwJz48IVtDREFUQVsuLi5dXT48L3RleHQ+PC9nPjwvc3ZnPg==" alt="router outlet result" width="450" height="336">
</div>
</div>
<div class="paragraph">
<p>When going to the URL <code>ponies/42</code>, the pony component will be displayed, but none of the three children components will.
You might want to display the birth certificate tab by default. That can be achieved using an empty-path route,
redirecting to the <code>birth-certificate</code> route:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: 'ponies/:ponyId',
  component: PonyComponent,
  children: [
    { path: '', pathMatch: 'full', redirectTo: 'birth-certificate' },
    { path: 'birth-certificate', component: BirthCertificateComponent },
    { path: 'track-record', component: TrackRecordComponent },
    { path: 'reviews', component: ReviewsComponent }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that, in the above example, the redirect is relative to the <code>ponies/:ponyId</code> route, because it doesn&#8217;t start
with a <code>/</code>.</p>
</div>
<div class="paragraph">
<p>Instead of redirecting, you might want to display the birth certificate at the URL <code>ponies/42</code>. This can also be
achieved using a child empty-path route:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: 'ponies/:ponyId',
  component: PonyComponent,
  children: [
    { path: '', component: BirthCertificateComponent },
    { path: 'track-record', component: TrackRecordComponent },
    { path: 'reviews', component: ReviewsComponent }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_guards">18.6. Guards</h3>
<div class="paragraph">
<p>Some routes of the application should not be accessible to all users, depending on their permissions. Of course,
you should hide or disable links pointing to these routes if the user may not access them. You should also make sure
that the backend doesn&#8217;t allow accessing or modifying resources that the user isn&#8217;t authorized to access or modify. But that still
won&#8217;t prevent users from accessing routes that they&#8217;re not allowed to access, who can simply enter their URL in the address bar.</p>
</div>
<div class="paragraph">
<p>That&#8217;s where guards come into play. There are 4 kinds of guards:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CanActivate</code>: when set on a route, the guard can disable the activation of this route.
Note that the guard can also return a URL to navigate elsewhere
(to be more accurate, it can return an Angular type called <code>UrlTree</code> - keep reading for an example).
This can be useful for showing an error page, or to navigate to the
login page when an unauthenticated user tries accessing a route that requires authentication;</p>
</li>
<li>
<p><code>CanActivateChild</code>: when set on a route, the guard can disable the activation of children of that route. This can
be useful to disable access to many child routes at once, based on their URL;</p>
</li>
<li>
<p><code>CanDeactivate</code>: this guard is different from the three other ones. It&#8217;s used to prevent navigation from outside
of the currently activated route. This can be useful for asking for confirmation before leaving a route containing
a large form, for example.</p>
</li>
<li>
<p><code>CanMatch</code>: introduced in Angular&#160;v14.1, this guard indicates to the router if the route can be matched or not.
If the guards returns <code>false</code>, then the route is simply ignored, and the router looks for another to match.
A typical usage of <code>CanMatch</code> is to have several routes matching the same path with different components,
and use <code>CanMatch</code> to let the router know which one should be displayed based on the user profile for example.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here&#8217;s how you would add a <code>CanActivate</code> guard on a route. The three other guards are added in a similar way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{ path: 'races', component: RacesComponent, canActivate: [LoggedInGuard] }</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above example, <code>LoggedInGuard</code> is an Angular service. As any other service, it must be provided, typically
by adding it to the providers of the Angular module.</p>
</div>
<div class="paragraph">
<p>This service must implement the <code>CanActivate</code> interface. It
consists of deciding whether the route can be activated or not (by checking if the user is logged in or not),
and in returning a <code>boolean</code>, a <code>Promise&lt;boolean|UrlTree&gt;</code>, an <code>Observable&lt;boolean|UrlTree&gt;</code> or a <code>UrlTree</code>.</p>
</div>
<div class="paragraph">
<p>The router will navigate to the route if the returned value is <code>true</code>, or if the returned promise is resolved as
<code>true</code>, or if the returned observable emits <code>true</code>.
If the returned value is a <code>UrlTree</code>, it cancels the current navigation
and triggers a navigation to the returned <code>UrlTree</code>.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s what the <code>LoggedInGuard</code> might look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Injectable({
  providedIn: 'root'
})
export class LoggedInGuard implements CanActivate {
  constructor(private router: Router, private userService: UserService) {}

  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean | UrlTree {
    // returns `true` if the user is logged in or redirects to the login page
    // note that you can also use `router.createUrlTree()` to build a `UrlTree` with parameters
    return this.userService.isLoggedIn() || this.router.parseUrl('/login');
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since Angular&#160;v14.2, it is now possible to use functions to define guards:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export const loggedInGuard: CanActivateFn = () =&gt; {
  const userService = inject(UserService);
  const router = inject(Router);
  // returns `true` if the user is logged in or redirects to the login page
  // note that you can also use `router.createUrlTree()` to build a `UrlTree` with parameters
  return userService.isLoggedIn() || router.parseUrl('/login');
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>and use them in a similar way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{ path: 'races', component: RacesComponent, canActivate: [loggedInGuard] }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Hierarchical routes combined with empty-path routes can be very handy when you want to apply a guard on several routes
at once. For example, if you want both the races and the ponies routes to be accessible only to logged in users,
instead of</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{ path: 'ponies/:ponyId', component: PonyComponent, canActivate: [LoggedInGuard] },
{ path: 'races', component: RacesComponent, canActivate: [LoggedInGuard] }</code></pre>
</div>
</div>
<div class="paragraph">
<p>you can introduce an empty-path, componentless route as a parent. This route won&#8217;t consume any URL segment, and
won&#8217;t activate any component, but its guards will be called when navigating to any of its children:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: '',
  canActivate: [LoggedInGuard],
  children: [
    { path: 'ponies/:ponyId', component: PonyComponent },
    { path: 'races', component: RacesComponent }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_resolvers">18.7. Resolvers</h3>
<div class="paragraph">
<p>In a good old multi-page application where the pages are generated server-side, when clicking on a link, here&#8217;s what
happens: a request is sent to the server, the browser typically shows a spinning icon on the tab, and when the response
finally comes back from the server, the URL in the address bar changes and the content of the new page is displayed.</p>
</div>
<div class="paragraph">
<p>In an Angular single-page application, it doesn&#8217;t exactly work that way. The user clicks on a link to display a
pony race (for example). The router creates an instance of the <code>RaceComponent</code>, and the component sends an AJAX
request to load the race. The router immediately inserts the component template at the router-outlet location and changes
the URL in the address bar. At this time, immediately after the click, the user sees the new page, but without any race.
When the response to the AJAX request comes back, the race is stored in the component and the DOM is updated.</p>
</div>
<div class="paragraph">
<p>This has advantages and drawbacks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the navigation to the new page feels faster;</p>
</li>
<li>
<p>the user can be confused if loading the race is too long, because the page appears blank, which looks like a bug;</p>
</li>
<li>
<p>the template must be coded carefully, in order to work fine during the small period of time when the race is <code>null</code>
or <code>undefined</code>;</p>
</li>
<li>
<p>the template can however provide an immediate feedback by displaying a message or a spinning animation indicating
that the race is being loaded;</p>
</li>
<li>
<p>if loading the race fails (because the connectivity is lost, for example), then the navigation has been made and the URL
has changed, although the page can&#8217;t display any race, instead of staying on the previous page.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A resolver allows making the application behave almost like a traditional multi-page application. Instead of letting
the race component load the race, you apply a resolver on the route, and the resolver loads the race on behalf of
the component.</p>
</div>
<div class="paragraph">
<p>Like a guard, a resolver can return data synchronously (by returning a race) or asynchronously (by returning a
promise or observable of a race). The router only navigates to the route once the promise has been resolved, or once
the observable has completed with at least an emitted race. Here&#8217;s what a resolver for a race would look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Injectable({
  providedIn: 'root'
})
export class RaceResolver implements Resolve&lt;RaceModel&gt; {
  constructor(private raceService: RaceService) {}

  resolve(
    route: ActivatedRouteSnapshot,
    state: RouterStateSnapshot
  ): Observable&lt;RaceModel&gt; | Promise&lt;RaceModel&gt; | RaceModel {
    const id = route.paramMap.get('raceId')!;
    return this.raceService.get(id);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, it&#8217;s a simple service, which uses the activated route snapshot passed by the router to get the
value of the <code>raceId</code> parameter, and returns an <code>Observable&lt;RaceModel&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s how the resolver would be applied to the route:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: 'races/:raceId',
  component: RaceComponent,
  resolve: {
    race: RaceResolver
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As for guards, resolvers can be functions since Angular&#160;v14.2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export const raceResolver: ResolveFn&lt;RaceModel&gt; = route =&gt; {
  const id = route.paramMap.get('raceId')!;
  const raceService = inject(RaceService);
  return raceService.get(id);
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>The resolver is used similarly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: 'races/:raceId',
  component: RaceComponent,
  resolve: {
    race: raceResolver
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, the resolver is associated with an object key that I chose to name <code>race</code>. This is the key
that the router will use to store the loaded race into the <code>data</code> of the activated route snapshot. So the race
component can simply obtain the race the following way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export class RaceComponent implements OnInit {
  race!: RaceModel;

  constructor(private route: ActivatedRoute) {}

  ngOnInit(): void {
    this.race = this.route.snapshot.data['race'];
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that, if you navigate from a route to the same route, but with different parameters (for example, if you have a
<em>Next race</em> link on the page), then the guards and the resolvers applied to the route are called again. The component,
in that case, will still be reused, and should still subscribe to an observable to get the race (or just store the
observable in the component and use the <code>async</code> pipe in the template):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export class RaceComponent implements OnInit {
  race!: RaceModel;

  constructor(private route: ActivatedRoute) {}

  ngOnInit(): void {
    this.route.data.subscribe(data =&gt; (this.race = data['race']));
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Resolvers have many advantages over loading data from the activated component:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>they make the navigation more traditional;</p>
</li>
<li>
<p>they can be shared and reused by several routes;</p>
</li>
<li>
<p>they make the code of the component and its template simpler: no need to load data, no need to care about the temporary
undefined or null model, no need to apply somewhat complex RxJS operators to get the data from the parameters;</p>
</li>
<li>
<p>if the navigation fails, the current page is preserved and the user can just click on the link again to retry it.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The only drawback I can find is that, when you know that loading the data is slow (because it requires substantial
computations or external service calls by the server), then the application can feel a bit unresponsive: you click
on a link, and nothing happens until the data has been loaded. This is where loading the data from the activated
component and displaying a loading message or animation can be more user-friendly. Another workaround would be to
rely on router events to display this loading message.</p>
</div>
</div>
<div class="sect2">
<h3 id="_router_events">18.8. Router events</h3>
<div class="paragraph">
<p>The router emits several events when navigating to a route. You can be notified of these events by
injecting the <code>Router</code> service and subscribing to its <code>events</code> observable. The emitted events have several types
that you can filter using <code>event instanceof NavigationStart</code> (for example). Here are the various types of router
events:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NavigationStart</code>: emitted when a navigation is requested (when clicking on a link, for example). It can be
used, for example, to start displaying a spinner;</p>
</li>
<li>
<p><code>NavigationEnd</code>: emitted when a navigation ends successfully. It can be used to stop displaying the spinner.
Another use-case is to send a <em>hit</em> to an analytics service (like Google Analytics for example), which allows analyzing
the browsing habits and popular pages in your application;</p>
</li>
<li>
<p><code>NavigationError</code>: emitted when a navigation fails due to an unexpected error (like a resolver returning an empty or
error observable). It can be used to stop displaying a spinner, or to try sending an error log to the server;</p>
</li>
<li>
<p><code>NavigationCancel</code>: emitted when a navigation is cancelled, because a guard prevented the navigation for example.
If a spinner has been shown when the navigation started, it should be hidden when this event is emitted.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are other kinds of events for the route configuration loading
(<code>RouteConfigLoadStart</code>, <code>RouteConfigLoadEnd</code>, <code>RoutesRecognized</code>) and,
since version 4.3, for the resolvers (<code>ResolveStart</code>, <code>ResolveEnd</code>)
and guards (<code>GuardsCheckStart</code>, <code>GuardsCheckEnd</code>).
Version 5.0 added more fine-grained
navigation events (<code>ChildActivationStart</code>, <code>ChildActivationEnd</code>).
Version 6.1 added a <code>Scroll</code> event,
along with the <code>scrollPositionRestoration</code> configuration option that allows you to restore the scroll position
when navigating back to a component.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_and_data">18.9. Parameters and data</h3>
<div class="paragraph">
<p>We&#8217;ve seen before that routes can have parameters. For example, the route <code>races/:raceId</code> has one parameter named
<code>raceId</code>, and the value of this parameter, when navigating to <code>/races/42</code> is the string <code>'42'</code>. But this route
can actually have additional parameters named <em>matrix parameters</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Matrix parameters are not an Angular-specific feature. Although rarely used and thus lesser-known than query
parameters, they&#8217;re a standard part of URIs, which are supported by many server-side frameworks, too.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you navigate to the URL</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code>/races/42;foo=bar;baz=wiz</code></pre>
</div>
</div>
<div class="paragraph">
<p>then the <code>params</code> and <code>paramMap</code> properties of the activated route will contain two additional
parameters 'foo' and 'baz' having the values 'bar' and 'wiz'.</p>
</div>
<div class="paragraph">
<p>Those matrix parameters are specific to the route. So, for example, if the URL is</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code>/races/42;foo=bar;baz=wiz/ponies</code></pre>
</div>
</div>
<div class="paragraph">
<p>then the component associated with the <code>ponies</code> segment won&#8217;t have <code>foo</code> nor <code>bar</code> in the parameters of its activated route.
Only the component associated with the <code>races/42</code> segment will.</p>
</div>
<div class="paragraph">
<p>To navigate to such a URL, you would use the following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">router.navigate(['/races', 42, { foo: 'bar', baz: 'wiz' }, 'ponies']);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or an equivalent router link:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;a [routerLink]="['/races', 42, { foo: 'bar', baz: 'wiz' }, 'ponies']"&gt;Link&lt;/a&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Query parameters, on the other hand, are shared by all the route segments. They look like this in the URL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code>/races/42/ponies?foo=bar&amp;baz=wiz</code></pre>
</div>
</div>
<div class="paragraph">
<p>These query parameters are accessible from any route, using the <code>queryParams</code> or <code>queryParamMap</code> property.</p>
</div>
<div class="paragraph">
<p>To navigate to such a URL, you would use the following code</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">router.navigate(['/races', 42, 'ponies'], { queryParams: { foo: 'bar', baz: 'wiz' } });</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent router link:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;a [routerLink]="['/races', 42, 'ponies']" [queryParams]="{ foo: 'bar', baz: 'wiz' }"&gt;Link&lt;/a&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, we&#8217;ve seen that resolvers allowed adding properties to the <code>data</code> property of the activated route, before
the route is activated. It&#8217;s also possible to add additional data to a route directly from its
configuration. This can be useful when the same component can be used in two different contexts for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: 'races',
  component: RacesComponent,
  data: {
    allowDeletion: false
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_lazy_loading">18.10. Lazy loading</h3>
<div class="paragraph">
<p>This section will conclude this long chapter about the Angular router.</p>
</div>
<div class="paragraph">
<p>When the application grows in size and features,
loading the whole application at once can become a problem: the application bundle is too large and takes
too much time to load and parse. Moreover, some parts of the application are only used by some users of the
application, or are used rarely, and loading them eagerly is a waste of time and bandwidth. This is where
lazy-loading is useful.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="Lazy loading">
</div>
</div>
<div class="paragraph">
<p>Lazy loading consists in splitting the application into multiple Angular modules, and into several JavaScript bundles.
A lazy-loaded module defines its own routes, components and services, bundled into a separate JavaScript file.
The main module only defines a route allowing to access the lazy-loaded module. As the name implies, the Angular router
waits for the user to navigate to this route before loading the JavaScript module, and adding the child routes,
module, component and services to the application.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMjEwJyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgNjEwIDIxMCcgd2lkdGg9JzYxMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMjEwJyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzYxMCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00zNS4wIDYzLjAgTDI4NS4wIDYzLjAgTDI4NS4wIDExOS4wIEwzNS4wIDExOS4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM2NS4wIDExOS4wIEw1ODUuMCAxMTkuMCBMNTg1LjAgMTc1LjAgTDM2NS4wIDE3NS4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM1LjAgMzUuMCBMMjg1LjAgMzUuMCBMMjg1LjAgNjMuMCBMMzUuMCA2My4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM2NS4wIDkxLjAgTDU4NS4wIDkxLjAgTDU4NS4wIDExOS4wIEwzNjUuMCAxMTkuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J00zNS4wIDYzLjAgTDI4NS4wIDYzLjAgTDI4NS4wIDExOS4wIEwzNS4wIDExOS4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMzY1LjAgMTE5LjAgTDU4NS4wIDExOS4wIEw1ODUuMCAxNzUuMCBMMzY1LjAgMTc1LjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00zNS4wIDM1LjAgTDI4NS4wIDM1LjAgTDI4NS4wIDYzLjAgTDM1LjAgNjMuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTM2NS4wIDkxLjAgTDU4NS4wIDkxLjAgTDU4NS4wIDExOS4wIEwzNjUuMCAxMTkuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTM1MC4wIDk4LjAgTDM2MC4wIDEwNS4wIEwzNTAuMCAxMTIuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMjAwLjAgNDkuMCBMMjA5LjAgNDkuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J000OTAuMCAxMDUuMCBMNDk5LjAgMTA1LjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMjk1LjAgMTA1LjAgTDM1NS4wIDEwNS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNjEnIHk9JzU0Jz48IVtDREFUQVttYWluLmJ1bmRsZS5qc11dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxMycgc3Ryb2tlPSdub25lJyB4PScyMjInIHk9JzU0Jz48IVtDREFUQVsxMDBLQl1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc1MScgeT0nODInPjwhW0NEQVRBW0FwcE1vZHVsZV1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc2MCcgeT0nMTEwJz48IVtDREFUQVthcHAucm91dGVzLnRzXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzM4OCcgeT0nMTEwJz48IVtDREFUQVswLmNodW5rLmpzXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzEzJyBzdHJva2U9J25vbmUnIHg9JzUxMScgeT0nMTEwJz48IVtDREFUQVs1MEtCXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzM4MScgeT0nMTM4Jz48IVtDREFUQVtBZG1pbk1vZHVsZV1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSczOTAnIHk9JzE2Nic+PCFbQ0RBVEFbYWRtaW4ucm91dGVzLnRzXV0+PC90ZXh0PjwvZz48L3N2Zz4=" alt="router lazy bundles" width="610" height="210">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
it&#8217;s actually possible to load the lazy-loading modules in the background, after the root module has been loaded
and the application has started, without waiting for the user to navigate to the module, thanks to an alternative
<code>preloadingStrategy</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To illustrate how we can configure lazy loading, we will assume that you want to define an <em>admin</em> section in your
application, that should be lazy loaded. We will also assume that you&#8217;re using Angular CLI to build your application.</p>
</div>
<div class="paragraph">
<p>The first step is to define a child Angular module. The <code>admin.module.ts</code> file would look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@NgModule({
  imports: [CommonModule],
  declarations: []
})
export class AdminModule {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>There is an important difference from the root module: this child module doesn&#8217;t import BrowserModule. Instead, it
imports CommonModule.</p>
</div>
<div class="paragraph">
<p>The second step is to define an admin component, and at least one route for this component in a file
named <code>admin.routes.ts</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export const adminRoutes: Routes = [{ path: '', component: AdminComponent }];</code></pre>
</div>
</div>
<div class="paragraph">
<p>This routing configuration must be imported in the admin module, but once again, there is a subtle but important
difference in the way it&#8217;s done in the root module:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@NgModule({
  imports: [CommonModule, RouterModule.forChild(adminRoutes)],
  declarations: [AdminComponent]
})
export class AdminModule {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Instead of using <code>RouterModule.forRoot()</code> we must use <code>RouterModule.forChild()</code>, because this is a child module.
Since the router is a stateful singleton service, we must not provide it a second time from this child module.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These differences between a child and a root module are not specific to lazy-loaded modules.
We will explain the rationale for these differences and the subtleties of root and child modules in a future
chapter.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>AdminComponent</code> is declared in this child admin module, and not in the root module. Declaring it
in the root module would ruin the goal we have: only loading this component when needed, lazily.</p>
</div>
<div class="paragraph">
<p>The final step is to add a route in the main <code>app.routes.ts</code> file, and tell the router to lazy-load the admin module
when navigating to that route (or any child route it might have):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{ path: 'admin', loadChildren: () =&gt; import('./admin/admin.module').then(m =&gt; m.AdminModule) }</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, this is achieved by using the <code>loadChildren</code> property of the route definition
and the dynamic import function from TypeScript.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The value of this property has been for a long time a string
containing the relative path of the module to load lazily,
followed by the name of the class decorated with <code>NgModule</code>
(for example <code>./admin/admin.module#AdminModule</code>).
Angular&#160;8.0 introduced the more standard, typed and less magical <code>() &#8658; import().then()</code> syntax,
and it is now the recommended way.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When building this application, Angular CLI parses the route configurations and detects that the admin child module
is lazy-loaded. Without any more work on your part, it generates an additional JavaScript bundle for the admin module
(named <code>0.chunk.js</code>), and generates the necessary JavaScript to load this bundle when the router requires
<code>'./admin/admin.module'</code>.</p>
</div>
<div class="paragraph">
<p>Since Angular v15, you can even simplify the import if you use a <code>default</code> export for the module:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@NgModule({
  imports: [CommonModule, RouterModule.forChild(adminRoutes)],
  declarations: [AdminComponent]
})
export default class AdminDefaultModule {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then the router will automatically "unwrap" the import:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{ path: 'admin', loadChildren: () =&gt; import('./admin/admin.module') }</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Try our
<a href="https://angular-exercises.ninja-squad.com/exercises/30/quiz-router">quiz</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
and the exercises
<a href="https://angular-exercises.ninja-squad.com/exercises/31/router-guards">Protected routes with guards</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
,
<a href="https://angular-exercises.ninja-squad.com/exercises/32/router-advanced">Resolvers, child routes and redirections</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
and
<a href="https://angular-exercises.ninja-squad.com/exercises/33/lazy-loading">Lazy loading</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
to learn how to use the advanced features of the router.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="forms">19. Forms</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_forms_dear_forms">19.1. Forms, dear forms</h3>
<div class="paragraph">
<p>Forms have always been extra polished in Angular.
That&#8217;s one of the features that was the most demoed in 1.x,
and, as pretty much every app has forms, it won the hearts of a lot of developers.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="Forms">
</div>
</div>
<div class="paragraph">
<p>Forms are hard: you have to validate the inputs of your user, display errors,
you can have fields required or not, or depending on another field,
you want to react to some field changes, etc.
We also need to test these forms, and that was impossible to achieve
with a unit-test in AngularJS&#160;1.x.
It was only feasible with an end-to-end test, which can be slow.</p>
</div>
<div class="paragraph">
<p>In Angular, the same care has been applied to forms,
and the framework gives us a nice way to write our forms.
In fact, it gives us several ways!</p>
</div>
<div class="paragraph">
<p>You can either write your form using only directives in your template:
that&#8217;s the "template-driven" way.
From our experience, it shines when you have a simple form, with not much validation.</p>
</div>
<div class="paragraph">
<p>The other way is the "code-driven" way, where you will write a description of the form
in your component, then use directives to bind this form to the inputs/textareas/selects in your template.
It&#8217;s more verbose, but also more powerful, especially if you want to do add custom validation,
or to generate dynamic forms.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s go through the same use case twice, using each way, and see the differences.</p>
</div>
<div class="paragraph">
<p>We are going to write a simple form, to be able to register new users
in our awesome PonyRacer app. We need a base component for each use case,
so let&#8217;s begin with this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';

@Component({
  selector: 'ns-register',
  template: `
    &lt;h2&gt;Sign up&lt;/h2&gt;
    &lt;form&gt;&lt;/form&gt;
  `
})
export class RegisterFormComponent {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nothing fancy: a component with a simple template containing a form.
In the next few minutes, we will build a form allowing you to
register a user with a username and a password.</p>
</div>
<div class="paragraph">
<p>For both methods, Angular will create a representation of our form.</p>
</div>
<div class="paragraph">
<p>In the "template-driven" way, it&#8217;s pretty much automatic:
we just need to add the proper directives in the template
and the framework takes care of the form representation creation.</p>
</div>
<div class="paragraph">
<p>In the "code-driven" way, we create this form representation manually,
and then bind the form representation to the inputs using directives.</p>
</div>
<div class="paragraph">
<p>Behind the scenes, a form field, like an <code>input</code> or a <code>select</code>, is represented by a <code>FormControl</code> in Angular.
It is the smallest part of a form, and it encapsulates the state of the field and its value.</p>
</div>
<div class="paragraph">
<p>A <code>FormControl</code> has several attributes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>valid</code>: if the field is valid, regarding the requirements and validations applied on it.</p>
</li>
<li>
<p><code>invalid</code>: if the field is invalid, regarding the requirements and validations applied on it.</p>
</li>
<li>
<p><code>errors</code>: an object containing the field errors</p>
</li>
<li>
<p><code>dirty</code>: false until the user has modified its value.</p>
</li>
<li>
<p><code>pristine</code>: the opposite of dirty.</p>
</li>
<li>
<p><code>touched</code>: false until the user has entered it.</p>
</li>
<li>
<p><code>untouched</code>: the opposite of <code>touched</code>.</p>
</li>
<li>
<p><code>value</code>: the value of the field.</p>
</li>
<li>
<p><code>valueChanges</code>: an Observable emitting every time there is a change on the field</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It also offers some methods like <code>hasError()</code> to check if the control has a specific error.</p>
</div>
<div class="paragraph">
<p>So you can do something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const password = new FormControl('');
console.log(password.dirty); // false until the user enters a value
console.log(password.value); // '' until the user enters a value
console.log(password.hasError('required')); // false
password.disable(); // disables the control
password.reset(); // resets the value</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that you can pass an argument to the constructor,
and that this argument will be the value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const password = new FormControl('Cdric');
console.log(password.value); // logs "Cdric"</code></pre>
</div>
</div>
<div class="paragraph">
<p>These controls can be grouped in a <code>FormGroup</code> to represent a part of the form and have dedicated
validation rules. The form itself is a group.</p>
</div>
<div class="paragraph">
<p>A <code>FormGroup</code> has the same properties as a <code>FormControl</code>, with a few differences:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>valid</code>: if all fields are valid, then the group is valid.</p>
</li>
<li>
<p><code>invalid</code>: if one of the fields is invalid, then the group is invalid.</p>
</li>
<li>
<p><code>errors</code>: an object containing the group errors or <code>null</code> if the group is valid.
Each error is a key, whose value is an array containing every control affected by this error.</p>
</li>
<li>
<p><code>dirty</code>: false until one of the controls gets dirty.</p>
</li>
<li>
<p><code>pristine</code>: the opposite of dirty.</p>
</li>
<li>
<p><code>touched</code>: false until one of the controls gets touched.</p>
</li>
<li>
<p><code>untouched</code>: the opposite of <code>touched</code>.</p>
</li>
<li>
<p><code>value</code>: the value of the group. To be more accurate, it&#8217;s an object with key/values representing the controls and their values.</p>
</li>
<li>
<p><code>valueChanges</code>: an Observable emitting every time there is a change on the group</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It offers the same methods as <code>FormControl</code> like <code>hasError()</code>. It also has a method <code>get()</code> to retrieve a control in the group.</p>
</div>
<div class="paragraph">
<p>You can create one like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const form = new FormGroup({
  username: new FormControl('Cdric'),
  password: new FormControl('')
});
console.log(form.dirty); // logs false until the user enters a value
console.log(form.value); // logs Object {username: "Cdric", password: ''}
console.log(form.get('username')); // logs the Control</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s begin with a "template-driven" form!</p>
</div>
</div>
<div class="sect2">
<h3 id="_template_driven">19.2. Template-driven</h3>
<div class="paragraph">
<p>With this method, we are going to use a bunch of directives in our form,
and let the framework build the necessary <code>FormControl</code> and <code>FormGroup</code> instances.
For example, the <code>NgForm</code> directive transforms the <code>form</code> element
into its powerful Angular version - think of it as the difference between Bruce Wayne and Batman.</p>
</div>
<div class="paragraph">
<p>All the directives we need are included in the <code>FormsModule</code> module,
so we need to import it into our root module.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { FormsModule } from '@angular/forms';

@NgModule({
  imports: [BrowserModule, FormsModule],
  declarations: [AppComponent],
  bootstrap: [AppComponent]
})
export class AppModule {}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>FormsModule</code> contains the directives for the "template-driven" way.
We&#8217;ll see later that there exists another module, <code>ReactiveFormsModule</code>,
in the same package <code>@angular/forms</code>, which is needed for the "code-driven" way.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s add the submit button:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';

@Component({
  selector: 'ns-register',
  template: `
    &lt;h2&gt;Sign up&lt;/h2&gt;
    &lt;form (ngSubmit)="register()"&gt;
      &lt;button type="submit"&gt;Register&lt;/button&gt;
    &lt;/form&gt;
  `
})
export class RegisterFormComponent {
  register(): void {
    // we will have to handle the submission
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>I added a button, and defined an event handler for <code>ngSubmit</code> on the <code>form</code> tag.
The <code>ngSubmit</code> event is emitted by the <code>NgForm</code> directive when <code>submit</code> is triggered.
It calls the <code>register()</code> method of our controller, which will be
implemented later.</p>
</div>
<div class="paragraph">
<p>Last thing: our template will quickly grow, so let&#8217;s extract
it to a dedicated file, using <code>templateUrl</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';

@Component({
  selector: 'ns-register',
  templateUrl: './register-form.component.html'
})
export class RegisterFormComponent {
  register(): void {
    // we will have to handle the submission
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the "template-driven" way, you write your forms pretty much like in AngularJS&#160;1.x,
with a lot of things in your template and not many in your component.</p>
</div>
<div class="paragraph">
<p>In its simplest form, you just add <code>ngModel</code> directives to your form template and that&#8217;s all.
The <code>NgModel</code> directive creates the <code>FormControl</code> for you,
and the form automatically creates the <code>FormGroup</code>.
Note that you have to give a name to the input,
which will be used by the framework to create the <code>FormGroup</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;form (ngSubmit)="register()"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input name="username" ngModel&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" name="password" ngModel&gt;
  &lt;/div&gt;
  &lt;button type="submit"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now of course we need to do something for the submission, and to get hold of the user name and password.
To achieve that, we can define a local variable and assign it to the <code>NgForm</code> object created by Angular for the form.
Remember these from the
<a href="#local-variables">Template</a>
chapter? Here, we are going to define
a variable, <code>userForm</code>, referencing the form.
We can do that because the <code>form</code> directive exports the <code>NgForm</code> directive instance,
which has the same methods as the <code>FormGroup</code> class.
We&#8217;ll see the exporting part in more detail when we study how to build advanced directives.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;!-- we use a local variable #userForm --&gt;
&lt;!-- and give its value to the register method --&gt;
&lt;form (ngSubmit)="register(userForm.value)" #userForm="ngForm"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input name="username" ngModel&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" name="password" ngModel&gt;
  &lt;/div&gt;
  &lt;button type="submit"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Our <code>register</code> method is now called with the form value as the argument:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { UserModel } from './user.model';

@Component({
  selector: 'ns-register',
  templateUrl: './register-form.component.html'
})
export class RegisterFormComponent {
  register(user: UserModel): void {
    console.log(user);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is only one-way data-binding though.
If you update the field, the model will be updated,
but updating the model will not update your field value.
But <code>ngModel</code> is more powerful than you think!</p>
</div>
<div class="sect3">
<h4 id="_two_way_data_binding">19.2.1. Two-way data-binding</h4>
<div class="paragraph">
<p>If you have been using AngularJS&#160;1.x, or even just read an article about it,
you must have seen the famous example with an <code>input</code> and an expression displaying the <code>input</code> value,
updated every time the user modified the <code>input</code>,
and the field automatically updated when the model changed.
The famous "Two-Way Data-Binding", something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!-- AngularJS 1.x code example --&gt;
&lt;input type="text" ng-model="username"&gt;
&lt;p&gt;{{ username }}&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can do a similar thing with Angular.</p>
</div>
<div class="paragraph">
<p>You start by defining a model of what will be filled in the form.
We&#8217;ll do this in a <code>UserModel</code> interface:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export interface UserModel {
  username: string;
  password: string;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Our <code>RegisterFormComponent</code> should have a field <code>user</code> of type <code>User</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-register',
  templateUrl: './register-form.component.html'
})
export class RegisterFormComponent {
  user: UserModel = {
    username: '',
    password: ''
  };

  register(): void {
    console.log(this.user);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see this time, the <code>register()</code> method is now directly logging
the <code>user</code> object.</p>
</div>
<div class="paragraph">
<p>We are ready to add the inputs of our form.
We need to bind our <code>input</code>s to the model we have defined.
For this, we&#8217;ll use the <code>ngModel</code> directive:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;form (ngSubmit)="register()"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input name="username" [(ngModel)]="user.username"&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" name="password" [(ngModel)]="user.password"&gt;
  &lt;/div&gt;
  &lt;button type="submit"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Wow! <code>[(ngModel)]</code>? What is this syntax?
It&#8217;s a syntactic sugar that has been introduced to express the same thing as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input name="username" [ngModel]="user.username" (ngModelChange)="user.username = $event"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>NgModel</code> directive updates the <code>input</code> value every time the related model <code>user.username</code> changes,
hence the <code>[ngModel]="user.username"</code> part.
And it emits an event from an output named <code>ngModelChange</code> every time the <code>input</code> is updated by the user,
where the event is the new value,
hence the <code>(ngModelChange)="user.username = $event"</code> part,
which will update the model <code>user.username</code> with this new value.</p>
</div>
<div class="paragraph">
<p>Instead of writing the long form, we can use the new syntax <code>[()]</code>.
If, like me, you have trouble remembering if it is <code>[()]</code> or <code>([])</code>,
there is a cool mnemonic tip: it&#8217;s a banana-box!
Yes, look: the <code>[]</code> is a box, and, inside, there are two bananas facing each other <code>()</code>!</p>
</div>
<div class="paragraph">
<p>Now, every time we type something in our <code>input</code>,
the model is updated.
And if the model is updated in our component,
our field will automatically display the correct value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;form (ngSubmit)="register()"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input name="username" [(ngModel)]="user.username"&gt;
    &lt;small&gt;{{ user.username }} is an awesome username!&lt;/small&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" name="password" [(ngModel)]="user.password"&gt;
  &lt;/div&gt;
  &lt;button type="submit"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you try the example above, you will see that the two-way data-binding works.
And so does our form: we can submit it,
and the component will log our <code>user</code> object!</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_code_driven">19.3. Code-driven</h3>
<div class="paragraph">
<p>In AngularJS&#160;1.x you had to build your forms mostly in your templates.
Angular introduces an imperative way, which allows you to construct the form programmatically rather than through a template.</p>
</div>
<div class="paragraph">
<p>Now we can handle forms directly in our code.
It&#8217;s more verbose but more powerful.</p>
</div>
<div class="paragraph">
<p>To build a form in our component code, we&#8217;ll use the abstractions we talked about:
<code>FormControl</code> and <code>FormGroup</code>.</p>
</div>
<div class="paragraph">
<p>With these basic elements we can build a form in our component.
But instead of writing <code>new FormControl()</code> or <code>new FormGroup()</code>,
we will use a helper class, <code>FormBuilder</code>, that we can inject:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { FormBuilder } from '@angular/forms';

@Component({
  selector: 'ns-register',
  templateUrl: './register-form.component.html'
})
export class RegisterFormComponent {
  constructor(fb: FormBuilder) {
    // we will have to build the form
  }

  register(): void {
    // we will have to handle the submission
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>FormBuilder</code> is a helper class, with a handful of methods to create controls
and groups.
Let&#8217;s start simple, and create a small form with two controls,
a username and a password.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { FormControl, FormBuilder, FormGroup } from '@angular/forms';

@Component({
  selector: 'ns-register',
  templateUrl: './register-form.component.html'
})
export class RegisterFormComponent {
  userForm: FormGroup&lt;{
    username: FormControl&lt;string | null&gt;;
    password: FormControl&lt;string | null&gt;;
  }&gt;;

  constructor(fb: FormBuilder) {
    this.userForm = fb.group({
      username: '',
      password: ''
    });
  }

  register(): void {
    // we will have to handle the submission
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We created a <code>form</code> with two controls.
You can see that each control is created with the value <code>''</code>.
That&#8217;s the same as using the helper method <code>control()</code> of the <code>FormBuilder</code> with this string as parameter,
and the same as calling the <code>new FormControl('')</code> constructor:
the string represents the initial value you want to display in your form.
Here it is empty, so the inputs will be empty.
But you can have a value here, of course, if you want to edit an existing entity for example.
The helper method can also have other specific attributes, as we will see later.</p>
</div>
<div class="paragraph">
<p>We need to implement the <code>register</code> method.
As we saw, the <code>FormGroup</code> object has a <code>value</code> attribute, so we can simply
log its content with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { FormControl, FormBuilder, FormGroup } from '@angular/forms';

@Component({
  selector: 'ns-register',
  templateUrl: './register-form.component.html'
})
export class RegisterFormComponent {
  userForm: FormGroup&lt;{
    username: FormControl&lt;string | null&gt;;
    password: FormControl&lt;string | null&gt;;
  }&gt;;

  constructor(fb: FormBuilder) {
    this.userForm = fb.group({
      username: fb.control(''),
      password: fb.control('')
    });
  }

  register(): void {
    console.log(this.userForm.value);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We now need to do some work in the template.
We are going to use other directives from those we saw for the "template-driven" forms.
These directives are in the <code>ReactiveFormsModule</code> that you have to import it into your root module.
Their names begin with <code>form</code> instead of <code>ng</code> as was the case for the "template-driven" forms.</p>
</div>
<div class="paragraph">
<p>The form needs to be bound to our <code>userForm</code> object, thanks to the <code>formGroup</code> directive.
Each <code>input</code> field is bound to a control, thanks to the <code>formControlName</code> directive:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;form (ngSubmit)="register()" [formGroup]="userForm"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input formControlName="username"&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" formControlName="password"&gt;
  &lt;/div&gt;
  &lt;button type="submit"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We want to bind our component&#8217;s attribute <code>userForm</code> object to <code>formGroup</code>, so we use
the bracket notation <code>[formGroup]="userForm"</code>.
Each <code>input</code> receives the <code>formControlName</code> directive with a string literal representing
the control it is bound to. If you specify a name that does not
exist, you will have an error.
As we pass a value (and not an expression), we don&#8217;t put the <code>[]</code> around <code>formControlName</code>.</p>
</div>
<div class="paragraph">
<p>And we&#8217;re done: clicking on the submit button will log an object containing
the username and the chosen password!</p>
</div>
<div class="paragraph">
<p>If you need to, you can update the value of a <code>FormControl</code> from your component, using <code>setValue()</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { FormBuilder, FormGroup, FormControl } from '@angular/forms';

@Component({
  selector: 'ns-register',
  templateUrl: './register-form.component.html'
})
export class RegisterFormComponent {
  usernameCtrl: FormControl&lt;string | null&gt;;
  passwordCtrl: FormControl&lt;string | null&gt;;
  userForm: FormGroup&lt;{
    username: FormControl&lt;string | null&gt;;
    password: FormControl&lt;string | null&gt;;
  }&gt;;

  constructor(fb: FormBuilder) {
    this.usernameCtrl = fb.control('');
    this.passwordCtrl = fb.control('');
    this.userForm = fb.group({
      username: this.usernameCtrl,
      password: this.passwordCtrl
    });
  }

  reset(): void {
    this.usernameCtrl.setValue('');
    this.passwordCtrl.setValue('');
  }

  register(): void {
    console.log(this.userForm.value);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As it can be painful to define the types of the class fields,
you can also use the <code>FormBuilder</code> directly to initialize them,
and let TypeScript infer the types:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { FormBuilder } from '@angular/forms';

@Component({
  selector: 'ns-register',
  templateUrl: './register-form.component.html'
})
export class RegisterFormComponent {
  usernameCtrl = this.fb.control('');
  passwordCtrl = this.fb.control('');
  userForm = this.fb.group({
    username: this.usernameCtrl,
    password: this.passwordCtrl
  });

  constructor(private fb: FormBuilder) {}

  reset(): void {
    this.usernameCtrl.setValue('');
    this.passwordCtrl.setValue('');
  }

  register(): void {
    console.log(this.userForm.value);
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_adding_some_validation">19.4. Adding some validation</h3>
<div class="paragraph">
<p>Validation is usually a big part of form-building.
Some fields are required, some depend on one another, some
should be in a specific format, some should not have a value greater or lower than X, for example.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s start by adding basic validation rules: all our fields are required.</p>
</div>
<div class="sect3">
<h4 id="_in_a_code_driven_form">19.4.1. In a code-driven form</h4>
<div class="paragraph">
<p>To specify that every field is required, we will use a <code>Validator</code>.
A validator returns a map of errors or <code>null</code> if it detects no error.</p>
</div>
<div class="paragraph">
<p>A few validators are provided by the framework:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Validators.required</code> to ensure that a control is not empty</p>
</li>
<li>
<p><code>Validators.minLength(n)</code> to ensure that the value entered has at least <em>n</em> characters</p>
</li>
<li>
<p><code>Validators.maxLength(n)</code> to ensure that the value entered has at most <em>n</em> characters</p>
</li>
<li>
<p><code>Validators.email()</code> (available since version 4.0) to ensure that the value entered is a valid email address
(good luck finding the correct regular expression by yourself for this one&#8230;&#8203;)</p>
</li>
<li>
<p><code>Validators.min(n)</code> (available since version 4.2) to ensure that the value entered is at least <em>n</em></p>
</li>
<li>
<p><code>Validators.max(n)</code> (available since version 4.2) to ensure that the value entered is at most <em>n</em></p>
</li>
<li>
<p><code>Validators.pattern(p)</code> to ensure that the value matches the regular expression <em>p</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can apply several validators at once, by using an array,
on a <code>FormControl</code> or on a <code>FormGroup</code>.
Here we want every field to be mandatory, so we can add the required validator
to each control,
and make sure that the username is 3 characters at least.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { FormBuilder, Validators } from '@angular/forms';

@Component({
  selector: 'ns-register',
  templateUrl: './register-form.component.html'
})
export class RegisterFormComponent {
  userForm = this.fb.group({
    username: this.fb.control('', [Validators.required, Validators.minLength(3)]),
    password: this.fb.control('', Validators.required)
  });

  constructor(private fb: FormBuilder) {}

  register(): void {
    console.log(this.userForm.value);
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_in_a_template_driven_form">19.4.2. In a template-driven form</h4>
<div class="paragraph">
<p>Adding a required field in a template-driven form is also really straightforward:
you just have to add the <code>required</code> attribute to the <code>input</code>s.
<code>required</code> is a provided directive, and will automatically add the validator to this field.
Same thing with <code>minlength</code>, <code>maxlength</code>, and <code>email</code>
(<code>min</code> and <code>max</code> are not yet available as directives).</p>
</div>
<div class="paragraph">
<p>Starting from the two-way data-binding example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;form (ngSubmit)="register(userForm.value)" #userForm="ngForm"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input name="username" ngModel required minlength="3"&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" name="password" ngModel required&gt;
  &lt;/div&gt;
  &lt;button type="submit"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that this can be done in a "code-driven" form too.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_errors_and_submission">19.5. Errors and submission</h3>
<div class="paragraph">
<p>Of course, our user should not be able to submit the form while there are still errors left,
and these errors should be perfectly displayed.</p>
</div>
<div class="paragraph">
<p>If you try the examples, you will see that even if the fields are required, we can
still submit our form. Maybe we can do something about that?</p>
</div>
<div class="paragraph">
<p>We know that we can easily disable a button using the <code>disabled</code> property,
but we need to give it an expression reflecting the state of the current form.</p>
</div>
<div class="sect3">
<h4 id="_errors_and_submission_in_a_code_driven_form">19.5.1. Errors and submission in a code-driven form</h4>
<div class="paragraph">
<p>We added a field <code>userForm</code>, of type <code>FormGroup</code>, to our component.
This field gives us a complete view of the form and field states and errors.</p>
</div>
<div class="paragraph">
<p>For example, we can disable the form submission if the form is not valid:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;form (ngSubmit)="register()" [formGroup]="userForm"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input formControlName="username"&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" formControlName="password"&gt;
  &lt;/div&gt;
  &lt;button type="submit" [disabled]="userForm.invalid"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see on the last line, we just need to link <code>disabled</code> to the <code>invalid</code> property of <code>userForm</code>.</p>
</div>
<div class="paragraph">
<p>Now we can only submit when all controls are valid.
To help our user understand why the form can&#8217;t be submitted, we should display error messages.</p>
</div>
<div class="paragraph">
<p>Still using the <code>userForm</code>, we can do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;form (ngSubmit)="register()" [formGroup]="userForm"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input formControlName="username"&gt;
    &lt;div *ngIf="userForm.get('username').hasError('required')"&gt;Username is required&lt;/div&gt;
    &lt;div *ngIf="userForm.get('username').hasError('minlength')"&gt;Username should be 3 characters min&lt;/div&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" formControlName="password"&gt;
    &lt;div *ngIf="userForm.get('password').hasError('required')"&gt;Password is required&lt;/div&gt;
  &lt;/div&gt;
  &lt;button type="submit" [disabled]="userForm.invalid"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cool! The errors are now displayed if the fields are empty, and they disappear
when there is a value. But they are displayed right away when the form is shown.
Maybe we can hide them until the user changes the value?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;form (ngSubmit)="register()" [formGroup]="userForm"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input formControlName="username"&gt;
    &lt;div *ngIf="userForm.get('username').dirty &amp;&amp; userForm.get('username').hasError('required')"&gt;
      Username is required
    &lt;/div&gt;
    &lt;div *ngIf="userForm.get('username').dirty &amp;&amp; userForm.get('username').hasError('minlength')"&gt;
      Username should be 3 characters min
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" formControlName="password"&gt;
    &lt;div *ngIf="userForm.get('password').dirty &amp;&amp; userForm.get('password').hasError('required')"&gt;
      Password is required
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;button type="submit" [disabled]="userForm.invalid"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s a bit verbose, so you can create a reference for each control in your component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-register',
  templateUrl: './register-form.component.html'
})
export class RegisterFormComponent {
  usernameCtrl = this.fb.control('', Validators.required);
  passwordCtrl = this.fb.control('', Validators.required);
  userForm = this.fb.group({
    username: this.usernameCtrl,
    password: this.passwordCtrl
  });

  constructor(private fb: FormBuilder) {}

  register(): void {
    console.log(this.userForm.value);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And then use the references in your template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;form (ngSubmit)="register()" [formGroup]="userForm"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input formControlName="username"&gt;
    &lt;div *ngIf="usernameCtrl.dirty &amp;&amp; usernameCtrl.hasError('required')"&gt;Username is required&lt;/div&gt;
    &lt;div *ngIf="usernameCtrl.dirty &amp;&amp; usernameCtrl.hasError('minlength')"&gt;Username should be 3 characters min&lt;/div&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" formControlName="password"&gt;
    &lt;div *ngIf="passwordCtrl.dirty &amp;&amp; passwordCtrl.hasError('required')"&gt;Password is required&lt;/div&gt;
  &lt;/div&gt;
  &lt;button type="submit" [disabled]="userForm.invalid"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_errors_and_submission_in_a_template_driven_form">19.5.2. Errors and submission in a template-driven form</h4>
<div class="paragraph">
<p>In a template-driven form, we don&#8217;t have any field in our component referring to the <code>FormGroup</code>,
but we already declared a local variable in the template,
referring to the <code>NgForm</code> object exported by the form directive.
Once again, this variable allows you to know the state of the form and accessing its controls.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;form (ngSubmit)="register(userForm.value)" #userForm="ngForm"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input name="username" ngModel required&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" name="password" ngModel required&gt;
  &lt;/div&gt;
  &lt;button type="submit" [disabled]="userForm.invalid"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we need to display the errors of each field.</p>
</div>
<div class="paragraph">
<p>Like the form directive, each control exports its <code>FormControl</code> object, so we can create
a local variable to access the errors:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;form (ngSubmit)="register(userForm.value)" #userForm="ngForm"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input name="username" ngModel required #username="ngModel"&gt;
    &lt;div *ngIf="username.dirty &amp;&amp; username.hasError('required')"&gt;Username is required&lt;/div&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" name="password" ngModel required #password="ngModel"&gt;
    &lt;div *ngIf="password.dirty &amp;&amp; password.hasError('required')"&gt;Password is required&lt;/div&gt;
  &lt;/div&gt;
  &lt;button type="submit" [disabled]="userForm.invalid"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Yay!</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_add_some_style">19.6. Add some style</h3>
<div class="paragraph">
<p>Whatever way you choose to create your forms,
Angular does another awesome job for us:
it automatically adds and removes CSS classes on each field (and on the form)
to allow us to add some visual style.</p>
</div>
<div class="paragraph">
<p>For example, a field will have the class <code>ng-invalid</code> if one of its validators fails,
or <code>ng-valid</code> if all the validators succeed.
That means you can easily add some style, like a nice red border around the fields failing the validation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;style&gt;
  input.ng-invalid {
    border: 3px red solid;
  }
&lt;/style&gt;
&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;form (ngSubmit)="register(userForm.value)" #userForm="ngForm"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input name="username" ngModel required&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" name="password" ngModel required&gt;
  &lt;/div&gt;
  &lt;button type="submit" [disabled]="userForm.invalid"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Another useful CSS class is <code>ng-dirty</code> which will be present if the user has changed the value.
Its opposite is <code>ng-pristine</code>, present if the user never changed the value.
I usually display the red border only when the user has changed the value at least once:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;style&gt;
  input.ng-invalid.ng-dirty {
    border: 3px red solid;
  }
&lt;/style&gt;
&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;form (ngSubmit)="register(userForm.value)" #userForm="ngForm"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input name="username" ngModel required&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" name="password" ngModel required&gt;
  &lt;/div&gt;
  &lt;button type="submit" [disabled]="userForm.invalid"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, there is a last CSS class: <code>ng-touched</code>.
It will be present if the user enters and leaves the field at least once (even if she/he did not change the value).
Its opposite is <code>ng-untouched</code>.</p>
</div>
<div class="paragraph">
<p>When you display a form for the first time,
a field will usually have the CSS classes <code>ng-pristine ng-untouched ng-invalid</code>.
Then, when the user enters and leaves the field, it switches to <code>ng-pristine ng-touched ng-invalid</code>.
When the user changes the value, still for an invalid one, we&#8217;ll have <code>ng-dirty ng-touched ng-invalid</code>.
And finally, when the value is valid: <code>ng-dirty ng-touched ng-valid</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_creating_a_custom_validator">19.7. Creating a custom validator</h3>
<div class="paragraph">
<p>Pony races are an addictive game so you are only allowed to register if you are over 18.
And we want the user to enter the password twice, to be sure she/he hasn&#8217;t made a mistake.</p>
</div>
<div class="paragraph">
<p>How do we do this? We create a custom validator.</p>
</div>
<div class="paragraph">
<p>To do so, we just have to create a method that takes a <code>FormControl</code>,
tests its <code>value</code> and returns an object with the errors or <code>null</code>,
if the validation passes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const isOldEnough = (control: AbstractControl&lt;Date | null&gt;) =&gt; {
  // control is a date input, so we can build the Date from the value
  const birthDatePlus18 = new Date(control.value!);
  birthDatePlus18.setFullYear(birthDatePlus18.getFullYear() + 18);
  return birthDatePlus18 &lt; new Date() ? null : { tooYoung: true };
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Our validation method is pretty easy: we take the value of the control,
we build the date, check if the 18th birthday is before now and return an error with the key
'tooYoung' if not.</p>
</div>
<div class="paragraph">
<p>Now we need to include this validator.</p>
</div>
<div class="sect3">
<h4 id="_using_a_validator_in_a_code_driven_form">19.7.1. Using a validator in a code-driven form</h4>
<div class="paragraph">
<p>We need to add a new control in our form with this validator, using the <code>FormBuilder</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { AbstractControl, FormBuilder, ValidationErrors, Validators } from '@angular/forms';

@Component({
  selector: 'ns-register',
  templateUrl: './register-form.component.html'
})
export class RegisterFormComponent {
  usernameCtrl = this.fb.control('', Validators.required);
  passwordCtrl = this.fb.control('', Validators.required);
  birthdateCtrl = this.fb.control('', [Validators.required, RegisterFormComponent.isOldEnough]);
  userForm = this.fb.group({
    username: this.usernameCtrl,
    password: this.passwordCtrl,
    birthdate: this.birthdateCtrl
  });

  static isOldEnough(control: AbstractControl): ValidationErrors | null {
    // control is a date input, so we can build the Date from the value
    const birthDatePlus18 = new Date(control.value);
    birthDatePlus18.setFullYear(birthDatePlus18.getFullYear() + 18);
    return birthDatePlus18 &lt; new Date() ? null : { tooYoung: true };
  }

  constructor(private fb: FormBuilder) {}

  register(): void {
    console.log(this.userForm.value);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, we have added a new control <code>birthdate</code>, with two validators composed.
The first validator is <code>required</code> and the other is a static method of our class <code>isOldEnough</code>.
Of course this method could be in another class if you wanted (<code>required</code> is a static method for example).</p>
</div>
<div class="paragraph">
<p>Don&#8217;t forget to add the field and display the errors in the form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;form (ngSubmit)="register()" [formGroup]="userForm"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input formControlName="username"&gt;
    &lt;div *ngIf="usernameCtrl.dirty &amp;&amp; usernameCtrl.hasError('required')"&gt;Username is required&lt;/div&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" formControlName="password"&gt;
    &lt;div *ngIf="passwordCtrl.dirty &amp;&amp; passwordCtrl.hasError('required')"&gt;Password is required&lt;/div&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Birth date&lt;/label&gt;&lt;input type="date" formControlName="birthdate"&gt;
    &lt;div *ngIf="birthdateCtrl.dirty"&gt;
      &lt;div *ngIf="birthdateCtrl.hasError('required')"&gt;Birth date is required&lt;/div&gt;
      &lt;div *ngIf="birthdateCtrl.hasError('tooYoung')"&gt;You're way too young to be betting on pony races&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;button type="submit" [disabled]="userForm.invalid"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pretty easy, no?</p>
</div>
<div class="paragraph">
<p>Note that it&#8217;s also possible to create and add asynchronous validators
(for example to check with the backend if a username is available).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-register',
  templateUrl: './register-form.component.html'
})
export class RegisterFormComponent {
  usernameCtrl = this.fb.control('', Validators.required, control =&gt; this.isUsernameAvailable(control));
  userForm = this.fb.group({
    username: this.usernameCtrl
  });

  constructor(private fb: FormBuilder, private userService: UserService) {}

  isUsernameAvailable(control: AbstractControl): Observable&lt;ValidationErrors | null&gt; {
    const username = control.value;
    return this.userService
      .isUsernameAvailable(username)
      .pipe(map(available =&gt; (available ? null : { alreadyUsed: true })));
  }

  register(): void {
    console.log(this.userForm.value);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This asynchronous validator is not a static method this time
because it needs to access the service.</p>
</div>
<div class="paragraph">
<p>The method from the service returns an <code>Observable</code> that emits either <code>null</code>
if there is no error (the username is available),
or an object to represent the error (the key will be the error, as with synchronous validators).</p>
</div>
<div class="paragraph">
<p>An interesting feature: the class <code>ng-pending</code> is dynamically added to the field
while the asynchronous validator is still completing its job.
It allows you to display a spinner for example
to show that the validation is still ongoing.</p>
</div>
</div>
<div class="sect3">
<h4 id="_using_a_validator_in_a_template_driven_form">19.7.2. Using a validator in a template-driven form</h4>
<div class="paragraph">
<p>To add a custom validator in a template-driven form, we need to add it in&#8230;&#8203; the template!</p>
</div>
<div class="paragraph">
<p>To do this, you need to build a custom directive that we will apply on the <code>input</code>,
but honestly this is way easier when using a "code-driven" form&#8230;&#8203;</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_grouping_fields">19.8. Grouping fields</h3>
<div class="paragraph">
<p>Until now, we just had one group: the complete form.
But we can declare groups inside a group.
That&#8217;s very useful if you want to validate a group of fields together like an address,
or, like in our example, if you want to check if the password and its confirmation match.</p>
</div>
<div class="paragraph">
<p>The solution is to use a code-driven form.</p>
</div>
<div class="paragraph">
<p>First, create a new group, <code>passwordGroup</code> with the two fields
and add it in the group <code>userForm</code> with the key <code>passwordForm</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { AbstractControl, FormBuilder, ValidationErrors, Validators } from '@angular/forms';

@Component({
  selector: 'ns-register',
  templateUrl: './register-form.component.html'
})
export class RegisterFormComponent {
  usernameCtrl = this.fb.control('', Validators.required);
  passwordCtrl = this.fb.control('', Validators.required);
  confirmCtrl = this.fb.control('', Validators.required);
  passwordGroup = this.fb.group(
    { password: this.passwordCtrl, confirm: this.confirmCtrl },
    { validators: RegisterFormComponent.passwordMatch }
  );

  userForm = this.fb.group({ username: this.usernameCtrl, passwordForm: this.passwordGroup });

  static passwordMatch(group: AbstractControl): ValidationErrors | null {
    const password = group.get('password')!.value;
    const confirm = group.get('confirm')!.value;
    return password === confirm ? null : { matchingError: true };
  }

  constructor(private fb: FormBuilder) {}

  register(): void {
    console.log(this.userForm.value);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, we have added a validator on the group, <code>passwordMatch</code>,
that will be called every time one of the fields changes.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s update the template to reflect the new form, using the <code>formGroupName</code> directive:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;form (ngSubmit)="register()" [formGroup]="userForm"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input formControlName="username"&gt;
    &lt;div *ngIf="usernameCtrl.dirty &amp;&amp; usernameCtrl.hasError('required')"&gt;Username is required&lt;/div&gt;
  &lt;/div&gt;
  &lt;div formGroupName="passwordForm"&gt;
    &lt;div&gt;
      &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" formControlName="password"&gt;
      &lt;div *ngIf="passwordCtrl.dirty &amp;&amp; passwordCtrl.hasError('required')"&gt;Password is required&lt;/div&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;label&gt;Confirm password&lt;/label&gt;&lt;input type="password" formControlName="confirm"&gt;
      &lt;div *ngIf="confirmCtrl.dirty &amp;&amp; confirmCtrl.hasError('required')"&gt;Confirm your password&lt;/div&gt;
    &lt;/div&gt;
    &lt;div *ngIf="passwordGroup.dirty &amp;&amp; passwordGroup.hasError('matchingError')"&gt;Your password does not match&lt;/div&gt;
  &lt;/div&gt;
  &lt;button type="submit" [disabled]="userForm.invalid"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Voil!</p>
</div>
</div>
<div class="sect2">
<h3 id="_reacting_to_changes">19.9. Reacting to changes</h3>
<div class="paragraph">
<p>A last cool feature when using a code-driven form: you can easily react to value changes,
using the observable <code>valueChanges</code>. Reactive programming FTW!
For example, let&#8217;s say we want our password field to display a strength indicator.
We want to compute the strength at every change of the password value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component } from '@angular/core';
import { FormBuilder, Validators } from '@angular/forms';
import { debounceTime, distinctUntilChanged } from 'rxjs';

@Component({
  selector: 'ns-register',
  templateUrl: './register-form.component.html'
})
export class RegisterFormComponent {
  usernameCtrl = this.fb.control('', Validators.required);
  passwordCtrl = this.fb.control('', Validators.required);
  userForm = this.fb.group({
    username: this.usernameCtrl,
    password: this.passwordCtrl
  });
  passwordStrength = 0;

  constructor(private fb: FormBuilder) {
    // we subscribe to every password change
    this.passwordCtrl.valueChanges
      .pipe(
        // only recompute when the user stops typing for 400ms
        debounceTime(400),
        // only recompute if the new value is different from the last
        distinctUntilChanged()
      )
      .subscribe(newValue =&gt; (this.passwordStrength = newValue ? newValue.length : 0));
  }

  register(): void {
    console.log(this.userForm.value);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we have a <code>passwordStrength</code> field in our component instance,
that we can display to our user:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h2&gt;Sign up&lt;/h2&gt;
&lt;form (ngSubmit)="register()" [formGroup]="userForm"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;&lt;input formControlName="username"&gt;
    &lt;div *ngIf="usernameCtrl.dirty &amp;&amp; usernameCtrl.hasError('required')"&gt;Username is required&lt;/div&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;Password&lt;/label&gt;&lt;input type="password" formControlName="password"&gt;
    &lt;div&gt;Strength: {{ passwordStrength }}&lt;/div&gt;
    &lt;div *ngIf="passwordCtrl.dirty &amp;&amp; passwordCtrl.hasError('required')"&gt;Password is required&lt;/div&gt;
  &lt;/div&gt;
  &lt;button type="submit" [disabled]="userForm.invalid"&gt;Register&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We are leveraging RxJS operators to add a few cool features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>debounceTime(400)</code> will only emit values if the user stops typing for 400ms.
That avoids computing the password strength on every value the user enters.
That&#8217;s really interesting if the computing takes a long time, or launches an HTTP request.</p>
</li>
<li>
<p><code>distinctUntilChanged()</code> will only emit values if the new value entered is different than the last one.
Again that&#8217;s really interesting: imagine that the user enters <code>'password'</code> then stops typing.
We compute the strength. Then she enters a new character and removes it quickly (before 400ms).
The next event out of <code>debounceTime</code> will again be <code>'password'</code>.
It makes no sense to recompute the password strength again!
This operator will not even emit the value, and saves us the recomputing.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>RxJS can do tons of work for you: imagine coding yourself what we just did in two lines.
It can also easily combine with HTTP work, as the <code>HttpClient</code> service uses observables too.</p>
</div>
</div>
<div class="sect2">
<h3 id="_updating_on_blur_or_on_submit_only">19.10. Updating on blur or on submit only</h3>
<div class="paragraph">
<p>Angular&#160;5.0 introduced the possibility of waiting for the <code>blur</code> or the <code>submit</code> event to update the field&#8217;s value and validity.
To do so, the <code>FormControl</code> constructor accepts an <code>options</code> object as the second parameter,
to define the synchronous and asynchronous validators,
and also the <code>updateOn</code> option.
Its value can be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>change</code>, it&#8217;s the default: the value and validity are updated on every change;</p>
</li>
<li>
<p><code>blur</code>, the value and validity are then updated only when the field loses the focus.</p>
</li>
<li>
<p><code>submit</code>, the value and validity are then updated only when the parent form is submitted.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">this.usernameCtrl = new FormControl('', Validators.required);
this.passwordCtrl = new FormControl('', {
  validators: Validators.required,
  updateOn: 'blur'
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s also possible to configure this option on a group of fields all at once:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">this.userForm = new FormGroup(
  {
    username: this.usernameCtrl,
    password: this.passwordCtrl
  },
  {
    updateOn: 'blur'
  }
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The same feature is available in template-driven forms,
with the <code>ngModelOptions</code> input of the <code>NgModel</code> directive:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;label&gt;Username&lt;/label&gt;
&lt;input name="username" #usernameCtrl="ngModel"
  [(ngModel)]="user.username" [ngModelOptions]="{ updateOn: 'blur' }" required&gt;
&lt;div *ngIf="usernameCtrl.dirty &amp;&amp; usernameCtrl.hasError('required')"&gt;Username is required&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or globally on a form with the <code>NgFormOptions</code> input (which appeared with Angular&#160;5.0) of the directive <code>NgForm</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;form (ngSubmit)="register()" [ngFormOptions]="{ updateOn: 'blur' }"&gt;
  &lt;div&gt;
    &lt;label&gt;Username&lt;/label&gt;
    &lt;input name="username" #usernameCtrl="ngModel"
      [(ngModel)]="user.username" required&gt;
    &lt;div *ngIf="usernameCtrl.dirty &amp;&amp; usernameCtrl.hasError('required')"&gt;Username is required&lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_formarray_and_formrecord">19.11. <code>FormArray</code> and <code>FormRecord</code></h3>
<div class="paragraph">
<p><code>FormControl</code> and <code>FormGroup</code> are not the only entities that we can use to build a form.
If you want a part of the form to be dynamic, you can use a <code>FormArray</code> or a <code>FormRecord</code>.</p>
</div>
<div class="paragraph">
<p><code>FormArray</code> is an array of controls that contains the same types of value.
A typical example is a form where you want the users to be able to add/remove values,
like for example tags when editing a blog post:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export class EditBlogPostComponent {
  // one empty tag by default
  tagsArray = this.fb.array(['']);
  blogPostForm = this.fb.group({
    title: '',
    content: '',
    tags: this.tagsArray
  });

  constructor(private fb: FormBuilder) {}

  addTag() {
    this.tagsArray.push(this.fb.control(''));
  }

  removeTag(index: number) {
    this.tagsArray.removeAt(index);
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can iterate on the controls in the template,
and have buttons to add/remove a tag:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;div formArrayName="tags"&gt;
  &lt;label&gt;Tags&lt;/label&gt;
  &lt;button id="add-tag" (click)="addTag()"&gt;Add tag&lt;/button&gt;
  &lt;div *ngFor="let tagControl of tagsArray.controls; index as i"&gt;
    &lt;input class="tag" [formControlName]="i" /&gt;
    &lt;button class="remove-tag" (click)="removeTag(i)"&gt;Remove tag&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The value of the <code>FormArray</code> is an array of strings in this example.
Of course, form arrays can contain any kind of controls.
For example, if you want to add lines to an invoice,
the <code>FormArray</code> will contain form groups  with a label, quantity, price, etc.</p>
</div>
<div class="paragraph">
<p><code>FormRecord</code> is another entity you can use to build forms.
It has been introduced in Angular&#160;v14,
and allows building key-value maps.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say you want to build the packing list for a trip,
with the possibility to add and remove items,
and to check/uncheck them.
<code>FormRecord</code> can help in that case:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export class EditPackingListComponent {
  equipmentRecord = this.fb.record({
    // always bring your toothbrush
    toothbrush: true
  });
  packingListForm = this.fb.group({
    equipments: this.equipmentRecord
  });

  constructor(private fb: NonNullableFormBuilder) {}

  addEquipment(equipement: string) {
    this.equipmentRecord.addControl(equipement, this.fb.control(true));
  }

  removeEquipment(equipement: string) {
    this.equipmentRecord.removeControl(equipement);
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can iterate on the controls in the template,
and have buttons to add/remove equipment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;div formGroupName="equipments"&gt;
  &lt;label&gt;Equipements&lt;/label&gt;
  &lt;input #equipment name="equipement-to-add" /&gt;
  &lt;button id="add-equipment" (click)="addEquipment(equipment.value)"&gt;Add&lt;/button&gt;
  &lt;div *ngFor="let control of equipmentRecord.controls | keyvalue"&gt;
    &lt;label [for]="'eq-' + control.key"&gt;{{ control.key }}&lt;/label&gt;
    &lt;input [id]="'eq-' + control.key" type="checkbox" class="equipment" [formControlName]="control.key" /&gt;
    &lt;button class="remove-equipment" (click)="removeEquipment(control.key)"&gt;Remove equipement&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The value of the <code>FormRecord</code> will then be an object,
with the equipment name as the key and a boolean as value.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  toothbrush: false,
  jacket: true
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_strictly_typed_forms">19.12. Strictly typed forms</h3>
<div class="paragraph">
<p>Until version 14 of Angular, forms were not typed. What does that mean?</p>
</div>
<div class="paragraph">
<p>Well, the value of a <code>FormControl</code> or a <code>FormGroup</code> was of type <code>any</code>, which is obviously far from being ideal.</p>
</div>
<div class="paragraph">
<p>If you upgrade an application from version 13 to version 14, in order not to break your code, the types <code>FormControl</code>, <code>FormGroup</code>
and <code>FormArray</code> are replaced with <code>UntypedFormControl</code>, <code>UntypedFormGroup</code> and <code>UntypedFormArray</code>.</p>
</div>
<div class="paragraph">
<p>The original types are now typed. But what are the concrete changes in Angular&#160;14?</p>
</div>
<div class="paragraph">
<p>The form elements became generic.
So, we now use <code>FormControl&lt;string&gt;</code> for example, to indicate that the value of the control is a string.
The FormGroups, on the other hand, take the type of the controls that they contain. For example, a <code>FormGroup</code> used to register a user
will have the type</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">FormGroup&lt;{
  username: FormControl&lt;string&gt;;
  password: FormControl&lt;string&gt;;
}&gt;;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s verbose, but don&#8217;t panic: these generic types are, most of the time, inferred by the compiler when the variables are initialized.</p>
</div>
<div class="sect3">
<h4 id="_nullability">19.12.1. Nullability</h4>
<div class="paragraph">
<p>I have simplified things a little bit in the previous section.
Indeed, the form elements typing must consider two harsh realities:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>form elements can be disabled</p>
</li>
<li>
<p>the behavior of the <code>reset()</code> method is to set the form control values to <code>null</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When a control is disabled, its value doesn&#8217;t appear in the value of its parent <code>FormGroup</code>.
So, if I decide to disable the <em>password</em> control of my form, the <code>FormGroup</code> value will simply be</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  username: 'cedric'
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And that is slightly annoying, because it implies that the value of the <code>FormGroup</code> is not of type</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  username: string;
  password: string;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>as one might expect, but it is in fact of type</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  username?: string;
  password?: string;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Indeed, Angular can&#8217;t possibly know whether you&#8217;re planning to disable the form controls or not.
It&#8217;s thus forced to make every of the properties of the <code>FormGroup</code> value optional.
It&#8217;s your responsibility, as a developer, to handle that. It&#8217;s typically done by using <code>value.username!</code> in order to get a value of type
<code>string</code> rather than a value of type <code>string | undefined</code>, if you know that this control is not disabled.
Another possibility is to use the <em>raw</em> value of the form group (returned by <code>getRawValue()</code>). This raw value contains all the properties,
whether or not their matching control is disabled. And these properties are thus not marked as optional.</p>
</div>
<div class="paragraph">
<p>The second point causes the same kind of problem. Since Angular can&#8217;t know if you&#8217;re planning to call the <code>reset()</code> method or not,
the value of the <code>FormGroup</code> is actually of type</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  username?: string | null;
  password?: string | null;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This second annoyance, unlike the first one, can be avoided.
To avoid it, every element of the form must be configured with the option <code>nonNullable: true</code>.
This option changes the behavior of <code>reset()</code>, which then resets the control to its initial value rather than <code>null</code>.
Configuring this option on every form element is quite verbose and tedious.
It&#8217;s however the only way if you use the form elements constructors to create them.
It&#8217;s much easier if you choose to use the <code>FormBuilder</code>.
All you need to do is to inject, instead of <code>FormBuilder</code>, a <code>NonNullableFormBuilder</code>. It has the same API,
but configures all the elements it created with the <code>nonNullable</code> option.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export class RegisterFormComponent {
  userForm = this.fb.group({
    username: '',
    password: ''
  });

  constructor(private fb: NonNullableFormBuilder) {}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the name <code>NonNullableFormBuilder</code> is misleading.
Using it doesn&#8217;t prevent controls to have a nullable value.
Consider, for instance, an input of type number.
There is no real good default value other than <code>null</code> in this case.
And even if you initialize the control with a non-null value, The user can always clear the input value,
thus setting the control value to <code>null</code>.
In this case, you have to explicitly type the control:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">birthYearCtrl = new FormControl&lt;number | null&gt;(null);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or, with the <code>FormBuilder</code> or the <code>NonNullableFormBuilder</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">birthYearCtrl = this.formBuilder.control&lt;number | null&gt;(null);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or if the control is part of a <code>FormGroup</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">formGroup = this.formBuilder.group({
  // ...
  birthYear: null as number | null
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>All this additional complexity might look off-putting, but one should not overlook what we gained:
objects with properties of known names and types, which can be auto-completed by the IDE.
In the end, more maintainable and more robust code.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_super_simple_validation_error_messages_with_ngx_valdemort">19.13. Super simple validation error messages with <code>ngx-valdemort</code></h3>
<div class="paragraph">
<p>As you may have noticed,
the templates can quickly become very verbose
with all the error messages that we have to repeat
for each error type
on each field, in every form.
You are quickly stuck with very long <code>ngIf</code>
and copied/pasted boilerplate between components.</p>
</div>
<div class="paragraph">
<p>As we find it distasteful as well,
we wrote a tiny open-source library to make it easier
(heavily inspired by <code>ngMessages</code> in AngularJS):
<a href="https://ngx-valdemort.ninja-squad.com/">ngx-valdemort</a>.</p>
</div>
<div class="paragraph">
<p>Instead of</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input id="email" formControlName="email" class="form-control" type="email" /&gt;
&lt;div class="invalid-feedback" *ngIf="form.get('email').invalid &amp;&amp; (f.submitted || form.get('email').touched)"&gt;
  &lt;div *ngIf="form.get('email').hasError('required')"&gt;The email is required&lt;/div&gt;
  &lt;div *ngIf="form.get('email').hasError('email')"&gt;The email must be a valid email address&lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>the library allows you to write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input id="email" formControlName="email" class="form-control" type="email" /&gt;
&lt;val-errors controlName="email"&gt;
  &lt;ng-template valError="required"&gt;The email is required&lt;/ng-template&gt;
  &lt;ng-template valError="email"&gt;The email must be a valid email address&lt;/ng-template&gt;
&lt;/val-errors&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can even do better by defining default messages
once and for all:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;val-default-errors&gt;
  &lt;ng-template valError="required" let-label&gt; {{ label || 'This field' }} is required &lt;/ng-template&gt;
  &lt;ng-template valError="email" let-label&gt; {{ label || 'This field' }} must be a valid email address &lt;/ng-template&gt;
  &lt;ng-template valError="min" let-error="error" let-label&gt;
    {{ label || 'This field' }} must be at least {{ error.min | number }}
  &lt;/ng-template&gt;
  &lt;!-- same for the other types of error --&gt;
&lt;/val-default-errors&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And then simply use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input id="email" formControlName="email" class="form-control" type="email" /&gt;
&lt;val-errors controlName="email" label="The email"&gt;&lt;/val-errors&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We provide an integration with Bootstrap&#160;4 and Material,
to have error messages with a coherent style if you use one of these CSS frameworks.
Give it a try, you won&#8217;t regret it!</p>
</div>
</div>
<div class="sect2">
<h3 id="_going_further_define_custom_form_inputs_with_controlvalueaccessor">19.14. Going further: define custom form inputs with <code>ControlValueAccessor</code></h3>
<div class="paragraph">
<p>HTML defines a large set of input types: text, password, checkbox, etc.
But sometimes these standard types don&#8217;t fit the bill.</p>
</div>
<div class="paragraph">
<p>Angular allows defining custom components, and it&#8217;s actually possible
to make them act as Angular form controls, i.e. bind them to a form control
by applying the <code>NgModel</code> directive or the <code>FormControlName</code> directive,
and thus integrating them in a form.</p>
</div>
<div class="paragraph">
<p>The glue to implement this binding is an interface provided by Angular:
<code>ControlValueAccessor</code>.</p>
</div>
<div class="paragraph">
<p>Fulfilling its contract is relatively straightforward. You have to</p>
</div>
<div class="ulist">
<ul>
<li>
<p>accept the value of the FormControl and display it in your component (<code>writeValue</code>);</p>
</li>
<li>
<p>notify Angular that the user changed the value somehow, by calling a provided callback function (<code>registerOnChange</code>);</p>
</li>
<li>
<p>notify Angular when the control shoud be considered as touched, by calling a provided callback function (<code>registerOnTouched</code>);</p>
</li>
<li>
<p>honor the request from Angular to disable or enable the control (<code>setDisabledState</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We will illustrate all of this using a custom <em>rating</em> component. This component allows
rating a movie, for example, by giving it a note between 0 and 5. But instead of using a
<code>number</code> or <code>range</code> input, we would like the user to do that by simply clicking one of 6 buttons
(that would typically be displayed as star icons, but we&#8217;ll leave that out in the following example).</p>
</div>
<div class="paragraph">
<p>Here&#8217;s the code of such a component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export class RatingComponent implements ControlValueAccessor {
  private onChange: (rating: number) =&gt; void = () =&gt; {
    // do nothing by default
  };

  onTouched: () =&gt; void = () =&gt; {
    // do nothing by default
  };

  value: number | null = null;
  disabled = false;
  pickableValues = [0, 1, 2, 3, 4, 5];

  registerOnChange(fn: any): void {
    this.onChange = fn;
  }

  registerOnTouched(fn: any): void {
    this.onTouched = fn;
  }

  setDisabledState(isDisabled: boolean): void {
    this.disabled = isDisabled;
  }

  writeValue(v: number | null | undefined): void {
    this.value = v ?? null;
  }

  setValueAndPropagateChanges(value: number) {
    this.value = value;
    // tell Angular the value has changed
    this.onChange(this.value);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>and here is its template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;button
  *ngFor="let pickableValue of pickableValues"
  [class.selected]="value != null &amp;&amp; pickableValue &lt;= value"
  type="button"
  (click)="setValueAndPropagateChanges(pickableValue)"
  [disabled]="disabled"
  (blur)="onTouched()"
&gt;
  {{ pickableValue }}
&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The code to deal with the two callback functions and the disabled state is boilerplate code that is
almost identical in every <em>CVA</em> (<code>ControlValueAccessor</code>).</p>
</div>
<div class="paragraph">
<p>The interesting part is the handling of the value. Angular calls <code>writeValue()</code> to tell the component what value to display.
Here, we simply store the value, and use it in the template to display the first buttons as yellow-filled buttons.</p>
</div>
<div class="paragraph">
<p>When a button is clicked, we change the value of the component of course, but we must also
tell Angular about this change. That&#8217;s what allows it to change the value of the form control,
trigger the validations, etc.</p>
</div>
<div class="paragraph">
<p>The disabled state is honored by disabling all the buttons.</p>
</div>
<div class="paragraph">
<p>And finally, we choose to make the form control <em>touched</em> as soon as one of the rating buttons
loses the focus. We do that by calling the provided <code>onTouched</code> callback function when a
button fires a <code>blur</code> event.</p>
</div>
<div class="paragraph">
<p>The last thing we have to do is to register this component as one of the control value accessors of the application.
We do that by adding a provider to the rating component&#8217;s decorator. Don&#8217;t bother too much with the syntax:
you can simply copy and paste this snippet every time you define a new CVA.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">providers: [
  {
    provide: NG_VALUE_ACCESSOR,
    useExisting: forwardRef(() =&gt; RatingComponent),
    multi: true
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Voil. We now have a shiny reusable rating component that can be used to rate something in
any form, by simply applying one of the standard Angular form directives to the component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;ns-rating formControlName="rating"&gt;&lt;/ns-rating&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_summary_2">19.15. Summary</h3>
<div class="paragraph">
<p>Angular offers two ways to build a form:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>one by setting up everything in the template.
But, as you have seen, it
forces us to have custom directives for the validation and is harder to test.
This way of doing things is useful for simple forms, with just one or a few fields for example,
and it gives us two-way data-binding.</p>
</li>
<li>
<p>one by setting up almost everything in the component.
This way allows an easier setup for validation and testing, with several levels of groups if you need them.
It is your weapon of choice for building complex forms.
You can even react to changes on a group, or on a field.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is maybe the most pragmatic approach:
go with template-based and bidirectional binding if you like it,
and as soon as you need access to form groups or form controls,
for example to add custom validation or reactive behavior,
then declare the ones you need in the component,
and bind the inputs and divs to them using the appropriate directives.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Try our
<a href="https://angular-exercises.ninja-squad.com/exercises/13/quiz-forms">quiz</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>,
and the exercises
<a href="https://angular-exercises.ninja-squad.com/exercises/14/register">Register form</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>,
<a href="https://angular-exercises.ninja-squad.com/exercises/15/validation">Custom validators in forms</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
and
<a href="https://angular-exercises.ninja-squad.com/exercises/16/login">Login form</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>.
You&#8217;ll learn how to build a simple form using the code-driven way
and another one with the template-driven way.
You&#8217;ll also learn how to write custom validators, how to test forms,
and how to authenticate your users!</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="zones">20. Zones and the Angular magic</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Developing with AngularJS&#160;1.X gave a "magic" feeling,
and Angular still gives that same effect:
you type some value in an input and everything is magically updating all over the place.</p>
</div>
<div class="paragraph">
<p>I love magic, but I prefer to understand what&#8217;s going on with the tools I use.
If you are like me, I think this part will be interesting for you too:
we are going to see how Angular works under the hood!</p>
</div>
<div class="paragraph">
<p>But first, let&#8217;s start with how AngularJS&#160;1.x works,
which should be interesting, even you&#8217;ve never used it.</p>
</div>
<div class="paragraph">
<p>All JavaScript frameworks work roughly the same way:
they help the developer to react to application events,
to update the application state, and to refresh the DOM accordingly.
But they don&#8217;t all use the same way to achieve that goal.</p>
</div>
<div class="paragraph">
<p>EmberJS, for example, asks the developers to use <em>setters</em>
to change the state of the objects, in order for the framework
to be able to intercept the calls to these setters.
That&#8217;s what allows it to know which changes have been applied to the model,
and thus to update the DOM accordingly.</p>
</div>
<div class="paragraph">
<p>React, on the other hand, chose to recompute the DOM after each change.
But since modifying the whole DOM is a costly operation,
it starts by applying the changes to a virtual DOM,
and then only applies the changes between the virtual DOM and the actual DOM.</p>
</div>
<div class="paragraph">
<p>Angular doesn&#8217;t use any setter, and doesn&#8217;t use any virtual DOM either.
So, how does it know what to change in the DOM?</p>
</div>
<div class="sect2">
<h3 id="_angularjs1_x_and_the_digest_cycle">20.1. AngularJS&#160;1.x and the digest cycle</h3>
<div class="paragraph">
<p>The first step is to detect changes in the model.
A change is always triggered by an event,
coming either from the user directly (for example, a button click or an input in a form),
or from a "system" event (an HTTP response,
an asynchronous method execution after a timeout, etc.).</p>
</div>
<div class="paragraph">
<p>So, how does AngularJS&#160;1.x know that an event has happened?
That part is actually pretty simple:
it forces us to use its directives,
for example <code>ng-click</code> to react to a click event,
or <code>ng-model</code> to observe changes to an input.
It also forces us to use its services,
for example <code>$http</code> for HTTP requests or <code>$timeout</code> to execute tasks asynchronously.</p>
</div>
<div class="paragraph">
<p>Using these directives and services allows the framework to be
well informed about any event that has happened.
That&#8217;s the first part of the magic! And that&#8217;s this first part
which triggers the second one: the framework now has to analyze
the changes made to the model, in order to decide which part
of the DOM must be updated (and how).</p>
</div>
<div class="paragraph">
<p>To do that, in version 1.x, the framework maintains
a list of <em>watchers</em>, all observing and reacting to changes
in a specific part of the model.
To simplify, a watcher is created for every dynamic expression
used in the HTML templates.
This can lead to several hundreds of watchers in a page.</p>
</div>
<div class="paragraph">
<p>These watchers are central to AngularJS&#160;1.x:
they are the memory of the framework, and are here to remember the state of the app.</p>
</div>
<div class="paragraph">
<p>Every time the framework detects an event
(a user typing something in an input with an <code>ng-model</code>,
an HTTP response, a timeout execution, etc.),
it triggers what is called the <em>digest cycle</em>.</p>
</div>
<div class="paragraph">
<p>This <em>digest cycle</em> evaluates all the expressions stored in
the watchers and compares their new value with their old value.
If there is a change, then the framework knows that it has to
update the DOM, so that the UI displays the new value instead
of the old one. This technique is called <em>dirty checking</em>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMTU0JyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgNTUwIDE1NCcgd2lkdGg9JzU1MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMTU0JyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzU1MCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00xNzUuMCAzNS4wIEwzMjUuMCAzNS4wIEwzMjUuMCA2My4wIEwxNzUuMCA2My4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM5NS4wIDM1LjAgTDUyNS4wIDM1LjAgTDUyNS4wIDYzLjAgTDM5NS4wIDYzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNMjUuMCAzNS4wIEwxMDUuMCAzNS4wIEwxMDUuMCA2My4wIEwyNS4wIDYzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNNDY1LjAgNzcuMCBMNDY1LjAgMTA1LjAgTDY1LjAgMTA1LjAgTDY1LjAgNzcuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00xNzUuMCAzNS4wIEwzMjUuMCAzNS4wIEwzMjUuMCA2My4wIEwxNzUuMCA2My4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMzk1LjAgMzUuMCBMNTI1LjAgMzUuMCBMNTI1LjAgNjMuMCBMMzk1LjAgNjMuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTI1LjAgMzUuMCBMMTA1LjAgMzUuMCBMMTA1LjAgNjMuMCBMMjUuMCA2My4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTYwLjAgNDIuMCBMMTcwLjAgNDkuMCBMMTYwLjAgNTYuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMzgwLjAgNDIuMCBMMzkwLjAgNDkuMCBMMzgwLjAgNTYuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNjUuMCA3MC4wIEw2MC4wIDg0LjAgTDcwLjAgODQuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTE1LjAgNDkuMCBMMTY1LjAgNDkuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00zMzUuMCA0OS4wIEwzODUuMCA0OS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNDInIHk9JzU0Jz48IVtDREFUQVtldmVudF1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PScyMDInIHk9JzU0Jz48IVtDREFUQVtkaWdlc3QgY3ljbGVdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTQnIHN0cm9rZT0nbm9uZScgeD0nNDEyJyB5PSc1NCc+PCFbQ0RBVEFbRE9NIHVwZGF0ZV1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PScxOTQnIHk9JzEyNCc+PCFbQ0RBVEFbd2FpdCBmb3IgYSBjaGFuZ2VdXT48L3RleHQ+PC9nPjwvc3ZnPg==" alt="zones digest" width="550" height="154">
</div>
</div>
<div class="paragraph">
<p>During this <em>digest cycle</em>, Angular is going over the whole list of watchers,
and evaluates every watched expression.
But there is a catch: it will execute this whole cycle again until the results are stable,
i.e. until all the new values are equal to the old values.</p>
</div>
<div class="paragraph">
<p>Why does it do that?
Because each time a change is detected in the value of a watched expression,
a callback function is called.
And this callback function can, in turn, modify the model,
and thus change the value of one or several other watched expressions!</p>
</div>
<div class="paragraph">
<p>Let&#8217;s take a minimalistic example: a page with two fields
that the user must fill: name and password.
Let&#8217;s also say that the page displays a password strength indicator.
A watcher is used to watch the value of the password,
and recomputes its strength every time it changes.</p>
</div>
<div class="paragraph">
<p>After the first iteration of the digest cycle,
once the user has entered the first letter of his/her password,
we thus have this list of watchers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">$$watchers (expression -&gt; value)
- "user.name" -&gt; "Cdric"
- "user.password" -&gt; "h"
- "passwordStrength" -&gt; 0</code></pre>
</div>
</div>
<div class="paragraph">
<p>The callback function of the watcher observing the
<code>user.password</code> expression is then called, and it computes
the new password strength: 3.</p>
</div>
<div class="paragraph">
<p>Angular doesn&#8217;t know anything about the changes that might have
been done on the model, so it starts a second digest iteration
to know if the model is stable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">$$watchers
- "user.name" -&gt; "Cdric"
- "user.password" -&gt; "h"
- "passwordStrength" -&gt; 3</code></pre>
</div>
</div>
<div class="paragraph">
<p>The model isn&#8217;t stable:
the value of <code>passwordStrength</code> has changed since the first iteration.
So it starts another digest iteration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">$$watchers
- "user.name" -&gt; "Cdric"
- "user.password" -&gt; "h"
- "passwordStrength" -&gt; 3</code></pre>
</div>
</div>
<div class="paragraph">
<p>This time, the model is stable.
It&#8217;s only at that time that AngularJS&#160;1.x flushes the result to the DOM.
So the digest cycle happens at least 2 times for every change in your application.
The digest can iterate up to 10 times, but no more: after 10 iterations,
if the results are not stable,
the framework considers there is an infinite loop and throws an exception.</p>
</div>
<div class="paragraph">
<p>So my little drawing earlier is much more like:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMTgyJyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgNTUwIDE4Micgd2lkdGg9JzU1MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMTgyJyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzU1MCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00xNzUuMCAzNS4wIEwzMjUuMCAzNS4wIEwzMjUuMCA2My4wIEwxNzUuMCA2My4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM5NS4wIDM1LjAgTDUyNS4wIDM1LjAgTDUyNS4wIDYzLjAgTDM5NS4wIDYzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNMjUuMCAzNS4wIEwxMDUuMCAzNS4wIEwxMDUuMCA2My4wIEwyNS4wIDYzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNNDY1LjAgNzcuMCBMNDY1LjAgMTMzLjAgTDY1LjAgMTMzLjAgTDY1LjAgNzcuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00xNzUuMCAzNS4wIEwzMjUuMCAzNS4wIEwzMjUuMCA2My4wIEwxNzUuMCA2My4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMzk1LjAgMzUuMCBMNTI1LjAgMzUuMCBMNTI1LjAgNjMuMCBMMzk1LjAgNjMuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTI1LjAgMzUuMCBMMTA1LjAgMzUuMCBMMTA1LjAgNjMuMCBMMjUuMCA2My4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMjg1LjAgNzcuMCBMMjg1LjAgMTA1LjAgTDIyNS4wIDEwNS4wIEwyMjUuMCA3Ny4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTE2MC4wIDQyLjAgTDE3MC4wIDQ5LjAgTDE2MC4wIDU2LjAgeicgZmlsbD0nIzAwMDAwMCcgc3Ryb2tlPSdub25lJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTM4MC4wIDQyLjAgTDM5MC4wIDQ5LjAgTDM4MC4wIDU2LjAgeicgZmlsbD0nIzAwMDAwMCcgc3Ryb2tlPSdub25lJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTY1LjAgNzAuMCBMNjAuMCA4NC4wIEw3MC4wIDg0LjAgeicgZmlsbD0nIzAwMDAwMCcgc3Ryb2tlPSdub25lJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTIyNS4wIDcwLjAgTDIyMC4wIDg0LjAgTDIzMC4wIDg0LjAgeicgZmlsbD0nIzAwMDAwMCcgc3Ryb2tlPSdub25lJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTI1MC4wIDExOS4wIEwyNTkuMCAxMTkuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00xMTUuMCA0OS4wIEwxNjUuMCA0OS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTMzNS4wIDQ5LjAgTDM4NS4wIDQ5LjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc0MicgeT0nNTQnPjwhW0NEQVRBW2V2ZW50XV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzIwMicgeT0nNTQnPjwhW0NEQVRBW2RpZ2VzdCBjeWNsZV1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNCcgc3Ryb2tlPSdub25lJyB4PSc0MTInIHk9JzU0Jz48IVtDREFUQVtET00gdXBkYXRlXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE0JyBzdHJva2U9J25vbmUnIHg9JzIyMScgeT0nMTI0Jz48IVtDREFUQVsyeF1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNCcgc3Ryb2tlPSdub25lJyB4PScyNzEnIHk9JzEyNCc+PCFbQ0RBVEFbMTB4XV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzE5NCcgeT0nMTUyJz48IVtDREFUQVt3YWl0IGZvciBhIGNoYW5nZV1dPjwvdGV4dD48L2c+PC9zdmc+" alt="zones digest cycles" width="550" height="182">
</div>
</div>
<div class="paragraph">
<p>And to insist: this is going on after <em>each event</em>.
That means that if your user is entering 5 characters in the password field,
the digest cycle will run 5 times, with 3 iterations every time,
which leads to a total of 15 iterations.</p>
</div>
<div class="paragraph">
<p>In a real application, you can have several hundred watchers, and thus
thousands of expression evaluations after every event!</p>
</div>
<div class="paragraph">
<p>Even if that sounds crazy, it works fine,
because modern browsers are very fast,
and there are ways to optimize a few things if necessary.</p>
</div>
<div class="paragraph">
<p>So let&#8217;s recap the two important points about AngularJS&#160;1.x:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>you must use the services and directives of the framework
for everything that can make a change to the model;</p>
</li>
<li>
<p>modifying the model after an event that is not handled by Angular is possible,
but you have to trigger the detection change mechanism explicitly
(by using the famous <code>$scope.$apply()</code> method, which starts the digest cycle).
For example, if you want to send an HTTP request without using the <code>$http</code> service,
you need to call <code>$scope.$apply()</code> in the response callback to tell the framework:
"Hey, I have stored new values in the model - would you please start the digest cycle?".</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The magic in the framework can be split in two parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the triggering of the change detection after each event;</p>
</li>
<li>
<p>the change detection itself, thanks to the watchers and the digest cycles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Now let&#8217;s see how Angular works, and how it
differs from AngularJS.</p>
</div>
</div>
<div class="sect2">
<h3 id="_angular_and_zones">20.2. Angular and zones</h3>
<div class="paragraph">
<p>Angular is based on the same principles, but implements them
in a different way. And we might even say, in a smarter way.</p>
</div>
<div class="paragraph">
<p>For the first part of the problem&#8201;&#8212;&#8201;triggering the change
detection&#8201;&#8212;&#8201;the Angular team has built a small
side-project named <a href="https://github.com/angular/angular/tree/master/packages/zone.js">Zone.js</a>.
This project is not tied to Angular, because <em>zones</em> are a tool
that can be useful in other projects.
<em>Zones</em> are not a brand new concept either: they already exist
in the Dart language (another Google project), for quite some time.
They also have similarities with <em>Domains</em> in Node.js (now
abandoned) or the <em>ThreadLocals</em> in Java.</p>
</div>
<div class="paragraph">
<p>But it&#8217;s probably the first time that zones are being used in
JavaScript. No worries, we&#8217;ll discover them together.</p>
</div>
<div class="sect3">
<h4 id="_zones">20.2.1. Zones</h4>
<div class="paragraph">
<p>A zone is an execution context. This context receives code to execute,
and this code can be synchronous or asynchronous. A zone brings
some benefits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>hooks that can be executed before and after the code to execute</p>
</li>
<li>
<p>a way to intercept potential errors of the code to execute</p>
</li>
<li>
<p>a way to store variables bound to this context</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let&#8217;s take an example. Suppose I have the following code in my
application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// score computation -&gt; synchronous
const score = computeScore();
// player score update -&gt; synchronous
updatePlayer(playerOne, score);</code></pre>
</div>
</div>
<div class="paragraph">
<p>When we execute that code, we obtain:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">computeScore: new score: 1000
udpatePlayer: player 1 has 1000 points</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now suppose I want to measure how much time is spent executing that
code. I can do something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">startTimer();
const score = computeScore();
updatePlayer(playerOne, score);
stopTimer();</code></pre>
</div>
</div>
<div class="paragraph">
<p>And that would produce:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">start
computeScore: new score: 1000
udpatePlayer: player 1 has 1000 points
stop: 12ms</code></pre>
</div>
</div>
<div class="paragraph">
<p>Easy. Now what happens if <code>updatePlayer</code> is an asynchronous function?
JavaScript works in quite a special way: asynchronous operations are
put at the end of the execution queue, and will thus be executed
after the synchronous operations.</p>
</div>
<div class="paragraph">
<p>So, my previous code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    startTimer();
    const score = computeScore();
    updatePlayer(playerOne, score); // asynchronous
    stopTimer();</pre>
</div>
</div>
<div class="paragraph">
<p>will in fact produce&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">start
computeScore: new score: 1000
stop: 5ms
udpatePlayer: player 1 has 1000 points</code></pre>
</div>
</div>
<div class="paragraph">
<p>My execution time is not correct anymore: it only measures the time
taken by the synchronous operations in my code, and not the time
elapsed from the start until the end of the score update! That&#8217;s where zones
can be useful. We will execute the code in a dedicated execution
context: a zone:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const scoreZone = Zone.current.fork({ name: 'scoreZone' });
scoreZone.run(() =&gt; {
  const score = computeScore();
  updatePlayer(playerOne, score); // asynchronous
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Why does this help? Well, if the zone.js library is loaded by the
browser, it starts by patching all the asynchronous functions in the
JavaScript runtime.
So, every time we use <code>setTimeout()</code> or <code>setInterval()</code>, or
we use an asynchronous API like Promises, XMLHttpRequest, WebSocket, FileReader, GeoLocation, etc., we will in fact call the patched
version of zone.js.
Thus, Zone.js knows when asynchronous operations are done
and allows us, developers, to execute some <em>hooks</em> at that time.</p>
</div>
<div class="paragraph">
<p>A zone offers several hooks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>onInvoke</code> is called before executing the code wrapped in the zone;</p>
</li>
<li>
<p><code>onHasTask</code> is called after the code wrapped in the zone has finished executing;</p>
</li>
<li>
<p><code>onHandleError</code> is called when the code wrapped in the zone throws an exception;</p>
</li>
<li>
<p><code>onFork</code> is called when the zone is created.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We can thus use a zone and its hooks to measure the whole time spent
from the start to the end of my asynchronous operation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const scoreZone = Zone.current.fork({
  name: 'scoreZone',
  onInvoke(delegate: ZoneDelegate, current: Zone, target: Zone, task: Function, applyThis: any): any {
    // start the timer
    startTimer();
    return delegate.invoke(target, task, applyThis);
  },
  onHasTask(delegate: ZoneDelegate, current: Zone, target: Zone, hasTaskState: HasTaskState): void {
    delegate.hasTask(target, hasTaskState);
    if (!hasTaskState.macroTask) {
      // if the zone run is done, stop the timer
      stopTimer();
    }
  }
});
scoreZone.run(() =&gt; {
  const score = computeScore();
  updatePlayer(playerOne, score);
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>And this time, the result is correct!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">start
computeScore: new score: 1000
udpatePlayer: player 1 has 1000 points
stop: 12ms</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you can guess how Angular can benefit from this mechanism.
Indeed, the first problem of the framework is to know when change
detection must be triggered.
By using zones, and by running the code we write in a zone, the
framework has a good view of what is happening. It can handle errors
in a better way. But more importantly, it can trigger change detection
every time an asynchronous operation is done!</p>
</div>
<div class="paragraph">
<p>To simplify, Angular does something like this&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const angularZone = Zone.current.fork({
  name: 'angular',
  onHasTask: triggerChangeDetection
});
angularZone.run(() =&gt; {
  // your application code
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>And the first problem is thus solved! That&#8217;s why, in Angular,
unlike AngularJS&#160;1.x, it&#8217;s not necessary to use special services
to benefit from automatic change detection.
You can use whatever you want, and zones will deal with it.</p>
</div>
</div>
<div class="sect3">
<h4 id="_change_detection_in_angular">20.2.2. Change detection in Angular</h4>
<div class="paragraph">
<p>The second part of the problem is change detection itself. It&#8217;s
one thing to know when and how it&#8217;s started, but it&#8217;s another to
know how it works.</p>
</div>
<div class="paragraph">
<p>First of all, we have to remember that an Angular&#160; application
is a tree of components.
When change detection starts, the frameworks goes through all the
components in the tree to know if their state has changed and if
the new state affects their view.
If that&#8217;s the case, the DOM part of the component which is
affected by the change is updated.</p>
</div>
<div class="paragraph">
<p>The tree traversal goes from the root to the leaves and, unlike
AngularJS&#160;1.x, is done only once.
Because there is now a big difference: the change detection does not
change the application model in Angular, whereas a watcher
in AngularJS&#160;1.x could change the model during that phase.</p>
</div>
<div class="paragraph">
<p>Another big difference is that a component may modify its state and the state
of its children, but it must not modify the state of its
ancestors. So cascading changes are now over!</p>
</div>
<div class="paragraph">
<p>Change detection is therefore only used for checking changes in the model
and modify the DOM accordingly. It can&#8217;t have side-effects on the model
as it could in version 1.x, and thus doesn&#8217;t need more than one pass
through the tree, since the model can&#8217;t be modified by the traversal!</p>
</div>
<div class="paragraph">
<p>To be accurate, the traversal, in development mode, is made twice
precisely to verify that such undesirable side effects are non-existent
(for example, a child component modifying the model of its parent). If
the second pass detects such a change, an exception is thrown to
warn the developer about the problem.</p>
</div>
<div class="paragraph">
<p>This strategy has many advantages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>it&#8217;s easier to reason with this in our applications, because state changes
are made in one way, from the parent to the child, instead of being
made in both ways;</p>
</li>
<li>
<p>the change detection can&#8217;t have infinite loops anymore;</p>
</li>
<li>
<p>the change detection is significantly faster.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>About this last point, it&#8217;s relatively easy to visualize:
AngularJS&#160;1.x did (M watchers) * (N cycles) verifications,
whereas Angular only does M verifications.</p>
</div>
<div class="paragraph">
<p>But there is another parameter to take into account in the performance
improvements of Angular: the time spent by the framework
making these verifications. Once again, the Google team has employed
all the knowledge it has about computer science and virtual machines.</p>
</div>
<div class="paragraph">
<p>To understand how the performance has been improved, we have to
examine how expressions are evaluated and values compared in both
versions of the framework.</p>
</div>
<div class="paragraph">
<p>In version 1.x, the mechanism is very generic. A single generic method
is called for every watcher, capable of comparing the old and the new
values. The problem is that virtual machines that execute the JavaScript
code in our browsers (V8 if you&#8217;re using Google Chrome, for example),
don&#8217;t really like generic code.</p>
</div>
<div class="paragraph">
<p>If you don&#8217;t mind, I&#8217;ll digress a little to talk about the behavior
of virtual machines. You didn&#8217;t expect that in a book about a
JavaScript framework, did you?
Virtual machines are quite extraordinary programs: you give them a
piece of code, and they transform it to machine code and execute it.
Very few among us (and certainly not me), are able to produce efficient
machine code, but we don&#8217;t really care: we use a high-level language,
and let the virtual machine deal with it. Not only do they translate
the code, but they optimize it. And they&#8217;re quite good at that. Some
even produce code that runs faster than manually optimized code, because
they benefit from runtime information that is impossible to know
in advance.</p>
</div>
<div class="paragraph">
<p>To improve performance, virtual machines like the ones executing
dynamic JavaScript code, use a strategy named <em>inline caching</em>.
It&#8217;s a very old technique, invented for SmallTalk, 40 years ago (an
eternity in IT), relying on a relatively simple principle: if a program
calls a function frequently, with the objects having the same shape, the
VM should recall how it evaluates the properties of the object.
This technique thus uses a cache, hence the name <em>inline caching</em>.
When receiving an object, it looks in the cache to see if it
recognizes the shape of the object. And if it does, it uses the cached
optimized way of accessing the properties of the object.</p>
</div>
<div class="paragraph">
<p>This kind of cache is really beneficial if the arguments of the
function have the same shape. For example, <code>{name: 'Cdric'}</code>
and <code>{name: 'Cyril'}</code> have the same shape.
But <code>{name: 'JB', skills: []}</code> doesn&#8217;t have the same shape as the
two other ones.</p>
</div>
<div class="paragraph">
<p>When the arguments always have the same shape, the cache is
<em>monomorphic</em>, and thus produces very fast results.
If the cache only has a few entries, it is <em>polymorphic</em>. That means
that the method is called with some different kinds of objects which
makes the code a bit slower.
Finally, if there are too many different object shapes, the VM drops
the cache completely, because it is <em>megamorphic</em>. That, of course,
is the worst case in terms of performance.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s come back to our change detection in AngularJS&#160;1.x.
We can understand now that this unique generic function called for all
the watchers is not optimizable using inline caching. We&#8217;re in a
<em>megamorphic</em> state, where the code is the slowest. And even if that
isn&#8217;t a problem in most situations, some pages with many watchers
make us reach a limit where the performance is not sufficient anymore.</p>
</div>
<div class="paragraph">
<p>In order to benefit from the inline caching optimizations of the VM,
Angular has adopted a different strategy. Instead of using a
single method able to compare all kinds of objects, the Google team
decided to dynamically generate a comparator for every type. At the
startup of the application, the framework goes through the tree of
components, and generates a set of change detection functions,
specific to each component.</p>
</div>
<div class="paragraph">
<p>For example, given a component <code>PonyComponent</code>
with an attribute <code>name</code> displayed in the view,
the framework will generate a change detection function for the whole component,
pretty much like this one
(this is a dumbed down version):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">(view) =&gt; {
  var component = view.component;
  const currVal = component.name;
  if (currVal !== view.oldValue) {
    view.oldValue = currVal;
    updateView(view, 'p', currVal);
  };
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>This code is similar to code that you would have written by hand,
and that the VM can optimize because it&#8217;s monomorphic. The result is a
significantly faster code, allowing for more complex pages.</p>
</div>
<div class="paragraph">
<p>To recap, Angular needs to evaluate fewer expressions and compare fewer
values than AngularJS&#160;1.x (a single pass is enough), and those evaluations
and comparisons are faster!</p>
</div>
<div class="paragraph">
<p>From the beginning, the Google team has been monitoring the performance with
<a href="https://github.com/angular/angular/tree/master/modules/benchmarks">benchmarks</a>
comparing AngularJS&#160;1.x, Angular and even Polymer and
React on various use cases, in order to check if the new version
keeps getting faster.</p>
</div>
<div class="paragraph">
<p>If really needed, it&#8217;s even possible to go further than those automatic
optimizations provided by the framework: the <em>ChangeDetection</em> strategy
can be changed from its default value, and thus
be adapted and tuned to specific use-cases. But that&#8217;s for another chapter.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="aot-compiler">21. Angular compilation: Just in Time vs Ahead of Time</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_code_generation">21.1. Code generation</h3>
<div class="paragraph">
<p>In the previous chapter,
we talked briefly about how the framework <em>generates</em>
a change detection function for each component.</p>
</div>
<div class="paragraph">
<p>This is a very interesting and particular point in Angular,
which you don&#8217;t see in other frameworks:
Angular, at the start of your application,
will <em>compile</em> your templates
and <em>generate</em> dynamic code for each component.</p>
</div>
<div class="paragraph">
<p>The HTML you write in your templates is never read by the browser directly.
Instead, Angular generates a component definition for each component
that represents exactly what you wrote in your template.
This component definition is inlined in a static field of your component.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s take an example, with our well-known <code>PonyComponent</code>.
The template is mainly an image with a bound source property,
and a <code>figcaption</code> element with an interpolation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;figure&gt;
  &lt;img [src]="getPonyImageUrl()"&gt;
  &lt;figcaption&gt;{{ ponyModel.name }}&lt;/figcaption&gt;
&lt;/figure&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When Angular compiles this,
it first starts by parsing the template
to generate what is called an Abstract Syntax Tree (AST).
An AST is a tree representing the structure of the template,
commonly used by compilers to represent such things.
It is the result of the <em>syntax analysis</em> step of the compilation.
This AST will then be used to generate the dynamic JavaScript code,
a "component definition" per component,
inlined in a static field of our component class.
A component definition contains several things, and among them the template,
represented by a function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">elementStart(0, 'figure');
{
  element(1, 'img');
}
{
  elementStart(2, 'figcaption');
  text(3);
  elementEnd();
}
elementEnd();</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This chapter describes the code generated by the compiler/renderer introduced in Angular&#160;8.0
and called "Ivy".
We wrote <a href="https://blog.ninja-squad.com/2019/05/07/what-is-angular-ivy/">a detailed blog post</a>
about Ivy if you want to learn more.
This renderer is the third iteration,
as the initial renderer has already been rewritten in Angular&#160;4.0.
These iterations have brought either better performance or bundle size improvements or both,
while keeping the same template syntax, allowing a backward compatibility with existing code,
and allowing us developers to migrate very easily.
Most people haven&#8217;t noticed that the renderer changed in Angular&#160;4.0 for example.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With this function,
Angular is able to create the DOM corresponding to our <code>PonyComponent</code>:
it basically appends the corresponding <code>HTMLElement</code> to the DOM,
for every element.</p>
</div>
<div class="paragraph">
<p>But how does it handle the change detection?
The template function is in fact a little bit longer:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">template: (renderFlags: RenderFlags, component: PonyComponent) =&gt; {
  if (renderFlags &amp; RenderFlags.Create) {
    elementStart(0, 'figure');
    {
      element(1, 'img');
    }
    {
      elementStart(2, 'figcaption');
      text(3);
      elementEnd();
    }
    elementEnd();
  }
  if (renderFlags &amp; RenderFlags.Update) {
    advance(1);
    property('src', component.getPonyImageUrl());
    advance(2);
    textInterpolate(component.ponyModel.name);
  }
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>This template function has two parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the creation of the component that we explained above</p>
</li>
<li>
<p>the update of the component which does basically what you would write by hand
(i.e. the image has a source property that reflects the result of the method <code>getPonyImageUrl()</code> of my component,
and the <code>figcaption</code> has a text that reflects the pony&#8217;s name).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is called by the framework every time
it needs to check if there is a change (see the previous chapter).
It basically gets the values of the dynamic bits
(the <code>src</code> attribute and the interpolation),
and then calls a function of the framework
with the index of the element to update,
and another one with its property and the new value.
The framework then compares the previous value stored for this element
and if it changed, updates it, and replaces it with the new value.</p>
</div>
<div class="paragraph">
<p>This generated code is very fast and
can be optimized by JS engines (see the part on monomorphism and inline caching in the previous chapter).
This code generation takes some time, so it used to be done in the browser, on the application start.
This mode was called the <em>Just in Time</em> (JiT) compilation.
The Ivy compiler is now fast enough to do this compilation
directly when you run <code>ng serve</code> or <code>ng build</code>.
This mode is called <em>Ahead of Time</em> (AoT), and is detailed below.</p>
</div>
<div class="paragraph">
<p>To sum up, when you are using the JiT compilation:
you write TypeScript code and HTML templates,
you compile your TypeScript to JavaScript
and send the JS and HTML to your users.
At runtime, the HTML is then compiled to JS code too.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ahead_of_time_compilation">21.2. Ahead of Time compilation</h3>
<div class="paragraph">
<p>We can generate this code <em>before</em> starting the application,
using the compiler that the Angular team wrote:
the <em>Ahead of Time</em> (AoT) compiler.
You can call it manually in your project (<code>ngc</code>),
or, if you are using the CLI (as you should),
it is enabled by default when you run <code>ng serve</code> or <code>ng build</code> since Angular CLI v8.1.</p>
</div>
<div class="paragraph">
<p>The build uses the Angular compiler
to compile the templates to TypeScript files.
To TypeScript?
Yes, because it then makes sure that
we didn&#8217;t make a mistake in our templates!
The generated TypeScript code and our application code
will then be compiled by TypeScript
(<code>ngc</code> will call the TypeScript compiler immediately),
and if you made a mistake in a template,
you&#8217;ll see an error:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;figure&gt;
  &lt;!-- wrong method name --&gt;
  &lt;img [src]="getPonyImageUr()"&gt;
  &lt;figcaption&gt;{{ ponyModel.name }}&lt;/figcaption&gt;
&lt;/figure&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Angular compiler then generates this TypeScript code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">template: (component: PonyComponent, create: boolean) =&gt; {
  if (create) {
    // ...
  }
  advance(1);
  &lt;!-- wrong method name in the generated code --&gt;
  property('src', component.getPonyImageUr());
  advance(2);
  textInterpolate(component.ponyModel.name);
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>which raises an error in the TypeScript compilation:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Property 'getPonyImageUr' does not exist on type 'PonyComponent'.</pre>
</div>
</div>
<div class="paragraph">
<p>This is great,
because it means you can check all your templates before even running the application.
Your future refactoring will be painless:
if you rename a method or a property in a component,
you&#8217;ll know straight away that the template must be updated,
too, because it breaks the build.</p>
</div>
<div class="paragraph">
<p>It also means that this compilation may throw an error
whereas your code can be fine in the <em>Just in Time</em> mode.</p>
</div>
<div class="paragraph">
<p>For example, if you have a private <code>@Input()</code> in your component,
it will be fine in JiT mode
(because JavaScript has no notion of private property),
but will break in AoT mode
(as the generated TypeScript code of another component needs to access the property).</p>
</div>
<div class="paragraph">
<p>Compiling your application before shipping to your users
will also greatly speed up the start of the application,
as the compilation will already be done!</p>
</div>
<div class="paragraph">
<p>To sum up, in AoT mode:
you still write TypeScript and HTML,
you compile the HTML to TypeScript and then all TypeScript code to JavaScript,
and send this JS code to your users.</p>
</div>
<div class="paragraph">
<p>The downside will be the size of the JavaScript bundle
you will ship to your users:
the generated code is larger than the uncompiled templates.
This is somewhat compensated by the fact
that you don&#8217;t need to ship the Angular compiler to your users,
as the templates are already compiled.
And the compiler is a big piece of code,
so this is a nice win.
On a medium or large application,
this generally doesn&#8217;t compensate
the increase in size from the generated code though.
If you want to have all the perks of the AoT compilation
AND a small bundle, you&#8217;ll need to dig into the lazy-loading feature
we explained in the Router chapter.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="advanced-observables">22. Advanced observables</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I must confess that I made a mistake: I under-estimated the value of RxJS and Observables.
And that&#8217;s a bit sad because I did the same with AngularJS 1.x and Promises.
Promises were extremely useful in AngularJS 1.x - once you get them,
you can handle any asynchronous part of your application elegantly.
But it took some time to get there, and there were traps to avoid
(check the blog post we wrote about
<a href="http://blog.ninja-squad.com/2015/05/28/angularjs-promises/">Traps, anti-patterns and tips about AngularJS promises</a>,
if you want to learn more about that).</p>
</div>
<div class="paragraph">
<p>Angular relies on RxJS, and exposes Observables in a few APIs
(Http, Forms, Router&#8230;&#8203;).
After coding for a while with RxJS,
I think this ebook deserves a more "advanced" chapter about Observables,
their creation, subscription, operators, possible uses with Angular, etc.
I hope this will give you a few hints or spark the curiosity to dive deeper into it,
because RxJS will play a big role in how you orchestrate your app,
and it can do a wonderful job in simplifying your life.</p>
</div>
<div class="sect2">
<h3 id="_subscribe_unsubscribe_and_async_pipe">22.1. Subscribe, unsubscribe and async pipe</h3>
<div class="paragraph">
<p>To sum up what we learned in the chapter about Reactive Programming,
an Observable represents a sequence of events
to which we can subscribe.</p>
</div>
<div class="paragraph">
<p>This stream of events can happen at any time,
and there can be only one event or ten thousands of them.
But there is a distinction to understand between two kinds of Observables:
cold ones and hot ones.</p>
</div>
<div class="paragraph">
<p>Cold observables will only emit events when they are subscribed to.
You can think of it as watching a Youtube video:
the video will only stream when you hit the "Play" button.
For example, the observables returned by the <code>HttpClient</code> class are
cold observables: they will only trigger the request when you <code>subscribe</code>.</p>
</div>
<div class="paragraph">
<p>Hot observables are slightly different:
they emit events from the moment they are created.
You can think of them as live television:
you turn on the TV and you land in the middle of a show,
that could have started minutes or hours ago.
The observable representing the <code>valueChanges</code> in a <code>FormControl</code>
is also a hot observable.
You will not receive the values emitted before the moment you subscribed,
only the value from the moment you subscribe.</p>
</div>
<div class="paragraph">
<p>When you subscribe to an observable,
you can pass three possible parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a function to handle the next event</p>
</li>
<li>
<p>a function to handle an error</p>
</li>
<li>
<p>a function to handle the completion</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first one is pretty obvious.
The observable is a stream of events
and you define what to do if an event occurs.</p>
</div>
<div class="paragraph">
<p>The second one allows you to handle a potential error.
It&#8217;s not always necessary to pass this function.
If the stream of events represents a stream of clicks,
there are no possible errors that can occur,
even if your user broke his finger
(this joke is not mine,
it&#8217;s from a <a href="https://www.youtube.com/watch?v=uQ1zhJHclvs">great presentation from Andr Staltz</a>
on RxJS at NgEurope 2016).
But in most cases, it is very useful to define an error handler.
It allows you to define what to do if you get an error response from the HTTP backend, for example.</p>
</div>
<div class="paragraph">
<p>One thing to understand about this:
an error is a terminal event - the observable will not emit new events after it.
So if it is important for you to continue to listen,
you probably want to handle this properly (we&#8217;ll come back to this in a minute).</p>
</div>
<div class="paragraph">
<p>The third function you can pass allows you to handle the completion:
that&#8217;s because an observable can finish (your Youtube video is over for example).
And sometimes you want to do something if the observable is over,
like warning your user, or computing a value&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>In our Ponyracer app, a race is represented by an observable,
emitting the positions of the ponies.
When the race is over, the observable stops emitting events.
Then we want to compute which pony won the race,
change the UI to reflect that, etc.</p>
</div>
<div class="paragraph">
<p>But maybe the user won&#8217;t stay around until the end of the race.
What happens then? The component will be destroyed.
But, if we subscribed to an observable in that component before the destruction,
then the <code>next</code> function will continue to do its job every time an event occurs.
Even if the component is no longer displayed!
That can lead to memory leaks and all sorts of trouble&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>So the best practice is to store the subscription returned by the <code>subscribe</code> function,
and on the destruction of the component, call <code>unsubscribe</code> on this subscription
(typically in the <code>ngOnDestroy</code> method).
Wrap the unsubscribe in a check to test if the subscription is present
(maybe the subscription is not initialize yet,
and then you&#8217;ll have an error because the object will be undefined when you&#8217;ll call <code>unsubscribe</code>).</p>
</div>
<div class="paragraph">
<p>This general rule has a few exceptions.
You don&#8217;t necessarily need to do this for observables that will only emit an event then complete,
like an HTTP request.
And you definitely don&#8217;t need to do this if you subscribe to one of the router observables,
like the <code>params</code> observable:
the router will clean up for you, yay!</p>
</div>
<div class="paragraph">
<p>Last, but not least, the <code>async</code> pipe.
Angular provides a special pipe, called <code>async</code>.
You can use it in your templates to directly subscribe to an observable.</p>
</div>
<div class="paragraph">
<p>It has a few advantages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>you can directly store the observable in your component
and don&#8217;t have to subscribe manually,
then store the value emitted in a component&#8217;s field;</p>
</li>
<li>
<p>the <code>async</code> pipe will handle the unsubscription for you on the component&#8217;s destruction;</p>
</li>
<li>
<p>it can be used to do some performance magic (more on that later).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It also have a downside:
you have to be careful when using this syntax multiple times in a template.</p>
</div>
<div class="paragraph">
<p>Let me illustrate the last point, in a <code>RaceComponent</code>,
displaying the race properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-race',
  template: `
    &lt;div&gt;
      &lt;h2&gt;{{ (race | async)?.name }}&lt;/h2&gt;
      &lt;small&gt;{{ (race | async)?.date }}&lt;/small&gt;
    &lt;/div&gt;
  `
})
export class RaceComponent implements OnInit {
  race!: Observable&lt;RaceModel&gt;;

  constructor(private raceService: RaceService) {}

  ngOnInit(): void {
    this.race = this.raceService.get();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This code sample assumes that the method <code>raceService.get()</code>
returns an Observable emitting a <code>RaceModel</code>.
We store this observable in a field named <code>race</code>
(you&#8217;ll sometimes see the name <code>race$</code> in blog posts,
because other frameworks use that naming convention
for variables of type Observable).
Then we use the <code>race</code> observable in the template with the <code>async</code> pipe twice:
once to display the name and once to display the date.
The component&#8217;s code is quite elegant:
you don&#8217;t have to manually subscribe to the observable.</p>
</div>
<div class="paragraph">
<p>But maybe you can spot the problem.
We call the <code>async</code> pipe twice,
which means that we subscribe twice to the observable.
If the <code>raceService.get()</code> method performs an HTTP request
to fetch the race details,
this request will be performed twice!</p>
</div>
<div class="paragraph">
<p>A first solution would be to modify the observable
to share it between the different subscribers.
This can be achieved with the <code>shareReplay</code> operator for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component, OnInit } from '@angular/core';
import { Observable, shareReplay } from 'rxjs';
import { RaceService, RaceModel } from './race.service';

@Component({
  selector: 'ns-race',
  template: `
    &lt;div&gt;
      &lt;h2&gt;{{ (race | async)?.name }}&lt;/h2&gt;
      &lt;small&gt;{{ (race | async)?.date }}&lt;/small&gt;
    &lt;/div&gt;
  `
})
export class RaceComponent implements OnInit {
  race!: Observable&lt;RaceModel&gt;;

  constructor(private raceService: RaceService) {}

  ngOnInit(): void {
    this.race = this.raceService.get().pipe(
      // will share the subscription between the subscribers
      shareReplay()
    );
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>But, even if that&#8217;s now correct and does not produce two different HTTP requests,
I still don&#8217;t really like the template.
Quite often,
the component needs to access the race anyway for some presentation logic,
and not only the template.
And it has to handle errors, too.
A subscription, or a <code>tap()</code> and/or <code>catchError()</code> operator in the component is often necessary anyway.
So storing the race in a field is not a big burden, and makes the template code simpler.</p>
</div>
<div class="paragraph">
<p>Note that the 4.0 release introduced an <code>as</code> syntax
that can solve the problem by subscribing only once
and storing the result in a variable of the template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component, OnInit } from '@angular/core';
import { Observable } from 'rxjs';
import { RaceService, RaceModel } from './race.service';

@Component({
  selector: 'ns-race',
  template: `
    &lt;div *ngIf="race | async as raceModel"&gt;
      &lt;h2&gt;{{ raceModel.name }}&lt;/h2&gt;
      &lt;small&gt;{{ raceModel.date }}&lt;/small&gt;
    &lt;/div&gt;
  `
})
export class RaceComponent implements OnInit {
  race!: Observable&lt;RaceModel&gt;;

  constructor(private raceService: RaceService) {}

  ngOnInit(): void {
    this.race = this.raceService.get();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is quite elegant.</p>
</div>
<div class="paragraph">
<p>Another possible solution is to split our component in two:
a smart one (responsible for the race fetching)
and a dumb one (that just displays the race received in an input).</p>
</div>
<div class="paragraph">
<p>That would look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-racecontainer',
  template: `
    &lt;div&gt;
      &lt;div *ngIf="error"&gt;An error occurred while fetching the race&lt;/div&gt;
      &lt;ns-race *ngIf="race | async as r" [raceModel]="r"&gt;&lt;/ns-race&gt;
    &lt;/div&gt;
  `
})
export class RaceContainerComponent implements OnInit {
  race!: Observable&lt;RaceModel&gt;;
  error = false;

  constructor(private raceService: RaceService) {}

  ngOnInit(): void {
    this.race = this.raceService.get().pipe(
      // the `catchError` operator allows to handle a potential error
      // it must return an observable (here an empty one).
      catchError(error =&gt; {
        this.error = true;
        console.error(error);
        return EMPTY;
      })
    );
  }
}

@Component({
  selector: 'ns-race',
  template: `
    &lt;div&gt;
      &lt;h2&gt;{{ raceModel.name }}&lt;/h2&gt;
      &lt;small&gt;{{ raceModel.date }}&lt;/small&gt;
    &lt;/div&gt;
  `
})
export class RaceComponent {
  @Input() raceModel!: RaceModel;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This pattern can be useful in some parts of your application,
but, like every pattern, you don&#8217;t have to use it everywhere.
It&#8217;s sometimes not a big deal to have only one component that does both.
Other times, you&#8217;ll want to extract a dumb component to reuse it in another part
of your application for example, so two components will make sense.</p>
</div>
</div>
<div class="sect2">
<h3 id="_leveraging_operators">22.2. Leveraging operators</h3>
<div class="paragraph">
<p>We saw a few operators up until now,
but I&#8217;d like to take a moment to describe a few others in a step by step example.
We are going to code a typeahead input.
A typeahead allows your users to enter a text in an input,
and then the application displays a few suggestions based on this text
(like a Google search box).</p>
</div>
<div class="paragraph">
<p>A good typeahead has quite a few features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>it displays the results matching the request (obviously)</p>
</li>
<li>
<p>it allows you to only display results if the input text is at least a few characters long</p>
</li>
<li>
<p>it won&#8217;t fetch the results for every keystroke from our user,
but will wait for some time to make sure the user is done typing</p>
</li>
<li>
<p>it won&#8217;t trigger the same request twice if the user enters the same value</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All this can be done by hand, but it&#8217;s far from being trivial.
But we&#8217;re in luck - Angular and RxJS combine nicely to solve this kind of problem!</p>
</div>
<div class="paragraph">
<p>First let&#8217;s see what a component like this would look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component, OnInit } from '@angular/core';
import { FormControl } from '@angular/forms';
import { PonyService, PonyModel } from './pony.service';

@Component({
  selector: 'ns-typeahead',
  template: `
    &lt;div&gt;
      &lt;input [formControl]="input" /&gt;
      &lt;ul&gt;
        &lt;li *ngFor="let pony of ponies"&gt;{{ pony.name }}&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  `
})
export class PonyTypeAheadComponent implements OnInit {
  input = new FormControl();
  ponies: Array&lt;PonyModel&gt; = [];

  constructor(private ponyService: PonyService) {}

  ngOnInit(): void {
    // todo: do something with the input
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the <code>ngOnInit</code> method,
we can start by subscribing to the <code>valueChanges</code> observable exposed by the <code>FormControl</code>
(check the chapter on forms if you need to refresh your memory).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">this.input.valueChanges.subscribe(value =&gt; console.log(value));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next we want to use this value to fetch the ponies matching the given input.
Our <code>PonyService</code> has a method <code>search</code> that does exactly that!
We can suppose that this method does a HTTP request behind the scenes
to fetch the results from the server,
so it returns an <code>Observable&lt;Array&lt;PonyModel&gt;&gt;</code>, an observable that emits arrays of ponies.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s subscribe to this method to update the <code>ponies</code> field of our component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">this.input.valueChanges.subscribe(value =&gt; {
  this.ponyService.search(value).subscribe(results =&gt; (this.ponies = results));
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>OK, that works.
But when I see something like this,
it reminds me of Promises and nested <code>then</code> calls,
which can be flattened.
And indeed you can do the same with Observables,
with the <code>concatMap</code> operator for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">this.input.valueChanges
  .pipe(concatMap(value =&gt; this.ponyService.search(value)))
  .subscribe(results =&gt; (this.ponies = results));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Wow, much more elegant!
<code>concatMap</code> "flattens" our code.
It replaces every event emitted by the source observable
(i.e. the entered pony name) by the events emitted by the observable of ponies.
But it&#8217;s not the perfect operator for this situation.
As our <code>search</code> method performs a HTTP request per search,
we can run into some trouble if a request is too slow.
Our user might query <code>n</code> then <code>ni</code>,
but the result might come back really slowly for <code>n</code>,
and fast for <code>ni</code>.
That means our code above will display the second results only after the first displayed,
even if we don&#8217;t care about the first ones anymore!
This could be tracked by hand,
but that would be really cumbersome.</p>
</div>
<div class="paragraph">
<p>RxJS provides a super useful operator for this use-case: <code>switchMap</code>.
Unlike <code>concatMap</code>, <code>switchMap</code> will only care about the last value emitted,
and will discard the earlier values,
so we&#8217;re sure that the results corresponding to an old input won&#8217;t be displayed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">this.input.valueChanges
  .pipe(switchMap(value =&gt; this.ponyService.search(value)))
  .subscribe(results =&gt; (this.ponies = results));</code></pre>
</div>
</div>
<div class="paragraph">
<p>OK, now let&#8217;s discard the queries that are less than three characters.
Easy: we just have to use a <code>filter</code> operator!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">this.input.valueChanges
  .pipe(
    filter(query =&gt; query.length &gt;= 3),
    switchMap(value =&gt; this.ponyService.search(value))
  )
  .subscribe(results =&gt; (this.ponies = results));</code></pre>
</div>
</div>
<div class="paragraph">
<p>We also don&#8217;t want to search immediately after a keystroke:
we&#8217;d like to search only after the user stops typing for 400ms for example.
Yep, you guessed it: there&#8217;s an operator for that,
and it&#8217;s called <code>debounceTime</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">this.input.valueChanges
  .pipe(
    filter(query =&gt; query.length &gt;= 3),
    debounceTime(400),
    switchMap(value =&gt; this.ponyService.search(value))
  )
  .subscribe(results =&gt; (this.ponies = results));</code></pre>
</div>
</div>
<div class="paragraph">
<p>So now a user can enter a value, delete some character, add others
and the query will only fire when 400ms have passed since the last keystroke.
But what if the user enters "Rainbow",
waits for 400ms (which will thus send a request),
then enters "Rainbow Dash" and immediately removed the "Dash" to get back to "Rainbow"?
That would send two subsequent requests for "Rainbow"!
Maybe we can only trigger a request if the query is different than the last one?
Of course we can, with <code>distinctUntilChanged</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">this.input.valueChanges
  .pipe(
    filter(query =&gt; query.length &gt;= 3),
    debounceTime(400),
    distinctUntilChanged(),
    switchMap(value =&gt; this.ponyService.search(value))
  )
  .subscribe(results =&gt; (this.ponies = results));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Last thing: we need to properly handle the errors.
We know that the <code>valueChanges</code> will not emit any error,
but our <code>ponyService.search()</code> observable might throw as it is dependent on the network.
And the problem with observables is that an error will completely break the stream:
so if one request blows, the whole typeahead will be down&#8230;&#8203;
We don&#8217;t want that, so let&#8217;s catch potential errors:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">this.input.valueChanges
  .pipe(
    filter(query =&gt; query.length &gt;= 3),
    debounceTime(400),
    distinctUntilChanged(),
    switchMap(value =&gt; this.ponyService.search(value).pipe(catchError(error =&gt; of([]))))
  )
  .subscribe(results =&gt; (this.ponies = results));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Quite nice, don&#8217;t you think?
We now only trigger a search when the user enters a text with more than 3 characters
and waits at least 400ms.
We guarantee that we don&#8217;t trigger the same request twice,
and that the results are always in sync with the request!
All that in 5 lines of code.
Good luck doing the same by hand without adding any issue&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>This is of course a really good use-case for RxJS,
but the point is that it provides a lot of operators,
with some gems hidden in it.
It takes time to understand it,
but it&#8217;s worth the trouble as it can be tremendously useful in your application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_building_your_own_observable">22.3. Building your own Observable</h3>
<div class="paragraph">
<p>Sometimes, sadly, you need to use libraries that produce events but not using an Observable.
All hope is not lost,
because you can of course create your own Observables,
using, <code>new Observable(observer &#8658; {})</code>.</p>
</div>
<div class="paragraph">
<p>The method passed as a parameter to the constructor is called the <code>subscribe</code> function:
it will be responsible for emitting events and errors, and for completing when done.</p>
</div>
<div class="paragraph">
<p>For example, if you want to create an Observable which emits 1, then 2, then completes, you could do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const numbers = new Observable(observer =&gt; {
  observer.next(1);
  observer.next(2);
  observer.complete();
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we could subscribe to such an observable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">numbers.subscribe({
  next: number =&gt; console.log(number),
  error: error =&gt; console.log(error),
  complete: () =&gt; console.log('Complete!')
});
// Will log:
// 1
// 2
// Complete!</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, let&#8217;s say I want to emit 'hello' every 2 seconds, and never complete.
We could easily do this with some built-in operators,
but we can try by hand, as a small example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Observable } from 'rxjs';

export class HelloService {
  get(): Observable&lt;string&gt; {
    return new Observable(observer =&gt; {
      const interval = setInterval(() =&gt; observer.next('hello'), 2000);
    });
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The function passed to <code>new Observable()</code>
can also return a function that will be called on the unsubscription.
That&#8217;s really useful if you have some cleanup to do.
Like us with our <code>HelloService</code>,
because we&#8217;ll need to stop the <code>setInterval</code> when the observable will be unsubscribed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Observable } from 'rxjs';

export class HelloService {
  get(): Observable&lt;string&gt; {
    return new Observable(observer =&gt; {
      const interval = setInterval(() =&gt; observer.next('hello'), 2000);
      return () =&gt; clearInterval(interval);
    });
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The interval will not be created until the subscription,
so we just created a cold observable.</p>
</div>
</div>
<div class="sect2">
<h3 id="_managing_state_with_stores_ngrx_ngxs_akita_and_friends">22.4. Managing state with stores (NgRx, NGXS, Akita and friends)</h3>
<div class="paragraph">
<p>The Angular ecosystem has many state management libraries, usually called <em>stores</em>:
<a href="https://ngrx.io/">NgRx</a>, NgRx component store,
<a href="https://www.ngxs.io/">NGXS</a>, <a href="https://ngneat.github.io/elf/">Elf</a>, and probably others.</p>
</div>
<div class="paragraph">
<p>During our trainings, we often get the questions: "should we use one?" or "which one is the best?".
We can&#8217;t really answer that question. Every project has its own needs. Every developer team
has its own preferences and priorities.</p>
</div>
<div class="paragraph">
<p>We do have an opinion, though: they&#8217;re not a silver bullet, and they are not a solution to avoid
having to learn RxJS.
They&#8217;re based on RxJS, and you&#8217;d better know RxJS pretty well before using a store.</p>
</div>
<div class="paragraph">
<p>For <em>our</em> various projects, we&#8217;ve always thought that they were not worthy enough to
compensate for the additional complexity and boilerplate that they bring.
But your mileage may vary. Make some experiments and see by yourself.</p>
</div>
<div class="paragraph">
<p>Beware of this trap though: they look smart; you managing to use them makes you smart too; but that
doesn&#8217;t mean that they&#8217;re a good fit for your project and your team.
We also get a lot of feedbacks telling us that the lead developer chose
to use a store, and all the other developers on the team suffered from that choice.</p>
</div>
</div>
<div class="sect2">
<h3 id="_conclusion_2">22.5. Conclusion</h3>
<div class="paragraph">
<p>I hope you enjoyed this small chapter on observables.
They can also be used to sequence your HTTP requests,
or to communicate between components (more on this soon).
But you have now a good overview of what&#8217;s possible!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>We have several exercises that leverage RxJS and let you discover a lot of operators:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://angular-exercises.ninja-squad.com/exercises/17/display-user">Display the user</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span></p>
</li>
<li>
<p><a href="https://angular-exercises.ninja-squad.com/exercises/18/logged-home">Logged home</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span></p>
</li>
<li>
<p><a href="https://angular-exercises.ninja-squad.com/exercises/19/remember-me">Remember me</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span></p>
</li>
<li>
<p><a href="https://angular-exercises.ninja-squad.com/exercises/20/logout">Logout</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco0APWP0jRywpmrWwBGIJnuEBsAKERityoCDQrOzZOvjIm5KSJ0ktsBJhS0zOzAAYocikRCis7N0++IhaknFwEsERGCVCe5Vn+SE7GpK2yuk6+EtZIKdcCWBd0d/2GjZu8JABKFLmcaMjGOIjeHHZTGluA4eC91XtuU2oG6C+4GhOWHCXarvWOMTKGt0hjZ/hvgF3ec/cepfY6+SQVEQgqq7Xet5082H/g4MFDh4/g6LHj9RMnTwGnpeeMUlNAv8MxYSnSxtn5c+cvaHbxkmaXgTXSuKKuzgIuxuSaaJG/ru1uAJLdVOoW37S7MWG372iru9gifffUfWD43Lkxd2PCHtiTPMQj6dukrgIwf+7sdmdjwh5riyfmaNhTvpvL2nhGkXou2r3Q3YC10uC7eQm80uysszFhr3WnC8CaMAi39a52kSQmOrx5q9tdBmQzyIwfhJ1zNibsdkeSV9iyQpB30fa1OSb247mLRysE2eFyTDjJ+/aj2WkJwihaVcHsjf3wUak92z5J9rkjyLOz9bqeq58YczAm7I0OfVG+e59386Cpr3y+nZ65GRPxTQe+Kx9HMROvfviD1mnf+M9izaq5caQLw999qOpTsIZHJ1YW3MuMvt/9AUPLzCANymH0Tpg50TIz8/6ydTudmhNXv5Za1lY/14EnfU6/fbqdbCZpsCLFgBgP30sq4v8zk94qkT6xRz9V87TjDAgtN/Ef+NJ1qTw62wcPigwVRYVhqkL26rNCBw/ao2+Ju1J5dDgjo9xjjMaFZIIYipJzVgDeOrqn8cj9oieNx2F5r3uHeVwlmlCtqmFySkBueumlt3pEmbvSeDiS6ZlrDUIUiAqzpGO2KOJ4K7WHS3N989Ji4eoiEflCMk56LooY7j+W0sPLU4WhxTn+Nw8TYCLG475Ufao8GMGSClXEsqjJXSk9HJcOslLJMuxBqyKOnpseNSnPjVqPfqnRHxAmEAm4/6XEKo3tlf1CVays+KtUZm19jQAiET1Ja1TxeIz0bGxube9sbpiLcN5KtCht0uNV0rMbRe++934UfWAuwrk/wVjbJD3CU6Tlwyj66L333oui6MMU+5cT69GlAkTPx2WFT977JIqiXdLQn4kI27hPE+DTaJ9PtSmvxpUEQok2TI7iRT6jGksy7BuI4BfdS4SQpVF8Tgpd+F6h4SWxz1IKkWbpUThFkA8jxRdfkg4lUAyUkuQrc5EWR5KnGnygRL4mQFCpjl9WEorVcVORxg6WqIj1b8oa335HmFl/vHhFJvG+iG8q0sobBPP9d9//QAjNeBJoa2PaIAaAs3iCVs1EOnmDZCjiG4o0HuIJkp1IMTAUuZUdddmw1xrLZCbS5UhyecqOK+pOiETwzpV4jz1NGTEhPeDghqNdIV0mM2qR4kU8HeDCcEKX6mZ23A94kaqAhakinKTsCIpABBaGc+kUZcZyMpEWR0uYpwxAoxuMMg1eFiZ8TuHozxgLJpprnYMJM+gT8GgBDn9EiTJj+KAJ7FTAZMaHIBY55GAyPgZ9oRjXiBx2YjDv16en4x5yqCgEXhDAY2SIi+upon5Frg1eEIBHZpTYKoIp9qLMfM0LRJa1ORU6ZeJmNpn5IEN+/CmKfna0TFNyJj12EUAzm1/JfLB3f4nK/FpnlJwqORVcAvjsAwV9uv8WSX6qbwO7BadCgRArUuQrqiHyYyT5vR6RydBRuIQoqsJIQGn+kCJ/phY5pVZDEtaM1n5SgGb96+9//uAeHLb4udxkXpNgj3mJdlk/8yCzPOMip3Ke6oFXS7nJyVOqItOXvKSbbK8uChxoEOIaHO/V0CiI/VXiIjjRsEj3Yw4g3gOgu3rHwDTaWg9l5EGaZ9UYCtc0bpQTbkvz/4GN51Jy4u8SgI7mRr7vu5qbq7/xsW4yAL1ommgoGh1GWEIaAPDGm1gDrGWBTMEXLMihw/gpI/1siz/AwxqQjjoGOfSOB2gFGuyVSXEqvQinTa/RgiWqQ2g6AxFg0tYJDTS5XKhLBJt0yPSKpSl9u9b4oaz1DiX8D/PG9PeOWj+1+ZBajK7/QXCUeKfMRSA3trS0gM6IjxLXTCRjWD1DqyI8SvI2RXiUPGZThEeJd8qmCI8S16YIj5LQjohmwsvbFOFRUrIpwqPEsyrCo8S1KcKj5FULIvrbYrdNER4lJZsiPEo8OyKaKHFtivAouWRThEeJ021ThEdJzqYIj5KCHRFNlDxtU4RHySWbIo0Oo9uKiCZKcjZFeJQU7IhoouTphCL/Alq7hNcCRv2nAAAAAElFTkSuQmCC" alt="Pro" width="18"></span></p>
</li>
<li>
<p><a href="https://angular-exercises.ninja-squad.com/exercises/25/live">Live</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span></p>
</li>
<li>
<p><a href="https://angular-exercises.ninja-squad.com/exercises/27/advanced-observables">Observable tips and tricks</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span></p>
</li>
<li>
<p><a href="https://angular-exercises.ninja-squad.com/exercises/28/boost-pony">Boost a pony</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span></p>
</li>
<li>
<p><a href="https://angular-exercises.ninja-squad.com/exercises/29/reactive-score">Reactive user score</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="advanced-components">23. Advanced components and directives</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_view_queries">23.1. View queries</h3>
<div class="paragraph">
<p>In the Template chapter,
we talked about a nice feature called "local variables",
allowing you to get a reference to a DOM element in the template.
For example, you can give the focus to an input
with a button easily:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input #myInput /&gt;
&lt;button (click)="myInput.focus()"&gt;Focus&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We also saw this same feature in the Forms chapter for example,
when we wanted to grab a reference to a specific directive:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input name="login" [(ngModel)]="user.login" required #loginCtrl="ngModel" /&gt;
&lt;div *ngIf="loginCtrl.dirty &amp;&amp; loginCtrl.hasError('required')"&gt;The login field is required&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>What if we need to have these references in our component code,
and not only in the template?
That is where "view queries" enter the scene and can save the day!</p>
</div>
<div class="paragraph">
<p>For example, you may want to focus an input as soon as your component is displayed.
To do so, we need to grab a reference to the input,
using the <code>ViewChild</code> decorator.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-login',
  template: `&lt;input #loginInput name="login" [(ngModel)]="credentials.login" required /&gt;`
})
export class LoginComponent implements AfterViewInit {
  credentials = { login: '' };

  @ViewChild('loginInput') loginInput!: ElementRef&lt;HTMLInputElement&gt;;

  ngAfterViewInit(): void {
    this.loginInput.nativeElement.focus();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We declare a field called <code>loginInput</code>,
and we decorate it with <code>ViewChild</code>.
This decorator needs a selector as parameter:
here we use the local variable declared in our template.
The decorator indicates to the framework
that it needs to query the template to find an element
with this local variable name.
The field will be initialized with this element,
of type <code>ElementRef&lt;T&gt;</code>.
This type has only one field, <code>nativeElement</code> of type <code>T</code>,
which is a reference on the underlying DOM element.</p>
</div>
<div class="paragraph">
<p>The example also showcases a nice use of the lifecycle method <code>ngAfterViewInit</code>.
This method is called as soon as the view is created,
so you are sure that the element you are waiting for is indeed present.
If you try to do the same in <code>ngOnInit</code>,
it won&#8217;t work.
In fact it depended on the template of the component in earlier versions of Angular,
so the <code>static</code> flag was introduced in Angular&#160;8.0 to make the resolution timing explicit.
If you pass <code>static: true</code> as an option to the decorator,
the query is available in <code>ngOnInit</code>.
But it is mostly intended to be used without this option
and to interact with the query in <code>ngAfterViewInit</code>.
The <a href="https://v8.angular.io/guide/static-query-migration#is-there-a-case-where-i-should-use-static-true">official documentation</a>
explains the very rare cases where you might need <code>static: true</code>.
There is also another method called <code>ngAfterViewChecked</code>,
which is called every time the view is checked
(after each change detection).</p>
</div>
<div class="paragraph">
<p>If you wanted to have this feature in a lot of different components,
you could create a directive for this,
instead of duplicating the code in each component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[nsFocus]'
})
export class FocusDirective implements AfterViewInit {
  ngAfterViewInit(): void {
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This directive does nothing yet,
but it would be used like this in a template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input nsFocus /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The directive needs to access its host element to give it the focus.
That&#8217;s where <code>ElementRef</code> is interesting,
as it can be injected into our directive:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[nsFocus]'
})
export class FocusDirective implements AfterViewInit {
  constructor(private element: ElementRef&lt;HTMLElement&gt;) {}

  ngAfterViewInit(): void {
    this.element.nativeElement.focus();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And we&#8217;re done:
using this directive will give the focus to its host element!</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Accessing directly the <code>nativeElement</code> like in these examples
won&#8217;t work if you decide to run your application in another platform other than the browser,
like in Web Workers or on the server.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Let&#8217;s go back to our <code>ViewChild</code> decorator:
it can also accept a type as a selector.</p>
</div>
<div class="paragraph">
<p>For example, in the Forms chapter,
we saw that to submit a form in the template-driven way,
you can use two-way binding,
or you can grab a reference to the form
and pass its value to the submit method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;form (ngSubmit)="authenticate(form.value)" #form="ngForm"&gt;
  &lt;!-- ... --&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>But we can also use a <code>ViewChild</code> for this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-login',
  template: `
    &lt;form (ngSubmit)="authenticate()"&gt;
      &lt;!-- ... --&gt;
    &lt;/form&gt;
  `
})
export class LoginFormComponent {
  @ViewChild(NgForm) credentialsForm!: NgForm;

  authenticate(): void {
    console.log(this.credentialsForm.value);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The cool thing with <code>ViewChild</code> is that
it is a dynamic query:
it will always be up to date with the template.
If the element queried is destroyed,
the field will be <code>undefined</code>.</p>
</div>
<div class="paragraph">
<p>This decorator also has a twin called <code>ViewChildren</code>.
Unlike <code>ViewChild</code> which will get a reference to one field
matching the selector (the first if there are several ones),
<code>ViewChildren</code> will get a reference to all the fields.
It returns a <code>QueryList</code>, a type with a few useful attributes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>first</code> returns the first element matching the query</p>
</li>
<li>
<p><code>last</code> returns the last element matching the query</p>
</li>
<li>
<p><code>length</code> returns how many elements are matching the query</p>
</li>
<li>
<p><code>changes</code> returns an observable that will emit the new <code>QueryList</code> every time
an element matching the query is added, removed or moved.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let&#8217;s say we have a <code>RaceComponent</code> displaying a list of <code>PonyComponent</code> -
we can easily be notified every time a <code>PonyComponent</code> is added
or removed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-race',
  templateUrl: './race.component.html'
})
export class RaceComponent implements AfterViewInit {
  @Input() raceModel!: RaceModel;

  @ViewChildren(PonyComponent) ponies!: QueryList&lt;PonyComponent&gt;;

  ngAfterViewInit(): void {
    this.ponies.changes
      // this will log how many ponies are displayed in the component
      .subscribe(newList =&gt; console.log(newList.length));
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>QueryList</code> has also a lot of methods available like
<code>toArray()</code>, <code>map()</code>, <code>filter()</code>, <code>find()</code>&#8230;&#8203;</p>
</div>
</div>
<div class="sect2">
<h3 id="_content">23.2. Content</h3>
<div class="paragraph">
<p>Another common thing that we usually need as developers
is the ability to build UI components whose content will be dynamic.</p>
</div>
<div class="paragraph">
<p>For example, let&#8217;s say you want to build <a href="https://getbootstrap.com/docs/4.0/components/card/">a "card" component</a>
using the Bootstrap 4 CSS framework.
The template of such a card looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div class="card"&gt;
  &lt;div class="card-body"&gt;
    &lt;h4 class="card-title"&gt;Card title&lt;/h4&gt;
    &lt;p class="card-text"&gt;Some quick example text&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can of course duplicate this HTML
every time you need it in your application.
But at this point,
you are probably thinking about building a component.
Two parts are dynamic in the card (the title and the content),
so this is probably what you will come up with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">@Component({
  selector: 'ns-card',
  template: `
    &lt;div class="card"&gt;
      &lt;div class="card-body"&gt;
        &lt;h4 class="card-title"&gt;{{ title }}&lt;/h4&gt;
        &lt;p class="card-text"&gt;{{ text }}&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  `
})
export class CardComponent {
  @Input() title = '';
  @Input() text = '';
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And then use it like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-card title="Card title" text="Some quick example text"&gt;&lt;/ns-card&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This works perfectly.
But looking more closely to your need,
you realize that the content of the card can also be complex HTML,
and not just text, which is supported by Bootstrap!</p>
</div>
<div class="paragraph">
<p>Of course, Angular has your back,
and it&#8217;s easy to "pass" HTML to a child component,
thanks to <code>&lt;ng-content&gt;</code>.
That&#8217;s what we used to call "transclusion" in AngularJS 1.x.</p>
</div>
<div class="paragraph">
<p><code>ng-content</code> is a special tag you can use in your templates
to include HTML provided by the parent component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div class="card"&gt;
  &lt;div class="card-body"&gt;
    &lt;h4 class="card-title"&gt;{{ title }}&lt;/h4&gt;
    &lt;p class="card-text"&gt;
      &lt;ng-content&gt;&lt;/ng-content&gt;
    &lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And you can now use the component like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-card title="Card title"&gt; Some quick &lt;strong&gt;example&lt;/strong&gt; text &lt;/ns-card&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Later, you realize that the title can also be some complex HTML.
Of course,
there is a way to pass multiple contents to the card component,
using multiple <code>ng-content</code> with a selector.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div class="card"&gt;
  &lt;div class="card-body"&gt;
    &lt;h4 class="card-title"&gt;
      &lt;ng-content select=".title"&gt;&lt;/ng-content&gt;
    &lt;/h4&gt;
    &lt;p class="card-text"&gt;
      &lt;ng-content select=".content"&gt;&lt;/ng-content&gt;
    &lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>and use it like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-card&gt;
  &lt;p class="title"&gt;Card &lt;strong&gt;title&lt;/strong&gt;&lt;/p&gt;
  &lt;p class="content"&gt;Some quick &lt;strong&gt;example&lt;/strong&gt; text&lt;/p&gt;
&lt;/ns-card&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will produce the following result:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div class="card"&gt;
  &lt;div class="card-body"&gt;
    &lt;h4 class="card-title"&gt;
      &lt;p class="title"&gt;Card &lt;strong&gt;title&lt;/strong&gt;&lt;/p&gt;
    &lt;/h4&gt;
    &lt;p class="card-text"&gt;
      &lt;p class="content"&gt;Some quick &lt;strong&gt;example&lt;/strong&gt; text&lt;/p&gt;
    &lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_content_queries">23.3. Content queries</h3>
<div class="paragraph">
<p>When you are using these <code>ng-content</code> tags,
the projected content will not be queried by <code>ViewChild</code> or <code>ViewChildren</code>.
For these contents, you have to use two other decorators:
<code>ContentChild</code> and <code>ContentChildren</code>.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say you are building another UI component based on Bootstrap 4,
this time <a href="https://getbootstrap.com/docs/4.0/components/navs/#tabs">a "tabs" component</a>.
The HTML must look like this according to the docs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul class="nav nav-tabs"&gt;
  &lt;li class="nav-item"&gt;
    &lt;a class="nav-link"&gt;Races&lt;/a&gt;
  &lt;/li&gt;
  &lt;li class="nav-item"&gt;
    &lt;a class="nav-link"&gt;About&lt;/a&gt;
  &lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>But we would like to offer a nice component to our team,
something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-tabs&gt;
  &lt;ns-tab title="Races"&gt;&lt;/ns-tab&gt;
  &lt;ns-tab title="About"&gt;&lt;/ns-tab&gt;
&lt;/ns-tabs&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We need an outer Tabs component,
which must find out how many <code>ns-tab</code> directives are embedded inside the component template,
iterate through each of them and generate the appropriate markup.</p>
</div>
<div class="paragraph">
<p>To do so, let&#8217;s start by creating a directive <code>TabDirective</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: 'ns-tab'
})
export class TabDirective {
  @Input() title = '';
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The directive doesn&#8217;t do much:
it only has an input to get the tab title.
Note that we are using an element as the selector, <code>ns-tab</code>.</p>
</div>
<div class="paragraph">
<p>Now we need to build the <code>TabsComponent</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">@Component({
  selector: 'ns-tabs',
  template: `
    &lt;ul class="nav nav-tabs"&gt;
      &lt;li class="nav-item" *ngFor="let tab of tabs"&gt;
        &lt;a class="nav-link"&gt;{{ tab.title }}&lt;/a&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  `
})
export class TabsComponent {
  @ContentChildren(TabDirective) tabs!: QueryList&lt;TabDirective&gt;;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see,
the template iterates through an array of tabs to generate an <code>li</code> element for each of them.
But where does this <code>tabs</code> array come from?
How can the component know about the two <code>ns-tab</code> directives embedded inside the ns-tabs component?
That&#8217;s what the <code>ContentChildren</code> directive allows you to do.</p>
</div>
<div class="paragraph">
<p>To grab the list of the tabs,
we need to use <code>ContentChildren</code>,
here with <code>TabDirective</code>.
This gives us an iterable list of tabs,
that you can use in an <code>NgFor</code>.
As each element of this list is a <code>TabDirective</code>,
we can then access the public property <code>title</code>,
and display the tab&#8217;s title!</p>
</div>
<div class="paragraph">
<p>Note that if, for whatever reason,
you had a template like this one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-tabs&gt;
  &lt;div&gt;
    &lt;ns-tab title="Races"&gt;&lt;/ns-tab&gt;
  &lt;/div&gt;
  &lt;ns-tabgroup&gt;
    &lt;ns-tab title="About"&gt;&lt;/ns-tab&gt;
  &lt;/ns-tabgroup&gt;
&lt;/ns-tabs&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then the <code>QueryList</code> in <code>TabComponent</code> will
only contain the first <code>TabDirective</code>.
<code>ContentChild</code> and <code>ContentChildren</code> are indeed only looking
for direct descendants,
and will stop at the <code>ns-tabgroup</code> component.</p>
</div>
<div class="paragraph">
<p>If we want our component to still work with this,
there is an option you can add to your decorator:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-tabs',
  template: `
    &lt;ul class="nav nav-tabs"&gt;
      &lt;li class="nav-item" *ngFor="let tab of tabs"&gt;
        &lt;a class="nav-link"&gt;{{ tab.title }}&lt;/a&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  `
})
export class TabsWithDescendantsComponent {
  @ContentChildren(TabDirective, { descendants: true })
  tabs!: QueryList&lt;TabDirective&gt;;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now it finds all the <code>TabDirective</code> again!</p>
</div>
<div class="paragraph">
<p>The <code>tabs</code> field is a <code>QueryList</code>,
so you can also subscribe to the changes,
like we saw for <code>ViewChildren</code>.
Once again,
the <code>QueryList</code> is not accessible in the component constructor or even in <code>ngOnInit</code>.
To be sure that the content can be queried
(i.e. that the <code>QueryList</code> is properly populated),
use the <code>ngAfterContentInit</code> lifecycle hook.
You can also use the <code>ngAfterContentChecked</code> hook,
which is called every time the content is checked.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Try our exercise
<a href="https://angular-exercises.ninja-squad.com/exercises/34/advanced-components">Advanced components</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>!
You&#8217;ll build a component with <code>ng-content</code>!</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_conditional_and_contextual_content_projection_ng_template_and_ngtemplateoutlet">23.4. Conditional and contextual content projection: <code>ng-template</code> and <code>ngTemplateOutlet</code></h3>
<div class="paragraph">
<p><code>ng-content</code> falls short if you want to insert some dynamic HTML content inside your template
conditionally, or in a loop, or if you want to provide some context to this dynamic content.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s illustrate such a case with a simple enough example. We would like to create a progress
bar component. This component accepts a min value, a max value, and a value, computes a percentage,
and displays it inside a progress bar.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s start with the skeleton of our component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export class ProgressComponent implements OnChanges {
  @Input() min = 0;
  @Input() max = 100;
  @Input() value = 0;
  percentage = 0;

  ngOnChanges(): void {
    this.percentage = (100 * (this.value - this.min)) / (this.max - this.min);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And its template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div class="progress"&gt;
  &lt;div
    class="progress-bar"
    role="progressbar"
    [style.width.%]="percentage"
    [attr.aria-valuenow]="value"
    [attr.aria-valuemin]="min"
    [attr.aria-valuemax]="max"
  &gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nothing new until now.</p>
</div>
<div class="paragraph">
<p>But we would also like to display the percentage value inside the component. And the user
of the component should also be able to customize the way the percentage is displayed.</p>
</div>
<div class="paragraph">
<p>So, inside the template, we want the following, where the formatter is something that the
user of the component can provide as input.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div class="progress"&gt;
  &lt;div
    class="progress-bar"
    role="progressbar"
    [style.width.%]="percentage"
    [attr.aria-valuenow]="value"
    [attr.aria-valuemin]="min"
    [attr.aria-valuemax]="max"
  &gt;
    &lt;span *ngIf="formatter; else noFormatter"&gt;
    &lt;/span&gt;
    &lt;ng-template #noFormatter&gt;{{ percentage | number }}%&lt;/ng-template&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This formatter is not a value. It&#8217;s not a function either,
because the user must be able to format the value using Angular-enriched HTML.</p>
</div>
<div class="paragraph">
<p>Such a piece of Angular-enriched HTML snippet that can be passed around and inserted anywhere is modelled
by Angular by an <code>&lt;ng-template&gt;</code>. Its TypeScript counterpart is an object of type <code>TemplateRef</code>.</p>
</div>
<div class="paragraph">
<p>In this case, the formatter&#8217;s responsibility is to display a percentage. So it needs
a rendering context containing this percentage. This rendering context is the generic type of the
<code>TemplateRef</code> that the component will accept as input.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface ProgressContext {
  percentage: number;
}

export class ProgressComponent implements OnChanges {
  // ...
  @Input() formatter?: TemplateRef&lt;ProgressContext&gt;;
  formatterContext: ProgressContext = { percentage: 0 };

  ngOnChanges(): void {
    this.percentage = (100 * (this.value - this.min)) / (this.max - this.min);
    this.formatterContext = { percentage: this.percentage };
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, how can we insert this <code>TemplateRef</code> inside the component&#8217;s template and give it its context?
That&#8217;s the role of the structural directive <code>*ngTemplateOutlet</code>. Here&#8217;s how we use it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;span *ngIf="formatter; else noFormatter"&gt;
  &lt;ng-container *ngTemplateOutlet="formatter; context: formatterContext"&gt;&lt;/ng-container&gt;
&lt;/span&gt;
&lt;ng-template #noFormatter&gt;{{ percentage | number }}%&lt;/ng-template&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, how can the user use this progress component and provide a formatter? Simply by defining
an element <code>&lt;ng-template&gt;</code>, assigning a variable to it, and pass this variable as the <code>formatter</code> input
to the progress component.</p>
</div>
<div class="paragraph">
<p>Inside the <code>&lt;ng-template&gt;</code>, we can of course access all the properties of the current component.
But we can also access the elements of the context, coming from the progress component, by using
this weird <code>let-p="percentage"</code> syntax. <code>p</code> is simply an alias to the context element named <code>percentage</code>
(we could choose any other alias name, like for example <code>let-progress="percentage"</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!-- without formatter --&gt;
&lt;ns-progress [value]="75"&gt;&lt;/ns-progress&gt;

&lt;!-- with formatter --&gt;
&lt;ng-template #myFormatter let-p="percentage"&gt;&lt;strong&gt;Your&lt;/strong&gt; progress: {{ p | number }}%&lt;/ng-template&gt;
&lt;ns-progress [value]="75" [formatter]="myFormatter"&gt;&lt;/ns-progress&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If, inside the context interface, we choose to name a property <code>$implicit</code> (instead of <code>percentage</code> here for example),
then we can simply use <code>let-p</code> instead of <code>let-p="percentage"</code> to access this property.</p>
</div>
<div class="paragraph">
<p>In fact, structural directives work like that.
All the directives that we use with a <code>*</code>, like <code>ngIf</code> or <code>ngFor</code>,
are instances of <code>&lt;ng-template&gt;</code>.
Angular defines a <em>micro-syntax</em> for structural directives,
which allows declaring a directive on a <code>&lt;ng-template&gt;</code> in a concise way.
Let&#8217;s take <code>ngFor</code> as an example.
When we write a simple <code>ngFor</code> as the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div *ngFor="let pony of ponies; i as index"&gt;
  {{ i }} - {{ pony }}
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then it is the same as writing the following template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ng-template ngFor [ngForOf]="ponies" let-pony let-i="index"&gt;
  &lt;div&gt;{{ i }} - {{ pony }}&lt;/div&gt;
&lt;/ng-template&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s less readable, of course.
That&#8217;s why we always use <code>*ngFor</code>.
But it shows that in fact,
Angular itself uses this pattern based on <code>ng-template</code>!
<code>ngFor</code> is nothing more than a directive applied on <code>ng-template</code>,
with an input <code>ngForOf</code> that expects a collection,
and a context containing an <code>$implicit</code> property with the current element,
and other properties like the index.</p>
</div>
<div class="paragraph">
<p>This pattern is quite powerful, and is of great help to design customizable components.</p>
</div>
</div>
<div class="sect2">
<h3 id="_host_listener">23.5. Host listener</h3>
<div class="paragraph">
<p>When writing a directive,
it can be fairly common to interact with the host element.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s take a simple example:
our customer wants to easily clear the content of some text inputs by double-clicking on them.
This is the kind of behavior that you can encapsulate in a custom directive,
let&#8217;s say <code>InputClearDirective</code>.
Its selector will be an attribute, let&#8217;s say <code>nsInputClear</code>.
When this attribute is added to an element,
we want to listen for a double-click on this host element.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This example is simple, but not very realistic.
More realistic (but also more complex) applications of this feature would be,
for example, to display a tooltip or a popover when an element is being hovered or clicked
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Let&#8217;s create the directive:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[nsInputClear]'
})
export class InputClearDirective {
  constructor(private element: ElementRef&lt;HTMLInputElement&gt;) {}

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And use our directive like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input nsInputClear /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We now need to react to a 'dblclick' event
on our host element (here, the <code>input</code>) to clear the value.</p>
</div>
<div class="paragraph">
<p>That&#8217;s where we can use the <code>HostListener</code> decorator!
This decorator can be added to a method of a directive,
to indicate to the framework that this method needs to be called
if the event given as parameter to the decorator is triggered on the host element.</p>
</div>
<div class="paragraph">
<p>In our case, we can write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[nsInputClear]'
})
export class InputClearDirective {
  constructor(private element: ElementRef&lt;HTMLInputElement&gt;) {}

  @HostListener('dblclick')
  clearContent(): void {
    this.element.nativeElement.value = '';
  }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, every time a 'dblclick' event is triggered on the host element,
the directive will clear the input value.</p>
</div>
<div class="paragraph">
<p>Note that it is also possible to listen to global events,
like <code>window:resize</code> for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[nsWindowResize]'
})
export class WindowResizeDirective {
  @HostListener('window:resize', ['$event'])
  resize(event: Event): void {
    const innerWidth = (event.target as Window).innerWidth;
    console.log(`The screen is being resized to ${innerWidth}`);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also note that you can access the event in the method,
by specifying <code>['$event']</code> as a second parameter of the decorator.</p>
</div>
</div>
<div class="sect2">
<h3 id="_host_binding">23.6. Host binding</h3>
<div class="paragraph">
<p>Another decorator available to create advanced directives and components is <code>HostBinding</code>.
Whereas <code>HostListener</code> allows you to interact with the events on the host element,
<code>HostBinding</code> allows you to interact with the properties of the host element.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say we want to add a specific CSS class (<code>is-required</code>) to an input
if this input has a specific validation error (<code>required</code>).
Maybe this class adds a nice border around the input,
or a small asterisk - that&#8217;s not really important.
This will not validate the field in any way -
it will simply grab the result of the built-in Angular form validation,
and use this result to style the input.</p>
</div>
<div class="paragraph">
<p>This is, again, a task that perfectly fits a directive:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[nsAddClassIfRequired]'
})
export class AddClassIfRequiredDirective {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We will use it in a code-driven Angular form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;input formControlName="firstName" nsAddClassIfRequired /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or in a template driven one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;input [(ngModel)]="user.name" required nsAddClassIfRequired&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We then need to grab a reference to the status of the input in our directive.
Angular does automatically validate the fields,
and will add the <code>required</code> error if the field is required and not filled.
That&#8217;s where the powerful dependency injection system can help us!
You can indeed ask Angular to inject into a directive another directive applied to the same host,
or to one of its ancestors.</p>
</div>
<div class="paragraph">
<p>As we want our directive to work with <code>FormControlName</code> or <code>NgModel</code>,
we could ask Angular to inject these two.
But it would break as only one of the two will be available
(as you generally either use one or the other on a given input),
and Angular breaks if a dependency can&#8217;t be provided.
There is a trick that allows Angular to continue even if a dependency can&#8217;t be provided:
the <code>Optional</code> decorator.</p>
</div>
<div class="paragraph">
<p>So something like this could work:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">constructor(
  @Optional() private formControl: FormControlName,
  @Optional() private ngModel: NgModel
) {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>But that&#8217;s not the best we can do.
Indeed, both directives inherit the same base class: <code>NgControl</code>.
So instead of injecting one or the other,
we can simply ask Angular to provide us with the common <code>NgControl</code>!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[nsAddClassIfRequired]'
})
export class AddClassIfRequiredDirective {
  constructor(private control: NgControl) {}

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now that we have a reference to the <code>NgControl</code>,
it&#8217;s easy to know if the field has the <code>required</code> error,
by using its <code>hasError()</code> method.
The last step requires us to add the class <code>is-required</code> to our host element
if that&#8217;s the case.
That&#8217;s where the <code>HostBinding</code> decorator enters the scene!
This decorator allows you to bind a property of the host element to a field of our directive.
So it is generally used like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@HostBinding('value') innerValue;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And that would automatically update the host&#8217;s value,
every time the <code>innerValue</code> property of the directive changed.</p>
</div>
<div class="paragraph">
<p>In our case, we don&#8217;t have a field to bind to.
But we can define a getter that returns true or false,
depending on the field&#8217;s error,
and decorate this getter with <code>HostBinding</code>
to automatically add or remove the class <code>is-required</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Directive({
  selector: '[nsAddClassIfRequired]'
})
export class AddClassIfRequiredDirective {
  constructor(private control: NgControl) {}

  @HostBinding('class.is-required')
  get isRequired(): boolean {
    return this.control.hasError('required');
  }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>These few lines of code are really powerful:
every time the directive is used in a form,
Angular will automatically add or remove our custom class
depending on the new value entered by the user!</p>
</div>
<div class="paragraph">
<p>It can be used to bind other kinds of properties,
not just CSS classes.
For example,
some component libraries use it to add accessibility attributes
(<code>aria.xxx</code>) to a host element.</p>
</div>
<div class="paragraph">
<p>Note that the directive we built has a custom selector,
but if you decide that you want to apply these directives to every input,
you can change their selector to <code>input</code>,
and they will automatically be applied on every input of your application.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Try our exercise
<a href="https://angular-exercises.ninja-squad.com/exercises/35/advanced-directives">Advanced directives</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>!
You&#8217;ll build several directives that interact with each other and with <code>ContentChild</code> and <code>HostBinding</code>!
Then you&#8217;ll learn how libraries like <a href="https://ng-bootstrap.github.io/">ng-bootstrap</a> use these pattern in the exercise
<a href="https://angular-exercises.ninja-squad.com/exercises/36/ng-bootstrap">Integrate with a UI library</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
and how to add charts to your application in the exercise
<a href="https://angular-exercises.ninja-squad.com/exercises/37/chart">Charts in your app</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="standalone-components">24. Standalone components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Angular v14 introduced one major (experimental) feature,
after <a href="https://github.com/angular/angular/discussions/45554">months of discussion</a>:
the possibility to declare standalone components/pipes/directives,
and to get rid of <code>NgModule</code> in your application if you want to .</p>
</div>
<div class="paragraph">
<p>In this chapter, we&#8217;ll see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>how to declare standalone entities;</p>
</li>
<li>
<p>how to use them in existing applications;</p>
</li>
<li>
<p>how to get rid of <code>NgModule</code> if you want to;</p>
</li>
<li>
<p>how the router has changed to leverage this new feature;</p>
</li>
<li>
<p>and more nerdy details!</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_all_by_myself">24.1. All by myself</h3>
<div class="paragraph">
<p>Components, directives, and pipes can now be declared as <code>standalone</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-image',
  standalone: true,
  templateUrl: './image.component.html'
})
export class ImageComponent {</code></pre>
</div>
</div>
<div class="paragraph">
<p>When that&#8217;s the case,
the component/directive/pipe can&#8217;t be declared in an <code>NgModule</code>.
But it can be directly imported into another standalone component.
For example, if my <code>ImageComponent</code> above is used in the template of a standalone <code>UserComponent</code>,
you have to import <code>ImageComponent</code> in <code>UserComponent</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-user',
  standalone: true,
  imports: [ImageComponent],
  templateUrl: './user.component.html'
  // uses `&lt;ns-image&gt;`
})
export class UserComponent {</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is true for every component/directive/pipe you use in a standalone component.
So if the template of <code>UserComponent</code> also uses a standalone <code>FromNowPipe</code>
and a standalone <code>BorderDirective</code>, then they have to be declared into the imports of the component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-user',
  standalone: true,
  imports: [ImageComponent, FromNowPipe, BorderDirective],
  templateUrl: './user.component.html'
  // uses `&lt;ns-image&gt;`, `fromNow` and `nsBorder`
})
export class UserComponent {</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is also true for components, directives, and pipes offered by Angular itself.
If you want to use <code>ngIf</code> in a template, the directive has to be declared.
<code>NgIf</code> now exists as a standalone directive, and it is also offered via the <code>CommonModule</code>.
So <code>imports</code> lets you import any <code>NgModule</code> you want as well:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-user',
  standalone: true,
  imports: [CommonModule, RouterModule, ImageComponent, FromNowPipe, BorderDirective],
  templateUrl: './user.component.html'
  // uses `*ngIf`, `routerLink`, `&lt;ns-image&gt;`, `fromNow` and `nsBorder`
})
export class UserComponent {</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or you can import the directive directly.
For example for <code>*ngFor</code>, the corresponding directive is <code>NgFor</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-user',
  standalone: true,
  imports: [NgFor, ImageComponent, FromNowPipe, BorderDirective],
  templateUrl: './user.component.html'
  // uses `*ngFor`, `&lt;ns-image&gt;`, `fromNow` and `nsBorder`
})
export class UserComponent {</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can of course import your own existing modules or modules offered by third-party libraries.
If you use the <code>DragDropModule</code> from Angular Material for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-user',
  standalone: true,
  imports: [CommonModule, RouterModule, DragDropModule, ImageComponent],
  templateUrl: './user.component.html'
  // uses `*ngIf`, `routerLink`, `cdkDrag`, `&lt;ns-image&gt;`
})
export class UserComponent {</code></pre>
</div>
</div>
<div class="paragraph">
<p>A standalone component can also define <code>schemas</code>
if you want to ignore some custom elements in its template
with <code>CUSTOM_ELEMENTS_SCHEMA</code> or even ignore all errors with <code>NO_ERRORS_SCHEMA</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_usage_in_existing_applications">24.2. Usage in existing applications</h3>
<div class="paragraph">
<p>This is all great, but how can we use our new standalone <code>UserComponent</code>
in an existing application that has no standalone components?</p>
</div>
<div class="paragraph">
<p>Maybe you guessed it:
you can import a standalone component like <code>UserComponent</code>
in the <code>imports</code> of an <code>NgModule</code>!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule, HttpClientModule, UserComponent], // &lt;---
  bootstrap: [AppComponent]
})
export class AppModule {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is probably a sound strategy to start using
standalone components, pipes, and directives in existing applications.
Angular applications tend to have a <code>SharedModule</code> with commonly used
components, directives, and pipes.
You can take these and convert them to a standalone version.
It&#8217;s usually straightforward, as they have few dependencies.
And then, instead of importing the full <code>SharedModule</code> in
every <code>NgModule</code>, you can import just what you need!</p>
</div>
</div>
<div class="sect2">
<h3 id="_cli_support">24.3. CLI support</h3>
<div class="paragraph">
<p>The Angular CLI team added a new flag <code>--standalone</code> to <code>ng generate</code> in v14,
allowing to create standalone versions of components, pipes, and directives:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">ng g component --standalone user</code></pre>
</div>
</div>
<div class="paragraph">
<p>The component skeleton then has the <code>standalone: true</code> option,
and the <code>imports</code> are already populated with <code>CommonModule</code>
(that will be used in pretty much all components anyway):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-user',
  standalone: true,
  imports: [CommonModule],
  templateUrl: './user.component.html'
})
export class UserComponent {</code></pre>
</div>
</div>
<div class="paragraph">
<p>The generated test is also slightly different.
A standalone component is declared in the <code>imports</code> option
of <code>TestBed.configureTestingModule()</code> instead of the <code>declarations</code> option.</p>
</div>
<div class="paragraph">
<p>If you want to generate all components with the <code>--standalone</code> flag,
you can set the option directly in <code>angular.json</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">"schematics": {
  "@schematics/angular:component": {
    "standalone": true
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can of course do the same for the <code>directive</code> and <code>pipe</code> schematics.</p>
</div>
</div>
<div class="sect2">
<h3 id="_application_bootstrap">24.4. Application bootstrap</h3>
<div class="paragraph">
<p>If you want to, you can go one step further and write an application
with only standalone entities, and get rid of all <code>NgModule</code>.
In that case, we need to figure out a few details.</p>
</div>
<div class="paragraph">
<p>First, if we don&#8217;t have an Angular module, how can we start the application?
A typical <code>main.ts</code> contains a call to <code>platformBrowserDynamic().bootstrapModule(AppModule)</code> which bootstraps the main Angular module of the application.</p>
</div>
<div class="paragraph">
<p>In a standalone world, we don&#8217;t want to use <code>NgModule</code>,
so we don&#8217;t have an <code>AppModule</code>.</p>
</div>
<div class="paragraph">
<p>Angular now offers a new function called <code>bootstrapApplication()</code> in <code>@angular/platform-browser</code>.
The function expects the root standalone component as a parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">bootstrapApplication(AppComponent);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This creates an application and starts it.</p>
</div>
</div>
<div class="sect2">
<h3 id="_optional_ngmodules">24.5. Optional NgModules</h3>
<div class="paragraph">
<p><code>NgModule</code> is a weird concept in Angular if you think about it.
They fulfill several roles at once.
We use them to declare what is usable in the templates of the components,
but also to configure the available providers.
We can export entities, to make them available in other modules.
Modules are eagerly executed,
which means you can add code in their constructors if you want to run something on their initialization.
They are also necessary if you want to lazy-load parts of your application.</p>
</div>
<div class="paragraph">
<p>If modules are now optional, how can we do all these tasks?</p>
</div>
</div>
<div class="sect2">
<h3 id="_providers">24.6. Providers</h3>
<div class="paragraph">
<p><code>NgModule</code> allows defining providers available for components in the module.
For example, if you want to use <code>HttpClient</code>,
you add <code>HttpClientModule</code> to the <code>imports</code> of your main module.</p>
</div>
<div class="paragraph">
<p>In an application with no module, you can achieve the same by
using the second parameters of <code>bootstrapApplication()</code>,
which allows declaring <code>providers</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">bootstrapApplication(AppComponent, { providers: [] });</code></pre>
</div>
</div>
<div class="paragraph">
<p>To bridge the gap with modules that expose providers,
we can use <code>importProvidersFrom(module)</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">bootstrapApplication(AppComponent, {
  providers: [importProvidersFrom(SomeModuleWithProviders)]
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the <code>BrowserModule</code> providers are automatically included
when starting an application with <code>bootstrapApplication()</code>.</p>
</div>
<div class="paragraph">
<p>You don&#8217;t need  <code>importProvidersFrom</code> to configure the router or add the HTTP client though,
as we explain below.</p>
</div>
<div class="paragraph">
<p>It&#8217;s also worth noting that you <em>can&#8217;t</em> use <code>importProvidersFrom</code>
in component providers: it&#8217;s only usable in <code>bootstrapApplication()</code>.
<code>bootstrapApplication()</code> is now responsible for the Dependency Injection work,
and that&#8217;s where providers must be declared.</p>
</div>
</div>
<div class="sect2">
<h3 id="_http_with_providehttpclient">24.7. HTTP with <code>provideHttpClient</code></h3>
<div class="paragraph">
<p>For a long time, the <code>HttpClient</code> was provided by the <code>HttpClientModule</code> that you imported into your application module.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { HttpClientModule } from '@angular/common/http';

@NgModule({
  imports: [BrowserModule, HttpClientModule],
  declarations: [AppComponent],
  bootstrap: [AppComponent]
})
export class AppModule {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since v15, Angular offers <code>provideHttpClient()</code>,
a new function that does the same thing as <code>importProvidersFrom(HttpClientModule)</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">bootstrapApplication(AppComponent, {
  providers: [provideHttpClient()]
});</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>HttpClient</code> is then available for injection in your application.</p>
</div>
<div class="paragraph">
<p><code>provideHttpClient()</code> is more "tree-shakable" than importing <code>HttpClientModule</code>,
as you can enable the features you want by giving it some parameters.</p>
</div>
<div class="paragraph">
<p>For example, if you want JSONP support, you can write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">bootstrapApplication(AppComponent, {
  providers: [provideHttpClient(withJsonpSupport())]
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the same vein, Angular provides XSRF protection (cross-site request forgery) out-of-the-box, by adding a custom header containing a random token provided by the server in a cookie (which is a common technic to mitigate these attacks).</p>
</div>
<div class="paragraph">
<p>As you probably want to keep this security, it&#8217;s enabled by default in <code>provideHttpClient()</code>, but you can configure it with <code>withXsrfConfiguration()</code>
to specify a custom header name and cookie name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">bootstrapApplication(AppComponent, {
  providers: [
    provideHttpClient(
      withXsrfConfiguration({
        cookieName: 'TOKEN', // default is 'XSRF-TOKEN'
        headerName: 'X-TOKEN' // default is 'X-XSRF-TOKEN'
      })
    )
  ]
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>or you can disable it completely with <code>withNoXsrfProtection()</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">bootstrapApplication(AppComponent, {
  providers: [provideHttpClient(withNoXsrfProtection())]
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>There is another feature that you can enable,
but first I need to introduce the concept of functional interceptors.</p>
</div>
<div class="sect3">
<h4 id="_functional_interceptors">24.7.1. Functional interceptors</h4>
<div class="paragraph">
<p>In Angular, interceptors are classes that implement the <code>HttpInterceptor</code> interface.
They are used to intercept HTTP requests and responses and can be used to add headers, log requests, etc.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Injectable()
export class LoggerInterceptor implements HttpInterceptor {
  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {
    console.log(`Request is on its way to ${req.url}`);
    return next.handle(req);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since Angular&#160;v15, you can also use functional interceptors.
They are functions that take an <code>HttpRequest</code> and a <code>HttpHandlerFn</code> as parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export const loggerInterceptor: HttpInterceptorFn = (
  req: HttpRequest&lt;unknown&gt;,
  next: HttpHandlerFn
): Observable&lt;HttpEvent&lt;unknown&gt;&gt; =&gt; {
  console.log(`Request is on its way to ${req.url}`);
  return next(req);
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>As this is a function, you can&#8217;t use the usual dependency injection via constructor parameters to inject services in it.
But you can use the <code>inject()</code> function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export const loggerInterceptor: HttpInterceptorFn = (
  req: HttpRequest&lt;unknown&gt;,
  next: HttpHandlerFn
): Observable&lt;HttpEvent&lt;unknown&gt;&gt; =&gt; {
  const logger = inject(Logger);
  logger.log(`Request is on its way to ${req.url}`);
  return next(req);
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Functional interceptors have to be registered via <code>withInterceptors()</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">bootstrapApplication(AppComponent, {
  providers: [provideHttpClient(withInterceptors([loggerInterceptor]))]
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that you can also register class-based interceptors via <code>withInterceptorsFromDi()</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">bootstrapApplication(AppComponent, {
  providers: [
    { provide: HTTP_INTERCEPTORS, useClass: LoggerInterceptor, multi: true },
    provideHttpClient(withInterceptorsFromDi())
  ]
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>But this API may be phased out in the future,
so it&#8217;s better to use <code>withInterceptors()</code> and functional interceptors.</p>
</div>
</div>
<div class="sect3">
<h4 id="_testing_http">24.7.2. Testing HTTP</h4>
<div class="paragraph">
<p>When using <code>HttpClientModule</code> in your application,
you can import the <code>HttpClientTestingModule</code> in your tests to mock HTTP requests.</p>
</div>
<div class="paragraph">
<p>But if you use <code>provideHttpClient()</code> instead,
you can use <code>provideHttpClientTesting()</code> to mock HTTP requests in your tests (in addition to <code>provideHttpClient()</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">beforeEach(() =&gt; {
  TestBed.configureTestingModule({
    providers: [provideHttpClient(), provideHttpClientTesting()]
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can then inject <code>HttpController</code> to mock HTTP requests as you usually do.</p>
</div>
<div class="paragraph">
<p>The <code>provideHttpClient()</code> API is the way to go if you work with an Angular application and don&#8217;t want to use <code>NgModule</code>.
When migrating an existing application to the standalone APIs,
you will need to replace the usage of <code>HttpClientModule</code> with <code>provideHttpClient()</code> and the usage of <code>HttpClientTestingModule</code> with <code>provideHttpClientTesting()</code> in your tests.
You can also gradually migrate your class-based interceptors to functional interceptors.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_router_with_providerouter">24.8. Router with <code>provideRouter</code></h3>
<div class="paragraph">
<p>For the router, Angular offers a new function <code>provideRouter()</code> (since v14.2) that takes the routes as parameter.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">bootstrapApplication(AppComponent, {
  providers: [provideRouter(routes)]
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>The router offers a few functions that you can call and pass as a parameter to <code>providerRouter</code>.
For example, to enable the preloading strategy that fetches lazy-loading parts of the application
in the background, you can use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">bootstrapApplication(AppComponent, {
  providers: [provideRouter(routes, withPreloading(PreloadAllModules))]
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Other <code>with&#8230;&#8203;</code> functions are available to enable router features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>withDebugTracing</code></p>
</li>
<li>
<p><code>withDisabledInitialNavigation</code></p>
</li>
<li>
<p><code>withEnabledBlockingInitialNavigation</code></p>
</li>
<li>
<p><code>withInMemoryScrolling</code></p>
</li>
<li>
<p><code>withRouterConfig</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These changes allow tree-shaking parts of the router module that aren&#8217;t actually used,
thus reducing the main bundle size.</p>
</div>
</div>
<div class="sect2">
<h3 id="_lazy_loading_routes">24.9. Lazy loading routes</h3>
<div class="paragraph">
<p>The lazy-loading story in Angular has always revolved around <code>NgModule</code>.
Let&#8217;s say you wanted to lazy-load an <code>AdminComponent</code>.
You had to write an <code>NgModule</code> like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export const adminRoutes: Routes = [{ path: '', component: AdminComponent }];
@NgModule({
  imports: [CommonModule, RouterModule.forChild(adminRoutes)],
  declarations: [AdminComponent]
})
export class AdminModule {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>and then load the module with the router function <code>loadChildren</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{ path: 'admin', loadChildren: () =&gt; import('./admin/admin.module').then(m =&gt; m.AdminModule) }</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can now get rid of <code>AdminModule</code> if <code>AdminComponent</code> is standalone,
and directly lazy-load the component with <code>loadComponent</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: 'admin',
  loadComponent: () =&gt; import('./admin/admin.component').then(m =&gt; m.AdminComponent)
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a really nice addition!
All the lazy-loaded components must be standalone of course.
It&#8217;s worth noting that this feature exists in all other mainstream frameworks,
and Angular was lacking a bit on this.</p>
</div>
<div class="paragraph">
<p>If the component is exported by default,
then the import can be simplified
(as we can do for lazy-loaded modules since Angular v15):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: 'admin',
  loadComponent: () =&gt; import('./admin/admin-default.component')
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can also lazy-load several routes at once,
by directly loading the routes config with <code>loadChildren</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: 'admin',
  loadChildren: () =&gt; import('./admin/admin.routes').then(c =&gt; c.adminRoutes)
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>We now have a nice symmetry between <code>children</code>/<code>loadChildren</code>
and <code>component</code>/<code>loadComponent</code>!</p>
</div>
<div class="paragraph">
<p>But <code>NgModule</code> also allows to define providers for a lazy-loaded module:
the providers are then only available in the components
of the lazy-loaded module.
To achieve the same thing, you can now declare providers directly on a route,
and the providers will be available only for this route and its children:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: 'admin',
  providers: [AdminService],
  loadComponent: () =&gt; import('./admin/admin.component').then(c =&gt; c.AdminComponent)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This works with all types of routes
(with <code>component</code>, <code>loadComponent</code>, <code>children</code>, <code>loadChildren</code> with routes or <code>NgModule</code>).
In my example above, the component is lazy-loaded, but the service is not.
If you want to lazy-load the service as well, you can use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: 'admin',
  loadChildren: () =&gt; import('./admin/admin.routes').then(c =&gt; c.adminRoutes)
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>and define the <code>providers</code> in <code>adminRoutes</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export const adminRoutes: Routes = [
  {
    path: '',
    pathMatch: 'prefix',
    providers: [AdminService], // &lt;--
    children: [{ path: '', component: AdminComponent }]
  }
];</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_initialization">24.10. Initialization</h3>
<div class="paragraph">
<p>An <code>NgModule</code> can also be used to run some initialization logic,
as they are eagerly executed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@NgModule({ /*...*/ })
export class AppModule {
  constructor(currentUserService: CurrentUserService) {
    currentUserService.init();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To achieve the same without a module,
we can now use a new multi-token <code>ENVIRONMENT_INITIALIZER</code>.
All the code registered with this token will be executed
during the application initialization.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">bootstrapApplication(AppComponent, {
  providers: [
    {
      provide: ENVIRONMENT_INITIALIZER,
      multi: true,
      useValue: () =&gt; inject(CurrentUserService).init()
    }
  ]
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that <code>importProvidersFrom(SomeModule)</code> is smart enough to automatically
register the initialization logic of <code>SomeModule</code> in <code>ENVIRONMENT_INITIALIZER</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_caveats">24.11. Caveats</h3>
<div class="paragraph">
<p>To be honest, the standalone API feels great.
We migrated a few applications, and this is really nice to use,
and it feels good to get rid of <code>NgModule</code>!</p>
</div>
<div class="paragraph">
<p>A few pain points though.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>There are no "global imports": you need to import a component/pipe/directive
every time you use it.
<code>ngIf</code>, <code>ngFor</code>, and friends are available in every standalone component generated
by the CLI, as the skeleton includes the import of <code>CommonModule</code>.
But <code>routerLink</code> for example is not:
you need to import <code>RouterModule</code> if you need it.
Other frameworks, like Vue for example,
allow registering some components globally,
to avoid importing them over and over.
That&#8217;s not the case in Angular.</p>
</li>
<li>
<p>Sometimes you forget to add an import, and your template doesn&#8217;t work,
with no compilation error.
For example, adding a link with <code>[routerLink]="['/']</code> does not compile,
but <code>routerLink="/"</code> does compile (and doesn&#8217;t work).
I feel that these kinds of errors happen more often than they did
with <code>NgModule</code>.
IDEs will probably help us here, and I suppose typing <code>routerLink</code> in a template
will result in an automatic addition of <code>RouterModule</code> in the component&#8217;s imports
in VS Code/Webstorm/whatever is a few months.</p>
</li>
<li>
<p>You can&#8217;t bootstrap multiple components at once
with the new <code>bootstrapApplication()</code> function,
whereas it was possible with the NgModule-based bootstrap.</p>
</li>
<li>
<p><code>TestBed</code> works with standalone components,
but will probably include more specific APIs to simplify tests in the future.
Note that it is already easier to test standalone components than classic components,
as you don&#8217;t have to repeat in <code>configureTestingModule</code> all the dependencies the component needs.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_summary_3">24.12. Summary</h3>
<div class="paragraph">
<p>Six years after the initial release,
we can finally get rid of <code>NgModule</code> in Angular if we want to.
Their addition to Angular was a bit rushed:
they were introduced in Angular v2.0.0-rc.5 two months (!!) before the stable release,
mainly to help the ecosystem build libraries.
As often in our field, the rushed design resulted in a an entity that mixed several concerns,
with some concepts quite hard to understand for beginners.</p>
</div>
<div class="paragraph">
<p>The new "mental model" is easy to grasp:
providers are declared on an application level
and components just have to import what they need in their templates.
It will also probably be easier for newcomers to understand how Angular works.</p>
</div>
<div class="paragraph">
<p>These standalone APIs are trying to make things clearer,
and it looks like they did .</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="internationalization">25. Internationalization</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Alors comme a, tu veux internationaliser ton application?</em></p>
</div>
<div class="paragraph">
<p>OK, don&#8217;t worry if you didn&#8217;t understand anything of this French introduction. Your role as a developer, fortunately,
is not to translate your application into French, Spanish, or whatever other language. What you can do, though,
is to allow this to happen. This chapter explains how to achieve that.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="i18n">
</div>
</div>
<div class="sect2">
<h3 id="_the_locale">25.1. The locale</h3>
<div class="paragraph">
<p>We already mentioned internationalization before, in the chapter about pipes.
Four of the built-in Angular pipes deal with internationalization.
Those are the <code>number</code>, <code>percent</code>, <code>currency</code> and <code>date</code> pipes.
Until Angular&#160;5, they used to rely on the standard JavaScript <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl">Internationalization</a>
API, which is supposed to be provided by the browser.
But as that was not always the case, and there were numerous bugs and inconsistencies between browsers,
the pipes have been completely overhauled in Angular&#160;5.0.</p>
</div>
<div class="paragraph">
<p>What we don&#8217;t know yet is how these three pipes decide how to format the numbers and dates. Should they use a dot or a comma
as decimal separator? Should they use <em>January</em> or <em>Janvier</em> for the first month of the year? You might think
that this is decided based on the preferred language configured in the browser, but actually, it&#8217;s not. This
depends on an injectable value named <code>LOCALE_ID</code>. And the default value of <code>LOCALE_ID</code> is <code>'en-US'</code>.</p>
</div>
<div class="paragraph">
<p>Here is an example showing how to get the value of <code>LOCALE_ID</code>. As you can see, it&#8217;s a simple string value.
To inject it into your components or services, you can&#8217;t just rely on its type. You need to tell Angular which
token identifies the value, using <code>@Inject(LOCALE_ID)</code>. This can be useful if your logic needs to know which locale
the application is using.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-locale',
  template: `
    &lt;p&gt;The locale is {{ locale }}&lt;/p&gt;
    &lt;!-- will display 'en-US' --&gt;

    &lt;p&gt;{{ 1234.56 | number }}&lt;/p&gt;
    &lt;!-- will display '1,234.56' --&gt;
  `
})
class DefaultLocaleComponent {
  constructor(@Inject(LOCALE_ID) public locale: string) {}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is good. But how can we change the locale? Actually, you can&#8217;t. The locale is a constant, that you can&#8217;t change
once the application has started. But that doesn&#8217;t mean you can&#8217;t set it to another value <em>before</em> the application
starts. This is possible, simply by providing another value for the <code>LOCALE_ID</code> token in your root Angular module.
Beware though: this changes the locale,
but another step is required to bundle the locale-specific data (month translations, number formatting rules, etc.) with your application.
Angular only bundles the <code>en-US</code> data by default.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import '@angular/common/locales/global/fr';</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s an example showing its effect on our component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@NgModule({
  imports: [BrowserModule],
  declarations: [
    CustomLocaleComponent
    // and other components
  ],
  providers: [
    { provide: LOCALE_ID, useValue: 'fr-FR' }
  ]
  // ...
})
export class AppModule {}

@Component({
  selector: 'ns-locale',
  template: `
    &lt;p&gt;The locale is {{ locale }}&lt;/p&gt;
    &lt;!-- will display 'fr-FR' --&gt;

    &lt;p&gt;{{ 1234.56 | number }}&lt;/p&gt;
    &lt;!-- will display '1 234,56' --&gt;
  `
})
export class CustomLocaleComponent {
  constructor(@Inject(LOCALE_ID) public locale: string) {}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>All the pipes that handle internationalization can also take a locale as their last parameter.
You can then change it dynamically if needed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-locale',
  template: `
    &lt;p&gt;The locale is {{ locale }}&lt;/p&gt;
    &lt;!-- will display 'en-US' --&gt;

    &lt;p&gt;{{ 1234.56 | number : '1.0-3' : 'fr-FR' }}&lt;/p&gt;
    &lt;!-- will display '1 234,56' --&gt;
  `
})
class DefaultLocaleOverriddenComponent {
  constructor(@Inject(LOCALE_ID) public locale: string) {}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to create an application that uses only one locale, but different from <code>'en-US'</code>, then setting the locale
as explained above is all you need to do. But often, this is not enough, and you want to really internationalize
your application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_default_currency">25.2. Default currency</h3>
<div class="paragraph">
<p>The <code>currency</code> pipe allows you to specify which currency you want to use
by providing an ISO string like <code>USD</code>, 'EUR'&#8230;&#8203;
If you don&#8217;t provide one, it uses <code>USD</code> by default.
So it is a bit cumbersome to have to specify the currency every time,
if your application only uses <code>EUR</code> for example.</p>
</div>
<div class="paragraph">
<p>Angular&#160;9 introduced the possibility of configuring
the default currency globally using the token <code>DEFAULT_CURRENCY_CODE</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{ provide: DEFAULT_CURRENCY_CODE, useValue: 'EUR' },</code></pre>
</div>
</div>
<div class="paragraph">
<p>And you can then use <code>currency</code> without specifying <code>EUR</code> in a component.
You can also get the currency via dependency injection of course:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-currency',
  template: `
    &lt;p&gt;The currency is {{ currency }}&lt;/p&gt;
    &lt;!-- will display 'EUR' --&gt;

    &lt;p&gt;{{ 1234.56 | currency }}&lt;/p&gt;
    &lt;!-- will display '1 234,56 ' --&gt;
  `
})
class DefaultCurrencyOverriddenComponent {
  constructor(@Inject(DEFAULT_CURRENCY_CODE) public currency: string) {}
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_translating_text">25.3. Translating text</h3>
<div class="paragraph">
<p>If you have used AngularJS 1.x before, and have internationalized your AngularJS application, you probably know that there
is nothing built-in to display translated text based on the preferred language of the user.</p>
</div>
<div class="paragraph">
<p>One of the popular libraries to achieve that with AngularJS is <a href="https://angular-translate.github.io/">angular-translate</a>. The strategy it uses is fairly common: you
use a directive or a pipe to translate a key (for example <code>'home.welcome'</code>). This key identifies a message, and you
provide the translations for all the languages you want to support (for example: 'Welcome' and 'Bienvenue').
At runtime, the directive or pipe uses the preferred language to get the appropriate translation, and updates the
DOM with the translated message. You can change the preferred language at runtime, and all the messages
on the page are immediately translated to the new language.</p>
</div>
<div class="paragraph">
<p>Internationalization is now provided by Angular directly,
although it was hardly usable before version&#160;4.0,
and was completely rewritten in version&#160;9.0.
No need for an external dependency anymore.
And it uses basically the same strategy based on keys, but with a big difference:
it happens at compile-time.</p>
</div>
<div class="paragraph">
<p>With the compilation time strategy,
you prepare one version of your application per locale.
When you build your app, Angular parses all the HTML templates of your components,
and transforms them to JavaScript code that, basically, analyzes
the changes in the model and modifies the DOM accordingly.
The translation happens at the end of this compilation phase.
That has important consequences:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>you can&#8217;t change the locale and the translated messages at runtime.
The whole application needs to be reloaded and restarted to do that;</p>
</li>
<li>
<p>once started, the application is faster,
since it doesn&#8217;t have to dynamically translate the keys again and again;</p>
</li>
<li>
<p>if you use the AOT compiler (and you should, at least in production),
you must build and serve as many applications as locales that you want to support.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Starting with version&#160;9.0,
the Angular team introduced a new <code>@angular/localize</code> package.
If you use the CLI, you can just run <code>ng add @angular/localize</code>
and the CLI adds it for you in the proper place.</p>
</div>
<div class="paragraph">
<p>This new package introduces a <code>$localize</code> global function,
that is used under the hood for the localization,
and that we&#8217;ll be able to use in the future
to translate messages in your code.</p>
</div>
</div>
<div class="sect2">
<h3 id="_process_and_tooling">25.4. Process and tooling</h3>
<div class="paragraph">
<p>In the remaining parts of this chapter, we will assume that you use Angular CLI to build your application.
The tools are actually available and usable outside of Angular CLI.
But since they&#8217;re well integrated and simple to use in Angular CLI,
and since it&#8217;s the recommended way to build
your applications anyway, we will use that.</p>
</div>
<div class="paragraph">
<p>That said, how do we proceed? You already know how to create components and write their templates. Will you have to
rewrite everything to internationalize them? Thankfully, no. The process is the following one:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>you mark the parts of the templates that need to be translated using the <code>i18n</code> attribute;</p>
</li>
<li>
<p>You run a tool to extract all those marked parts into a file, for example <code>messages.xlf</code>. Two file formats,
both xml-based and industry-standard, are supported;</p>
</li>
<li>
<p>You ask a competent translator to create a translated version of this file, for example <code>messages.fr.xlf</code></p>
</li>
<li>
<p>You build your application by providing the locale ID (<code>'fr'</code> for example) and the file containing the translations
(<code>messages.fr.xlf</code>). The angular compiler and the CLI replace all the i18n-marked parts of the templates with the translations
found in the file, and configures your application to use the provided locale ID.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Let&#8217;s examine each of those steps in more details.</p>
</div>
<div class="sect3">
<h4 id="_marking_text_with_i18n_and_extracting">25.4.1. Marking text with i18n and extracting</h4>
<div class="paragraph">
<p>Let&#8217;s start with an example template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h1&gt;Welcome to Ponyracer&lt;/h1&gt;
&lt;p&gt;Welcome to Ponyracer {{ user.firstName }} {{ user.lastName }}!&lt;/p&gt;
&lt;img src="/img/pony.gif" alt="running pony" title="Ponies are cool, aren't they?" /&gt;
Let's start playing.</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are 5 text snippets that need to be translated in this template. Of course, you could imagine translating
everything at once, but in a more realistic example, that would expose a lot of HTML boilerplate to the translators,
and you don&#8217;t want them to translate everything again when the HTML structure changes. So you should translate the
5 snippets separately.</p>
</div>
<div class="paragraph">
<p>One of them, the body of the <code>h1</code> element, is purely static text. One of them is a text containing two interpolated expressions.
Two are attributes of an HTML element. The last one is static text that is not embedded in any element.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s how you would mark them. Let&#8217;s start with the first, simplest one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h1 i18n&gt;Welcome to Ponyracer&lt;/h1&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s extract our very first messages file,
using the <code>extract-i18n</code> command provided by Angular CLI:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">ng extract-i18n --output-path src/locale/</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will create the file <code>messages.xlf</code> in the <code>src/locale</code> directory. Here&#8217;s what it contains:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2"&gt;
  &lt;file source-language="en-US" datatype="plaintext" original="ng2.template"&gt;
    &lt;body&gt;
      &lt;trans-unit id="7627914200888412251" datatype="html"&gt;
        &lt;source&gt;Welcome to Ponyracer&lt;/source&gt;
        &lt;context-group purpose="location"&gt;
          &lt;context context-type="sourcefile"&gt;src/app/app.component.html&lt;/context&gt;
          &lt;context context-type="linenumber"&gt;2&lt;/context&gt;
        &lt;/context-group&gt;
      &lt;/trans-unit&gt;
    &lt;/body&gt;
  &lt;/file&gt;
&lt;/xliff&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, it generates a <code>trans-unit</code> containing, as the source, our static text. The role of the French
translator will be to provide a <code>messages.fr.xlf</code> file looking like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2"&gt;
  &lt;file source-language="en" datatype="plaintext" original="ng2.template" target-language="fr"&gt;
    &lt;body&gt;
      &lt;trans-unit id="7627914200888412251" datatype="html"&gt;
        &lt;source&gt;Welcome to Ponyracer&lt;/source&gt;
        &lt;target&gt;Bienvenue dans Ponyracer&lt;/target&gt;
      &lt;/trans-unit&gt;
    &lt;/body&gt;
  &lt;/file&gt;
&lt;/xliff&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is easy enough, because the source message is easy to understand. You don&#8217;t need too much context to know
what it is about, and how to translate it. But this way of doing things has a big disadvantage. If you change the source code
of the template and introduce meaningless white spaces for example, or a dot at the end of the title, here&#8217;s what
happens when extracting the file again:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h1 i18n&gt;
  Welcome to Ponyracer.
&lt;/h1&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">      &lt;trans-unit id="6888363845978110110" datatype="html"&gt;
        &lt;source&gt; Welcome to Ponyracer.
&lt;/source&gt;
        &lt;context-group purpose="location"&gt;
          &lt;context context-type="sourcefile"&gt;src/app/app.component.html&lt;/context&gt;
          &lt;context context-type="linenumber"&gt;5,7&lt;/context&gt;
        &lt;/context-group&gt;
      &lt;/trans-unit&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Not only does the source change, which is expected, but the id also does. That really makes maintaining the translated
messages files more difficult than it should. Fortunately, there&#8217;s a better way. You can provide a unique ID by yourself:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h1 i18n="@@home.title"&gt;Welcome to Ponyracer&lt;/h1&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which generates:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;trans-unit id="home.title" datatype="html"&gt;
  &lt;source&gt;Welcome to Ponyracer&lt;/source&gt;
  &lt;context-group purpose="location"&gt;
    &lt;context context-type="sourcefile"&gt;src/app/app.component.html&lt;/context&gt;
    &lt;context context-type="linenumber"&gt;10&lt;/context&gt;
  &lt;/context-group&gt;
&lt;/trans-unit&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And in fact, in order to provide more context to your translators, you can provide a meaning and a description in
addition to the message ID:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h1 i18n="welcome title|the title of the home page@@home.fullTitle"&gt;Welcome to Ponyracer&lt;/h1&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;trans-unit id="home.fullTitle" datatype="html"&gt;
  &lt;source&gt;Welcome to Ponyracer&lt;/source&gt;
  &lt;context-group purpose="location"&gt;
    &lt;context context-type="sourcefile"&gt;src/app/app.component.html&lt;/context&gt;
    &lt;context context-type="linenumber"&gt;13&lt;/context&gt;
  &lt;/context-group&gt;
  &lt;note priority="1" from="description"&gt;the title of the home page&lt;/note&gt;
  &lt;note priority="1" from="meaning"&gt;welcome title&lt;/note&gt;
&lt;/trans-unit&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s move to the second snippet now:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p i18n="@@home.welcome"&gt;Welcome to Ponyracer {{ user.firstName }} {{ user.lastName }}!&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is what it generates:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;trans-unit id="home.welcome" datatype="html"&gt;
  &lt;source&gt;Welcome to Ponyracer &lt;x id="INTERPOLATION" equiv-text="{{ user.firstName }}"/&gt; &lt;x id="INTERPOLATION_1" equiv-text="{{ user.lastName }}"/&gt;!&lt;/source&gt;
  &lt;context-group purpose="location"&gt;
    &lt;context context-type="sourcefile"&gt;src/app/app.component.html&lt;/context&gt;
    &lt;context context-type="linenumber"&gt;16&lt;/context&gt;
  &lt;/context-group&gt;
&lt;/trans-unit&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, this format has several interesting features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>there is no way a translator could mess up the content of the angular expressions, since they are clearly indicated
in the message;</p>
</li>
<li>
<p>it&#8217;s clear that these two interpolations are for the developers but it might also be a good idea to explain that in the description
of the message for the translators;</p>
</li>
<li>
<p>if, in some language, the last name should come before the first name, the translator is free to reorder the
interpolations;</p>
</li>
<li>
<p>if the developer chooses to rename the attributes of the component or of the user, nothing will have to be re-translated.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let&#8217;s proceed with the two attributes in the <code>img</code> element. The syntax to translate attributes is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;img
  src="/img/pony.gif"
  alt="running pony"
  i18n-alt="@@home.ponyImage.alt"
  title="Ponies are cool, aren't they?"
  i18n-title="@@home.ponyImage.title"
/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>That generates the following translation units:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;trans-unit id="home.ponyImage.alt" datatype="html"&gt;
  &lt;source&gt;running pony&lt;/source&gt;
  &lt;context-group purpose="location"&gt;
    &lt;context context-type="sourcefile"&gt;src/app/app.component.html&lt;/context&gt;
    &lt;context context-type="linenumber"&gt;21&lt;/context&gt;
  &lt;/context-group&gt;
&lt;/trans-unit&gt;
&lt;trans-unit id="home.ponyImage.title" datatype="html"&gt;
  &lt;source&gt;Ponies are cool, aren&amp;apos;t they?&lt;/source&gt;
  &lt;context-group purpose="location"&gt;
    &lt;context context-type="sourcefile"&gt;src/app/app.component.html&lt;/context&gt;
    &lt;context context-type="linenumber"&gt;23&lt;/context&gt;
  &lt;/context-group&gt;
&lt;/trans-unit&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, how to translate the last snippet? There is no element where we could place an <code>i18n</code> attribute. There is
a way to solve the problem: use an <code>ng-container</code> element, which won&#8217;t be rendered in the DOM
at runtime:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ng-container i18n="@@home.startMessage"&gt;Let's start playing.&lt;/ng-container&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_translating_building_and_deploying_the_application">25.4.2. Translating, building and deploying the application</h4>
<div class="paragraph">
<p>Now that you generated a complete <code>messages.xlf</code> file, someone needs to translate it.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
A common mistake is to
just replace the original source text (in English in our case) with its translation. That won&#8217;t work. The translation must be written inside
the <code>&lt;target&gt;</code> element of each translation unit. The <code>&lt;source&gt;</code> element should be kept untouched: it provides
the original message that must be translated. For example:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;trans-unit id="home.welcome" datatype="html"&gt;
  &lt;source&gt;Welcome to Ponyracer &lt;x id="INTERPOLATION" equiv-text="{{ user.firstName }}"/&gt; &lt;x id="INTERPOLATION_1" equiv-text="{{ user.lastName }}"/&gt;!&lt;/source&gt;
  &lt;target&gt;Bienvenue dans Ponyracer &lt;x id="INTERPOLATION" equiv-text="{{ user.firstName }}"/&gt; &lt;x id="INTERPOLATION_1" equiv-text="{{ user.lastName }}"/&gt;&amp;nbsp;!&lt;/target&gt;
&lt;/trans-unit&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To run or build the application in French,
you need to specify the locale, and the location of the messages file,
to <code>ng serve</code> or <code>ng build</code> in <code>angular.json</code>
by using the <code>i18n</code> property:</p>
</div>
<div class="paragraph">
<p>In versions before 9, to run or build the application in French,
you had to pass various options to <code>ng serve</code> and <code>ng build</code>.</p>
</div>
<div class="paragraph">
<p>Since version 9, you must specify the locales you want to support,
and their associated messages file,
in the <code>angular.json</code> configuration file
by using the <code>i18n</code> property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">"prefix": "ns",
"i18n": {
  "locales": {
    "fr": "src/locale/messages.fr.xlf"
  }
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can add as many locales as you want,
each one linked to its translations.</p>
</div>
<div class="paragraph">
<p>You can then run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">ng build --localize</code></pre>
</div>
</div>
<div class="paragraph">
<p>and the CLI builds the app,
and generates as many versions as there are locales defined.
In our case, it generates one version for the default locale <code>en-US</code>,
in the directory <code>dist/i18n/en-US</code> (if your project is named <code>i18n</code>),
and another one for the <code>fr</code> locale in the directory <code>dist/i18n/fr</code>.</p>
</div>
<div class="paragraph">
<p>If you want to run <code>ng serve</code>,
you have to specify one locale,
as you can only serve one version.</p>
</div>
<div class="paragraph">
<p>The easiest way to do so is to define a build <code>configuration</code>
for this locale in <code>angular.json</code>,
just like the <code>production</code> configuration,
but much simpler:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">"fr": {
  "localize": ["fr"]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>and add a serve configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">"fr": {
  "browserTarget": "i18n:build:fr"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>you can then run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">ng serve --configuration=fr</code></pre>
</div>
</div>
<div class="paragraph">
<p>or build for a specific locale with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">ng build --configuration=production,fr</code></pre>
</div>
</div>
<div class="paragraph">
<p>The AOT compiler will locate all the i18n-marked snippets in the templates, find the corresponding translations
in the XLF file, and transform the snippets in the template using the translations. It will then proceed as usual
to generate JavaScript code from the templates and bundle your application.</p>
</div>
<div class="paragraph">
<p>If you want to support English, French and Spanish, for example,
you&#8217;ll have to build only once,
and then the localization tool will generate 3 versions (once for each locale)
of the application (this is very fast).
Then, you need to deploy the 3 built applications to your production web server. You will also need to decide
which application to serve to which user. This can be done at server-side, by detecting the preferred locale from
the request header and serving the appropriate <code>index.html</code> page. Or by getting the preferred locale of the
authenticated user from the database and serving the appropriate index.html page. You could also do it at client-side,
by serving your three applications on three different URLs (<code>ponyracer.com</code>, <code>ponyracer.fr</code> and <code>ponyracer.es</code>,
or <code>ponyracer.com/en</code>, <code>ponyracer.com/fr</code> and <code>ponyracer.com/es</code>), and by redirecting from <code>ponyracer.com</code> to the
correct URL based on the browser locale.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_translating_messages_in_the_code">25.5. Translating messages in the code</h3>
<div class="paragraph">
<p>Sometimes, the text you need to translate is not in the templates, but is in the TypeScript code itself. For example,
the three states of a pony race PENDING, RUNNING and FINISHED should be translated somehow.
Since Angular&#160;9.0, you can use <code>$localize</code> to do so.
<code>$localize</code> is a tag function that can be applied to a template string
(check the
<a href="#es2015">ECMAScript&#160;2015</a>
chapter if you need a refresher).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">status = $localize`PENDING`;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, when you build your application with the CLI,
the <code>$localize</code> calls are replaced with their translations!</p>
</div>
<div class="paragraph">
<p>You can also define an ID with the syntax we have in templates,
and have dynamic parts in the string:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">greetings = $localize`:@@home.greetings:Welcome ${this.user.firstName}!`;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>ng extract-i18n</code> supports the message extraction
from <code>$localize</code> calls in the code since CLI v10.1,
and it generates:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;trans-unit id="home.greetings" datatype="html"&gt;
  &lt;source&gt;Welcome &lt;x id="PH" equiv-text="this.user.firstName"/&gt;!&lt;/source&gt;
  &lt;context-group purpose="location"&gt;
    &lt;context context-type="sourcefile"&gt;src/app/app.component.ts&lt;/context&gt;
    &lt;context context-type="linenumber"&gt;17&lt;/context&gt;
  &lt;/context-group&gt;
&lt;/trans-unit&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It can then be translated as usual (with <code>PH</code> the placeholder for the dynamic part):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;trans-unit id="home.greetings" datatype="html"&gt;
  &lt;source&gt;Welcome &lt;x id="PH" equiv-text="{{ this.user.firstName }}"/&gt;!&lt;/source&gt;
  &lt;target&gt;Bonjour &lt;x id="PH" equiv-text="{{ this.user.firstName }}"/&gt;&amp;nbsp;!&lt;/target&gt;
&lt;/trans-unit&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pluralization">25.6. Pluralization</h3>
<div class="paragraph">
<p>Sometimes, the message you want to display depends on the number of elements in a collection, or on a count of elements.</p>
</div>
<div class="paragraph">
<p>For example, let&#8217;s say our home page displayed the number of planned races for the day. You could simply show
<em>"Number of planned race(s): 4"</em>. But a friendlier message would be <em>"No race is planned"</em> if there
is none, or <em>"Only one race is planned"</em> if there is just one, or <em>"N races are planned"</em> in the other cases.</p>
</div>
<div class="paragraph">
<p>Angular actually has a special template syntax to do that. It&#8217;s hard to read, except maybe for LISP programmers, but it
does the job and is fairly easy to understand with the following example. Suppose our component has a property
<code>racesPlanned</code>, containing the number of races that are planned for today. You can display it as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;
  Hello, {racesPlanned, plural, =0 {no race is planned} =1 {only one race is planned} other
  {{{ racesPlanned }} races are planned}}.
&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To internationalize this message, you would just use the i18n attribute as usual:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p i18n="@@home.racesPlanned"&gt;
  Hello, {racesPlanned, plural, =0 {no race is planned} =1 {only one race is planned} other
  {{{ racesPlanned }} races are planned}}.
&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Extracting this generates two translation units,
one for the message itself, and one for the expression bundled in the message:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">      &lt;trans-unit id="home.racesPlanned" datatype="html"&gt;
        &lt;source&gt; Hello, &lt;x id="ICU" equiv-text="{racesPlanned, plural, =0 {no race is planned} =1 {only one race is planned} other
  {{{ racesPlanned }} races are planned}}" xid="2482273160942454889"/&gt;.
&lt;/source&gt;
        &lt;context-group purpose="location"&gt;
          &lt;context context-type="sourcefile"&gt;src/app/app.component.html&lt;/context&gt;
          &lt;context context-type="linenumber"&gt;31,34&lt;/context&gt;
        &lt;/context-group&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id="5232470321856793506" datatype="html"&gt;
        &lt;source&gt;{VAR_PLURAL, plural, =0 {no race is planned} =1 {only one race is planned} other {&lt;x id="INTERPOLATION"/&gt; races are planned}}&lt;/source&gt;
        &lt;context-group purpose="location"&gt;
          &lt;context context-type="sourcefile"&gt;src/app/app.component.html&lt;/context&gt;
          &lt;context context-type="linenumber"&gt;32,33&lt;/context&gt;
        &lt;/context-group&gt;
      &lt;/trans-unit&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Unfortunately, the second translation unit has an auto-generated ID,
and the pluralization syntax must be understood and respected by the translator.
It&#8217;s possible to translate those two translation units, though, and the translation works as expected:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">      &lt;trans-unit id="home.racesPlanned" datatype="html"&gt;
        &lt;source&gt;
  Hello, &lt;x id="ICU" equiv-text="{racesPlanned, plural, =0 {...} =1 {...} other {...}}"/&gt;..
&lt;/source&gt;
        &lt;target&gt;Bonjour, &lt;x id="ICU" equiv-text="{racesPlanned, plural, =0 {...} =1 {...} other {...}}"/&gt;.&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id="5232470321856793506" datatype="html"&gt;
        &lt;source&gt;{VAR_PLURAL, plural, =0 {no race is planned} =1 {only one race is planned} other {&lt;x id="INTERPOLATION" equiv-text="{{ racesPlanned }}"/&gt; races are planned} }&lt;/source&gt;
        &lt;target&gt;{VAR_PLURAL, plural, =0 {aucune course n'est planifie} =1 {seule une course est planifie} other {&lt;x id="INTERPOLATION" equiv-text="{{ racesPlanned }}"/&gt; courses sont planifies} }&lt;/target&gt;
      &lt;/trans-unit&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_best_practices">25.7. Best practices</h3>
<div class="paragraph">
<p>These best practices, acquired in years of development of i18ned applications, are not necessarily related to
Angular, but to i18n in general.</p>
</div>
<div class="paragraph">
<p>Always specify an explicit unique ID for your messages. If you choose a meaningful ID, you often don&#8217;t need to specify
a meaning and a description for your message, because the ID is sufficient.
Prefixing the IDs with the name of the component where they are used (like I did in all the examples with the <code>home.</code>
prefix) allows you to know where they are used, and to find them in the code easily. Relying on auto-generated IDs
doesn&#8217;t allow you to have different translations for two identical messages in your source language. It also makes it very
hard to figure out what needs to be changed between two releases of your application.</p>
</div>
<div class="paragraph">
<p>Even if the translators are not always developers, store your message files in your version control system. This
makes sure a branch can have its own additions, which can be merged to the main branch when ready. It makes it easy
to spot differences between branches and releases.</p>
</div>
<div class="paragraph">
<p>Duplication isn&#8217;t necessarily bad. You might think that two pages sharing a label "Save" or "OK" should use the same
key, but maybe you will want to label them "OK, I&#8217;ll do it" and "OK, I accept" later. Or maybe they need to be
differentiated in some foreign language. It&#8217;s even more important to use two separate keys for words that are identical
in English, but not in other languages, like "free", which can mean "free as in beer" or "free as in speech". Other
languages use different words for these two concepts.</p>
</div>
<div class="paragraph">
<p>Don&#8217;t confuse languages with countries. Don&#8217;t use country flags to represent languages. Some languages (like English)
are spoken in several countries. And some countries use several languages (like Belgium, which uses French, Dutch and German).</p>
</div>
<div class="paragraph">
<p>Avoid concatenation to translate text with parameters. For example, to translate <em>"Hello, my name is X and I&#8217;m Y years old"</em>,
don&#8217;t use a first key for <em>"Hello, my name is "</em>, a second key for <em>" and I&#8217;m "</em> and a third key for <em>" years old"</em>.
Use a single key, containing interpolated expressions.</p>
</div>
<div class="paragraph">
<p>You should now be ready to conquer the world with your shiny i18ned Angular application.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="performances">26. Performances</h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Be careful with premature optimization.
Always measure before and after.
Beware of the benchmarks you find on the internets:
it&#8217;s pretty easy to make them say what the authors want.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Performances can mean a lot of things:
speed, CPU usage (battery consumption), memory pressure&#8230;&#8203;
Everything is not important for everybody:
you have different needs if you are programming for a mobile website,
an e-commerce platform, or a classic CRUD application.</p>
</div>
<div class="paragraph">
<p>Performances can also be split into different categories,
that, once more, won&#8217;t all matter to you:
first load, reload, and runtime performances.</p>
</div>
<div class="paragraph">
<p>First load is when you open an application for the first time.
Reload is when you come back to that application.
Runtime performances is what happens when the application is running.
Some of the following recommendations are very generic,
and could be applied to any framework.
We wrote them down because we think it&#8217;s worth knowing.
And because when you talk about performances,
the framework is sometimes the bottleneck,
but really (really) often not.</p>
</div>
<div class="sect2">
<h3 id="_first_load">26.1. First load</h3>
<div class="paragraph">
<p>When you load a modern Web application in your browser,
a few things happen.
First, the <code>index.html</code> is loaded and parsed by the browser.
Then the JS scripts and other assets referenced are fetched.
When one of the assets is received,
the browser parses it,
and executes it if it is a JS file.</p>
</div>
<div class="sect3">
<h4 id="_asset_sizes">26.1.1. Asset sizes</h4>
<div class="paragraph">
<p>So the first tip is very obvious:
be careful with your asset sizes!</p>
</div>
<div class="paragraph">
<p>The assets loading phase depends on how many assets you want to load.
A lot will be slow. Big ones will be slow.
Especially if the network is not that good,
which happens more often than you think:
you might test your application on an optical fiber connection,
but some of your actual users might be in the middle of nowhere,
using slow 3G.
Here is what you can do.</p>
</div>
</div>
<div class="sect3">
<h4 id="_bundle_your_application">26.1.2. Bundle your application</h4>
<div class="paragraph">
<p>When you write your Angular application,
you have imports all over the place,
and your code is split across hundreds of files.
But you don&#8217;t want your users to load hundreds of files!
So before shipping your application,
you want to make a "bundle":
group all the JavaScript files into one file.</p>
</div>
<div class="paragraph">
<p><a href="https://webpack.js.org/">Webpack</a>'s job is to take all your JavaScript files
(and CSS, and template HTML files) and build bundles.
It&#8217;s not an easy tool to master,
but the Angular CLI does a pretty good job at hiding its complexity.
If you don&#8217;t use the CLI, you can build your application with Webpack,
or you can pick another tool that may produce even better results
(like <a href="https://rollupjs.org/guide/en">Rollup</a> for example).
But be warned that this requires quite a lot of expertise (and work)
to not mess things up, just to save a few extra kilobytes.
I would recommend staying with the CLI.
The team working on it is doing a very good job keeping up
with the latest Angular, TypeScript and Webpack releases.</p>
</div>
<div class="paragraph">
<p>More than that, they built some tools to decrease the bundling size.
For example, they wrote a plugin that goes through the generated JavaScript,
and adds specific comments to help <a href="https://github.com/terser-js/terser">Terser</a>
remove dead code.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tree_shaking">26.1.3. Tree-shaking</h4>
<div class="paragraph">
<p>Webpack (or other tools you use) starts from the entry point of your application
(the <code>main.ts</code> file that the CLI generated for you, and which you probably never touched),
then resolves all the imports tree, and outputs the bundle.
This is cool because the bundle will only contain the files
from your codebase and your third party libraries that have been imported.
The rest is not embedded.
So even if you have a dependency in your <code>package.json</code> that you don&#8217;t use anymore
(so you don&#8217;t import it anymore),
it will not end up in the bundle.</p>
</div>
<div class="paragraph">
<p>It&#8217;s even a bit smarter than that.
If you have a file <code>models</code> exporting two classes,
let&#8217;s say <code>PonyModel</code> and <code>RaceModel</code>,
and then only import <code>PonyModel</code> into the rest of the application,
but never <code>RaceModel</code>, then Webpack only puts <code>PonyModel</code> in the final bundle,
and drops <code>RaceModel</code>.
This process is called <strong>tree-shaking</strong>.
And every framework and library in the JavaScript ecosystem is fighting hard
to be tree-shakable!
In theory, it means that your final bundle contains only what is really needed!
But in practice, Webpack (and others) are a bit conservative,
and can&#8217;t figure out some stuff.
For example, if you have a class <code>Pony</code> with two methods <code>eat</code> and <code>run</code>,
but you only use <code>run</code>, the code of the <code>eat</code> method will be in the final bundle.
So it&#8217;s not perfect, but it does a good job.</p>
</div>
<div class="paragraph">
<p>A few techniques can be used in Angular specifically to have a better tree-shaking.
First, don&#8217;t import modules that you don&#8217;t use.
Sometimes you try out a library offering a wonderful component,
and you add the NgModule of this library to the imports of your NgModule.
Then you don&#8217;t use it anymore,
but maybe forget about the module import, and don&#8217;t remove it&#8230;&#8203;
Bad news: this module and the third party library will be in the final bundle
(for now, maybe it will be better in the future).
So only import and use what you really need.</p>
</div>
<div class="paragraph">
<p>Another trick is to use <code>providedIn</code> for your services.
If you declare a service in the providers of your NgModule,
it will always end up in the bundle whether you actually use it or not,
simply because it&#8217;s imported and referenced in the module.
Whereas if you don&#8217;t register in the providers of your NgModule,
but use <code>providedIn: 'root'</code> instead,
then if you never use this service, it will not end up in the bundle.</p>
</div>
</div>
<div class="sect3">
<h4 id="_minification_and_dead_code_elimination">26.1.4. Minification and dead code elimination</h4>
<div class="paragraph">
<p>When your bundle has been built,
the code is usually minified and dead code will be eliminated.
That means all variables, method names, class names&#8230;&#8203;
are renamed to use a one or two characters name through the entire codebase.
This is a bit scary and sounds like it could break things,
but Terser has been doing a great job.
Terser will also eliminate dead code that it can find.
It does its best, and I was saying above,
the CLI team built a tool that prepares the code with special comments
on unneeded code, so Terser can remove it safely.</p>
</div>
</div>
<div class="sect3">
<h4 id="_other_assets">26.1.5. Other assets</h4>
<div class="paragraph">
<p>While the above sections were about JS specifically,
your application also contains other assets, like styles, images, fonts&#8230;&#8203;
You should have the same concerns about them,
and do your best to keep them at a reasonable size.
Applying all kinds of crazy techniques to optimize your JS bundle sizes,
but loading several MBs of images, wouldn&#8217;t have a big impact on your page loading time and your bandwidth!
As this is not really the scope of this ebook,
I won&#8217;t dig into this topic,
but let me point out a great online resource by Addy Osmani about image optimization:
<a href="https://images.guide/">Essential Image Optimization</a>.</p>
</div>
<div class="paragraph">
<p>Angular v14.2 introduced a new directive <code>NgOptimizedImage</code> that enforces some of these best practices.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;img [ngSrc]="imageUrl" alt="Pony" width="100" height="100" /&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compression">26.1.6. Compression</h4>
<div class="paragraph">
<p>All the modern browsers accept a compressed version of an asset when they ask the server for it.
That means you can serve a compressed version to your users,
and the browser will unzip it before parsing it.
This is a must-do because it will save you tons of bandwidth and loading time!</p>
</div>
<div class="paragraph">
<p>Every server on the market gives the option of activating the compression of assets.
Generally the first user to request an asset will pay the cost of the compression on the fly,
and then the following ones will receive the compressed asset directly.</p>
</div>
<div class="paragraph">
<p>The most common compression algorithm used is GZIP,
but some others like <a href="https://github.com/google/brotli">Brotli</a> are also popular.</p>
</div>
</div>
<div class="sect3">
<h4 id="_lazy_loading_2">26.1.7. Lazy-loading</h4>
<div class="paragraph">
<p>Sometimes, despite doing your best to keep your JS bundle small,
you end up with a big file because your app has grown to several dozens of components,
using various third party libraries.
And not only will this big bundle increase the time needed to fetch the JavaScript,
it will also increase the time needed to parse it and execute it.</p>
</div>
<div class="paragraph">
<p>One common solution to this problem is to use lazy-loading.
It means that instead of having a big bundle of JavaScript,
you split your application into several parts and tell Webpack to bundle it in several bundles.</p>
</div>
<div class="paragraph">
<p>The good news is that Angular (its router, and its module system, in particular)
makes this task relatively easy to achieve.
The other good news is that the CLI knows how to read your router configuration
to build several bundles automatically.
You can read our
<a href="#router">chapter</a>
about the router if you want to learn more.</p>
</div>
<div class="paragraph">
<p>Lazy-loading can vastly improve the loading time,
as you can make the first bundle really small,
with only what&#8217;s needed to display the home page,
and let Angular load the rest on demand when your user navigates to another part.
You can also use prefetching strategies to tell Angular to start loading the other bundles
when it&#8217;s idle.</p>
</div>
<div class="paragraph">
<p>Note that lazy-loading adds complexity to your application (and a few traps with dependency injection),
so I would advise to go this way only if it really makes sense.</p>
</div>
</div>
<div class="sect3">
<h4 id="_server_side_rendering">26.1.8. Server side rendering</h4>
<div class="paragraph">
<p>I&#8217;d like to start by saying that this technique is for 0.0001% of you.
Server side rendering (or universal rendering) is the technique that consists
of pre-rendering the application on the server before serving it to the users.
With this, when a user asks for <code>/dashboard</code>,
she will receive a pre-rendered version of the dashboard,
instead of receiving <code>index.html</code> and then letting the router do its job after Angular has finished to start.</p>
</div>
<div class="paragraph">
<p>It can lead to vast improvements in perceived startup time.
Angular offers a package <code>@angular/universal</code> that allows you to run the application not in a browser
but on a server.
You can then pre-render the pages and serve them to your users.
The page will display very fast and then Angular will start its job and run as usual.</p>
</div>
<div class="paragraph">
<p>It&#8217;s also a big win if you want your web site to be crawlable
by search engines which don&#8217;t execute JavaScript,
since you can serve them pre-rendered pages, instead of a blank page.</p>
</div>
<div class="paragraph">
<p>It&#8217;s also a way to display previews of your website
on social networks like Twitter or Facebook.
These sites will try to screenshot the shared URL,
but since they don&#8217;t execute JavaScript,
they won&#8217;t see anything of your dynamically generated page,
unless you serve them a page generated on the server.
So if you want to be sure that the preview is perfect,
like if you are running a news site,
or an e-commerce site,
you need to add server-side rendering.</p>
</div>
<div class="paragraph">
<p>The bad news is that it&#8217;s not as easy as adding the <code>@angular/universal</code> package.
Your application needs to follow some best practices (no direct DOM manipulation for example,
as the server won&#8217;t have a real DOM to manipulate).
Then you need to setup your server and think about the strategy you want to adopt.
Do you want to pre-render all pages or just a few?
Do you want to pre-render the whole page, with the data fetching and authorization check it will need,
or just some critical parts of the page?
Do you want to pre-render them on build, or to pre-render them on demand and cache them?
Do you want to do this for all the possible profiles and languages or just some?
All these questions depend on the type of application you are building,
and the effort can vary greatly depending on your goal.</p>
</div>
<div class="paragraph">
<p>So, again, I would advise you to use server side rendering only
if it is critical for your application,
and not based on the hype&#8230;&#8203;</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_reload">26.2. Reload</h3>
<div class="paragraph">
<p>Once your user has opened the application once,
it&#8217;s possible to speed up the subsequent visits.</p>
</div>
<div class="sect3">
<h4 id="_caching">26.2.1. Caching</h4>
<div class="paragraph">
<p>You should always cache the assets of your application (images, styles, JS bundles&#8230;&#8203;).
This is done by configuring your server and leveraging the <code>Cache-Control</code> and <code>ETag</code> headers.
All the servers on the market allow you to do so.
You can also use a CDN for this purpose,
which will additionally allow the users to download the assets from a server close to their location.
If you do so, the next time your users open the application,
the browser won&#8217;t have to send a request to fetch the assets because it will have them already!</p>
</div>
<div class="paragraph">
<p>But a cache is always tricky:
you need to have a way to tell the browser
"hey, I deployed a new version in production, please fetch the new assets!".</p>
</div>
<div class="paragraph">
<p>The easiest way to do this is to have a different name for the asset you updated.
That means instead of deploying an asset named <code>main.js</code>, you deploy <code>main.xxxx.js</code>
where <code>xxxx</code> is a unique identifier.
This technique is called cache busting.
And, again, the CLI is there for you: in production mode,
it will name all your assets with a unique hash,
derived from the content of the file.
It also automatically updates the sources of the scripts in <code>index.html</code> to reflect the unique names,
the sources of the fonts, the sources of the stylesheets, etc.</p>
</div>
<div class="paragraph">
<p>If you use the CLI, you can safely deploy a new version and cache everything,
except the <code>index.html</code> (as this will contain the links to the fresh assets deployed)!</p>
</div>
</div>
<div class="sect3">
<h4 id="_service_worker">26.2.2. Service Worker</h4>
<div class="paragraph">
<p>If you want to go a step further,
you can use service workers.</p>
</div>
<div class="paragraph">
<p>Service Workers are an API that most modern browsers support,
and to simplify, they act like a proxy in the browser.
You can register a service worker in your application
and every GET request will then go through it,
allowing you to decide if you really want to fetch the requested resource,
or if you want to serve it from cache.
You can then cache everything, even your <code>index.html</code>,
which guaranties the fastest startup time (no request to the server).</p>
</div>
<div class="paragraph">
<p>You may be wondering how a new version can be deployed if everything is cached,
but you&#8217;re covered: the service worker will serve from cache
and then check if a new version is available.
It can then force the refresh, or ask the user if he/she wants it immediately
or later.</p>
</div>
<div class="paragraph">
<p>It even allows you to go offline, as everything is cached!</p>
</div>
<div class="paragraph">
<p>Angular offers a dedicated package called <code>@angular/service-worker</code>.
It&#8217;s a small package,
but filled with cool features.
Did you know that if you add it to your Angular CLI application,
and turn a flag on (<code>"serviceWorker": true</code> in <code>angular.json</code>),
the CLI will automatically generate all the necessary stuff to cache your static assets by default?
And it will only download what has changed when you deploy a new version,
allowing blazing fast application start!</p>
</div>
<div class="paragraph">
<p>But it can even go further,
allowing you to cache external resources (like fonts, icons from a CDN&#8230;&#8203;),
route redirection and even dynamic content caching (like calls to your API),
with different strategies possible (always fetch for fresh data, or always serve from cache for speed&#8230;&#8203;).
The package also offers a module called <code>ServiceWorkerModule</code>
that you can use in your application to react to push events and notifications!</p>
</div>
<div class="paragraph">
<p>This is quite easy to setup, and a quick win for your reload start time.
It&#8217;s also one of the steps needed to build a Progressive Web App,
and to score a perfect 100% on <a href="https://github.com/GoogleChrome/lighthouse">Lighthouse</a>,
so you should check it out.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_profiling">26.3. Profiling</h3>
<div class="paragraph">
<p>Now that we have talked about first load and reload,
we can start talking about runtime performances.
But if you run into a performance issue,
before trying any of the following tips,
you should start by measuring and profiling the application.</p>
</div>
<div class="paragraph">
<p>Browsers nowadays offer nice developer tools,
especially Chrome, which allows you to record your application,
and analyze its behavior with quite some detail.
You can even simulate some conditions,
like using a slower processor,
or using a 3G network.
You can also dive into the call hierarchy,
and see how much time each function call is consuming.</p>
</div>
<div class="paragraph">
<p>But Angular also offers a precious tool:
<code>ng.profiler</code>.
It&#8217;s not very well-known,
but it can be handy as it allows you to measure
how long a change detection run in the current page took.</p>
</div>
<div class="paragraph">
<p>You can then try to apply one of the tips which we&#8217;ll look at,
and measure again to see if there is any improvement.</p>
</div>
<div class="paragraph">
<p>In your <code>main.ts</code> file,
replace the application bootstrapping code with the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">platformBrowserDynamic()
  .bootstrapModule(AppModule)
  .then(moduleRef =&gt; {
    const applicationRef = moduleRef.injector.get(ApplicationRef);
    const componentRef = applicationRef.components[0];
    // allows to run `ng.profiler.timeChangeDetection();`
    enableDebugTools(componentRef);
  })
  .catch(err =&gt; console.log(err));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then go to the page you want to profile,
open your browser console,
and execute the following instruction:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="text">&gt; ng.profiler.timeChangeDetection()
ran 489 change detection cycles
1.02 ms per check</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see how many change detection cycles it ran
(it should be at least 5 cycles or during at least 500ms),
and the time per cycle.
This is a super useful metric,
as many of the tricks we are going to show you directly act
on the change detection system.
You&#8217;ll be able to try them,
run the profiler again,
and compare the results.</p>
</div>
<div class="paragraph">
<p>You can also record the CPU profile during these checks
to analyze them with <code>ng.profiler.timeChangeDetection({ record: true })</code>.</p>
</div>
<div class="paragraph">
<p>The Angular team recommends having a time per check below 3ms,
to leave enough time for the application logic,
the UI updates and the browser&#8217;s rendering pipeline
to fit within a 16ms frame (assuming a 60 FPS target frame rate).</p>
</div>
<div class="paragraph">
<p>Let&#8217;s discover these tips!</p>
</div>
</div>
<div class="sect2">
<h3 id="_runtime_performances">26.4. Runtime performances</h3>
<div class="paragraph">
<p>Angular&#8217;s magic relies on its change detection mechanism:
the framework automatically detects changes in the state of the application
and updates the DOM accordingly.
So, as a general rule of thumb, you&#8217;ll want to help Angular
and limit the change detection triggering and the amount of DOM to update/create/delete.</p>
</div>
<div class="paragraph">
<p>To be honest, most applications will be fine, even under heavy load.
Read the
<a href="#zones">chapter</a>
about Angular and its magic if you want a recap on why Angular is more performant than AngularJS.</p>
</div>
<div class="paragraph">
<p>But some of us will have to recode Excel in the browser for their enterprise,
or will have a component with a tree displaying 10,000 customers,
or another unreasonable thing to do in a browser.
These things are tricky, whatever framework you use.
They tend to update a lot of DOM, and have to check a lot of components.
A few of the following tricks can help.
And a few of these tricks are <strong>really</strong> mandatory, like the first one.</p>
</div>
<div class="sect3">
<h4 id="_production_mode">26.4.1. Production mode</h4>
<div class="paragraph">
<p>When you are in development mode (by default),
Angular will run the change detection twice every time there is a change.
This is a security to make sure you are not doing strange things,
like updating data without following the one-way data flow.
If you break the rules, Angular will warn you about it in development,
by throwing an exception that will force you to fix your code.
But if you are not careful, you could deploy the application in this mode,
and change detection will still run twice, slowing your application.</p>
</div>
<div class="paragraph">
<p>To release our application, we need to switch it from development mode to production mode.
This will disable the double check,
and also make the generated DOM "lighter"
(less attributes on the elements, attributes that are added to debug the application).</p>
</div>
<div class="paragraph">
<p>As usual the CLI has you covered,
and the switch is done by the CLI when you build with the <code>production</code> configuration,
which is the default for <code>ng build</code>.
The CLI sets an internal variable called <code>ngDevMode</code> that the framework uses to know
of it needs to do the extra work or not.</p>
</div>
</div>
<div class="sect3">
<h4 id="_trackby_in_ngfor">26.4.2. <code>trackBy</code> in <code>*ngFor</code></h4>
<div class="paragraph">
<p>This is a simple tip that can really speed things up on <code>*ngFor</code>:
add a <code>trackBy</code>.
To understand why, let me explain how modern JS frameworks (at least all major ones) handle collections.
When you have a collection of 3 ponies and want to display them in a list,
you&#8217;ll write something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li *ngFor="let pony of ponies"&gt;{{ pony.name }}&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you add a new pony,
Angular will add a DOM node in the proper position.
If you update the name of one of the ponies,
Angular will change just the text content of the right <code>li</code>.</p>
</div>
<div class="paragraph">
<p>How does it do that?
By keeping track of which DOM node references which object reference.
Angular will have an internal representation looking like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">node li 1 -&gt; pony #e435 // { id: 3, color: blue }
node li 2 -&gt; pony #8fa4 // { id: 4, color: red }</code></pre>
</div>
</div>
<div class="paragraph">
<p>It works great, and if you change an object for another one,
Angular will destroy the node and build another one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">node li 1 (recreated) -&gt; pony #c1ea // { id: 1, color: green }
node li 2 -&gt; pony #8fa4 // { id: 4, color: red }</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the whole collection is updated with new objects,
the complete DOM list will be destroyed and recreated.
Which is fine, except when you just refresh a list with almost the same content:
in that case, Angular destroys the complete node list and recreates it,
even if there is no need to.
For example, when you fetch the same results from the server,
you will have the same content,
but different references as your collection will have been recreated.</p>
</div>
<div class="paragraph">
<p>The solution for this use-case is to help Angular track the objects,
not by their references, but by something that you know will identify the object,
typically an ID.</p>
</div>
<div class="paragraph">
<p>For this, we use <code>trackBy</code>, which expects a method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li *ngFor="let pony of ponies trackBy: ponyById"&gt;{{ pony.name }}&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>with the method defined in the component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">ponyById(index: number, pony: PonyModel): number {
  return pony.id;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, this method receives the current index and the current entity,
allowing you to be creative (or simply track by index, but that&#8217;s not recommended).</p>
</div>
<div class="paragraph">
<p>With this <code>trackBy</code>, Angular will only recreate a DOM node if
the id of the pony changes.
On a very big list which doesn&#8217;t change much,
it can save a ton of DOM deletions/creations.
Anyway, it&#8217;s quite cheap to implement and doesn&#8217;t have cons,
so don&#8217;t hesitate to use it.
It&#8217;s also a requirement if you want to use animations.
If a DOM element&#8217;s style is supposed to be animated
(by transitioning smoothly from the previous value to the new one),
and the list of ponies is replaced by a new one when refreshed,
then <code>trackBy</code> is a must: without it,
the animation will never happen,
because the style of the element never changes.
Instead, it&#8217;s the element itself which is being replaced by Angular.</p>
</div>
</div>
<div class="sect3">
<h4 id="_change_detection_strategies">26.4.3. Change detection strategies</h4>
<div class="paragraph">
<p>When we explained how Angular detects the changes in your application,
we showed the tree of components and said that Angular starts by checking the root component,
then its children, then its grand-children, until all components are checked.
Then all the necessary DOM updates are applied in one batch.</p>
</div>
<div class="paragraph">
<p>But you may be wondering if it is a very good idea to check <strong>every</strong> component on <strong>every</strong> change.
And you&#8217;re right, that&#8217;s often not really necessary.</p>
</div>
<div class="paragraph">
<p>Angular offers another change detection strategy:
it&#8217;s called <code>OnPush</code> and it can be defined on any component.</p>
</div>
<div class="paragraph">
<p>With this strategy, the template of the component will only be checked in 2 cases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>one of the inputs of the component changed (to be more accurate, when the <strong>reference</strong> of one of the inputs changes);</p>
</li>
<li>
<p>an event handler of the component was triggered.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This can be very convenient when the template of
a component only depends on its inputs,
and can give a serious boost to your application
if you display a lot of components on screen!
But once again, be very cautious before applying this optimization:
if the preconditions end up not being respected,
you will lose your hair wondering why the component (or any of its descendants)
isn&#8217;t always repainting itself after a change.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s take a small example to demonstrate.</p>
</div>
<div class="paragraph">
<p>Imagine that we have 3 components.
A very simple <code>ImageComponent</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-img',
  template: `
    &lt;p&gt;{{ check() }}&lt;/p&gt;
    &lt;img [src]="src" /&gt;
  `
})
export class ImageComponent {
  @Input() src = '';

  check(): void {
    console.log('image component view checked');
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>used in a <code>PonyComponent</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-pony',
  template: `
    &lt;p&gt;{{ check() }}&lt;/p&gt;
    &lt;ns-img [src]="getPonyImageUrl()"&gt;&lt;/ns-img&gt;
  `
})
export class PonyComponent {
  @Input() ponyModel!: PonyModel;

  check(): void {
    console.log('pony component view checked');
  }

  getPonyImageUrl(): string {
    return `images/pony-${this.ponyModel.color}-running.gif`;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>used itself in a <code>RaceComponent</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">@Component({
  selector: 'ns-race',
  template: `
    &lt;h2&gt;Race&lt;/h2&gt;
    &lt;p&gt;{{ check() }}&lt;/p&gt;
    &lt;div *ngFor="let pony of ponies"&gt;
      &lt;ns-pony [ponyModel]="pony"&gt;&lt;/ns-pony&gt;
    &lt;/div&gt;
    &lt;button (click)="changeColor()"&gt;Change color&lt;/button&gt;
  `
})
export class RaceComponent {
  ponies: Array&lt;PonyModel&gt; = [
    { id: 1, color: 'green' },
    { id: 2, color: 'orange' }
  ];
  colors: Array&lt;string&gt; = ['green', 'orange', 'blue'];

  check(): void {
    console.log('race component view checked');
  }

  changeColor(): void {
    this.ponies[0].color = this.randomColor();
  }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>RaceComponent</code> displays two ponies,
and the user can change the color of the first one by clicking
on the <code>Change color</code> button.</p>
</div>
<div class="paragraph">
<p>With the current default change detection strategy,
every time that we have a change in the application,
all 3 components are checked.</p>
</div>
<div class="paragraph">
<p>We added a <code>check()</code> method in each component,
called in each template:
it allows us to track if the component is checked or not.
And indeed in our example,
we can see in our console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">pony component view checked
image component view checked
pony component view checked
image component view checked
race component view checked</code></pre>
</div>
</div>
<div class="paragraph">
<p>(we can see that twice actually,
because we are in development mode -
see the section about the production mode above).</p>
</div>
<div class="sect4">
<h5 id="_onpush">OnPush</h5>
<div class="paragraph">
<p>But in this case, it&#8217;s a waste of time:
we know that if the pony doesn&#8217;t change,
the template of the <code>PonyComponent</code> doesn&#8217;t need to be checked.
Same thing for the <code>ImageComponent</code>: if the <code>src</code> input is the same,
there is no need to recompute the image URL.
So let&#8217;s switch these components to <code>OnPush</code>,
by adding a <code>changeDetection</code> attribute in their <code>@Component</code> decorator:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-img',
  template: `
    &lt;p&gt;{{ check() }}&lt;/p&gt;
    &lt;img [src]="src" /&gt;
  `,
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class ImageComponent {
  @Input() src = '';

  check(): void {
    console.log('image component view checked');
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-pony',
  template: `
    &lt;p&gt;{{ check() }}&lt;/p&gt;
    &lt;ns-img [src]="getPonyImageUrl()"&gt;&lt;/ns-img&gt;
  `,
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class PonyComponent {
  @Input() ponyModel!: PonyModel;

  check(): void {
    console.log('pony component view checked');
  }

  getPonyImageUrl(): string {
    return `images/pony-${this.ponyModel.color}-running.gif`;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When we click to change the color,
we will only see in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">race component view checked</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which is awesome,
because it means that we don&#8217;t check the components
that we don&#8217;t need to check \o/.</p>
</div>
</div>
<div class="sect4">
<h5 id="_onpush_and_the_mutability_trap">OnPush and the mutability trap</h5>
<div class="paragraph">
<p>But&#8230;&#8203; there is a slight problem:
the pony&#8217;s color doesn&#8217;t change any more!</p>
</div>
<div class="paragraph">
<p>I picked this example on purpose:
even if <code>OnPush</code> is really powerful,
it can be tricky
and optimizing existing components
is not only about adding a few <code>OnPush</code> here and there.</p>
</div>
<div class="paragraph">
<p>Why doesn&#8217;t it work in our case?</p>
</div>
<div class="paragraph">
<p>Take a closer look at our <code>RaceComponent</code>,
and its <code>changeColor</code> method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">changeColor(): void {
  this.ponies[0].color = this.randomColor();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method <strong>mutates</strong> the pony in the <code>ponies</code> collection,
and this pony is the input of our <code>PonyComponent</code>.
Now that we shifted our component to be <code>OnPush</code>,
Angular will only run the change detection
if the <strong>reference</strong> of the <code>pony</code> input changes.
And when you mutate an object,
it&#8217;s still the same object,
so the reference doesn&#8217;t change,
and Angular thinks there is no need to run the change detection&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>So, is this change detection strategy completely useless?
Not really, but it does require you to be more careful.</p>
</div>
<div class="paragraph">
<p>The simple way to fix our issue is to not mutate our pony in <code>changeColor</code>,
but to create a new object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">changeColor(): void {
  const pony = this.ponies[0];
  // create a new pony with the old attributes and the new color
  this.ponies[0] = { ...pony, color: this.randomColor() };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you&#8217;ve done that,
the application is faster <strong>and</strong> correct.
If the user clicks on the button,
the <code>changeColor</code> method creates a new pony object
with the old attributes and the new color.
As this is a new object,
Angular will run the change detection in the <code>PonyComponent</code> (an input changed),
and then the <code>src</code> input of the <code>ImageComponent</code> will also change,
and the image will display the correct color.
And, of course, if another event triggers the change detection in <code>RaceComponent</code>,
the children component will not be checked (if their inputs did not change).</p>
</div>
<div class="paragraph">
<p>As you can see, you can quickly fall into a trap when migrating a component
to an <code>OnPush</code> strategy, so be careful (unit tests are your friend).</p>
</div>
<div class="paragraph">
<p>One way to avoid this would be to use a library
that enforces immutability.
<a href="https://immutable-js.github.io/immutable-js/">Immutable.js</a> (by Facebook) is such a library.
I&#8217;ve never used it professionally,
so I can&#8217;t say if it&#8217;s a good fit in an Angular application or not,
but you do see it mentioned often on the internets.</p>
</div>
<div class="paragraph">
<p>There is a last topic we need to talk about: observables.</p>
</div>
</div>
<div class="sect4">
<h5 id="_onpush_observables_and_the_async_pipe">OnPush, Observables and the async pipe</h5>
<div class="paragraph">
<p>Let&#8217;s say we now have only one component,
our well-known <code>PonyComponent</code>.
It subscribes to an observable from a <code>ColorService</code>
that returns a new color every second.
We obviously expect the image displayed to change every second.
The developer of this component thought that an <code>OnPush</code>
change detection strategy couldn&#8217;t hurt.
What do you think?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-pony',
  template: `
    &lt;p&gt;New color every 1s&lt;/p&gt;
    &lt;img [src]="'pony-' + color + '.gif'" [alt]="color" /&gt;
  `,
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class PonyComponent implements OnInit, OnDestroy {
  color = 'green';
  subscription: Subscription | null = null;

  constructor(private colorService: ColorService) {}

  ngOnInit(): void {
    this.subscription = this.colorService.get().subscribe(color =&gt; (this.color = color));
  }

  ngOnDestroy(): void {
    this.subscription?.unsubscribe();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sadly, this doesn&#8217;t work.
With the <code>OnPush</code> strategy,
Angular only refreshes the template if one of the inputs changed
(here, there is no input),
or if an event was triggered (there is none either).
So the <code>color</code> field is updated every second,
but the template is never refreshed&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>This can be fixed by using the pipe called <code>async</code>.
We talked about it in the
<a href="#pipes">Pipes chapter</a>
but maybe it didn&#8217;t click back then.</p>
</div>
<div class="paragraph">
<p>The <code>async</code> pipe can be used to subscribe to a Promise or an Observable.
Let&#8217;s use it in our <code>PonyComponent</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-observable-on-push-with-async',
  template: `&lt;img *ngIf="color | async as c" [src]="'pony-' + c + '.gif'" [alt]="c" /&gt;`,
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class PonyComponent {
  color: Observable&lt;string&gt;;

  constructor(colorService: ColorService) {
    this.color = colorService.get();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now our component is working!
The <code>async</code> pipe will trigger the change detection when a new value is received.
And you can see that we store the result of <code>async</code> to use it with <code>as</code>.
It also frees us from subscribing to the observable in the component,
and having to remember to unsubscribe when the component is destroyed:
<code>async</code> does it for us.</p>
</div>
<div class="paragraph">
<p>Note that <code>async</code> can lead to several HTTP requests if used several times in a template,
and that you can use the "smart/dumb" component pattern
to make it easier to use OnPush.
Check out our
<a href="#advanced-observables">chapter</a>
about Advanced Observables to learn more about that.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_changedetectorref">26.4.4. ChangeDetectorRef</h4>
<div class="paragraph">
<p>There are a few last tricks regarding change detection
that I want to show you.
They are for more advanced use cases but, you never know,
it could be handy one day.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s take a hypothetical use case:
you have an observable that emits data very very frequently.
In my example, it&#8217;s a clock that emits every 10 milliseconds:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-clock',
  template: `
    &lt;h2&gt;Clock&lt;/h2&gt;
    &lt;p&gt;{{ getTime() }}&lt;/p&gt;
    &lt;button (click)="start()"&gt;Start&lt;/button&gt;
  `
})
export class ClockComponent implements OnDestroy {
  time = 0;
  timeSubscription: Subscription | null = null;

  start(): void {
    this.timeSubscription = interval(10)
      .pipe(
        take(1001), // 0, 1, ..., 1000
        map(time =&gt; time * 10)
      )
      .subscribe(time =&gt; (this.time = time));
  }

  getTime(): number {
    return this.time;
  }

  ngOnDestroy(): void {
    this.timeSubscription?.unsubscribe();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The component uses the <code>Default</code> change detection strategy,
so every time the observable emits a new value,
the change detection is triggered,
the template is refreshed
and the clock value displayed is updated.</p>
</div>
<div class="paragraph">
<p>But, do we really need a hundred updates per second?
Our eyes can&#8217;t see that fast,
and it&#8217;s putting pressure on our browser for nothing.
And remember that not only this component will be checked a hundred times per second,
but the whole application too!</p>
</div>
<div class="paragraph">
<p>Maybe in that case it would be enough to refresh the time displayed
every second for example.
To do so, you can completely opt out from the automatic change detection in your component,
and handle things yourself,
by injecting into your component a <code>ChangeDetectorRef</code>.
This class offers a few methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>detach()</code></p>
</li>
<li>
<p><code>detectChanges()</code></p>
</li>
<li>
<p><code>markForCheck()</code></p>
</li>
<li>
<p><code>reattach()</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first two work together:
you can indicate to Angular to not care about the component with <code>detach</code>
and then manually call <code>detectChanges</code> when you want the change detection to run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-clock',
  template: `
    &lt;h2&gt;Clock&lt;/h2&gt;
    &lt;p&gt;{{ getTime() }}&lt;/p&gt;
    &lt;button (click)="start()"&gt;Start&lt;/button&gt;
  `
})
export class ClockComponent implements OnDestroy {
  time = 0;
  timeSubscription: Subscription | null = null;

  constructor(private ref: ChangeDetectorRef) {}

  start(): void {
    this.ref.detach();
    this.timeSubscription = interval(10)
      .pipe(
        take(1001), // 0, 1, ..., 1000
        map(time =&gt; time * 10)
      )
      .subscribe(time =&gt; {
        this.time = time;
        // manually trigger the change detection every second
        if (this.time % 1000 === 0) {
          this.ref.detectChanges();
        }
      });
  }

  getTime(): number {
    return this.time;
  }

  ngOnDestroy(): void {
    this.timeSubscription?.unsubscribe();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, we slightly changed the component
to inject <code>ChangeDetectorRef</code>,
detach the component from the change detection,
and then manually run <code>detectChanges()</code> to trigger it
when we need it (every second in our case).
The <code>time</code> field is still updated a hundred times per second,
but now the clock displayed to our users is only updated every second!</p>
</div>
<div class="paragraph">
<p>Note that this only triggers a change detection on that component (and its children)
every time we run <code>detectChanges()</code>.</p>
</div>
<div class="paragraph">
<p>But there is a way to go one step further,
and completely handle it manually,
by updating the DOM yourself
(and not triggering a complete change detection):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-clock',
  template: `
    &lt;h2&gt;Clock&lt;/h2&gt;
    &lt;p #clock&gt;&lt;/p&gt;
    &lt;button (click)="start()"&gt;Start&lt;/button&gt;
  `
})
export class ClockComponent implements OnDestroy {
  time = 0;
  timeSubscription: Subscription | null = null;
  @ViewChild('clock') clock!: ElementRef&lt;HTMLParagraphElement&gt;;

  constructor(private ref: ChangeDetectorRef) {}

  start(): void {
    this.ref.detach();
    this.timeSubscription = interval(10)
      .pipe(
        take(1001), // 0, 1, ..., 1000
        map(time =&gt; time * 10)
      )
      .subscribe(time =&gt; {
        this.time = time;
        if (this.time % 1000 === 0) {
          this.clock.nativeElement.textContent = `${time}`;
        }
      });
  }

  ngOnDestroy(): void {
    this.timeSubscription?.unsubscribe();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we grab a reference to the element we need to update,
and then we update the DOM manually when needed,
without triggering a change detection.</p>
</div>
<div class="paragraph">
<p>As I was saying, this example is a bit advanced,
but <code>ChangeDetectorRef</code> can be handy for some use cases.
Imagine that the example of changing the color of a pony every second doesn&#8217;t use an observable,
but a simple <code>setInterval</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-pony',
  template: `&lt;img [src]="getPonyImageUrl()" [alt]="ponyModel.color" /&gt;`,
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class PonyComponent implements OnInit, OnDestroy {
  @Input() ponyModel!: PonyModel;
  private intervalId: number | null = null;

  ngOnInit(): void {
    this.intervalId = window.setInterval(() =&gt; {
      this.ponyModel.color = this.randomColor();
    }, 1000);
  }

  ngOnDestroy(): void {
    if (this.intervalId) {
      window.clearInterval(this.intervalId);
    }
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>No visual update&#8230;&#8203;
And in that case, we can&#8217;t use the <code>async</code> pipe as we did with an observable&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>But we can use the <code>markForCheck</code> method of <code>ChangeDetectorRef</code>
to manually trigger the change detection in an <code>OnPush</code> component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-pony',
  template: `&lt;img [src]="getPonyImageUrl()" [alt]="ponyModel.color" /&gt;`,
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class PonyComponent implements OnInit, OnDestroy {
  @Input() ponyModel!: PonyModel;
  private intervalId: number | null = null;

  constructor(private ref: ChangeDetectorRef) {}

  ngOnInit(): void {
    this.intervalId = window.setInterval(() =&gt; {
      this.ponyModel.color = this.randomColor();
      this.ref.markForCheck();
    }, 1000);
  }

  ngOnDestroy(): void {
    if (this.intervalId) {
      window.clearInterval(this.intervalId);
    }
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>And it works again!</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ngzone">26.5. NgZone</h3>
<div class="paragraph">
<p>There is another way to avoid change detection in Angular:
you can completely run the code outside of Zone.js,
the library that triggers the change detection.
To do so, you can inject <code>NgZone</code>,
and then use its <code>runOutsideAngular</code> method to execute code
outside its watch.</p>
</div>
<div class="paragraph">
<p>This can be really useful to wrap something that triggers a lot of events,
typically something coming from a third-party library.
For example, let&#8217;s imagine you have a chart in your application,
built with <a href="https://www.chartjs.org/">Chart.js</a>.
A user hovering over the chart will trigger hundreds of DOM events.
The fact that hundreds of events are fired isn&#8217;t really a problem.
That also happens with any DOM element.
What is a problem is that the library calls <code>addEventListener()</code> to handle these events, for example to display tooltips,
and that&#8217;s what triggers hundreds of change detections!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@ViewChild('chart') canvas!: ElementRef&lt;HTMLCanvasElement&gt;;
chart: Chart | null = null;

ngAfterViewInit(): void {
  const ctx = this.canvas.nativeElement;
  this.chart = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['Green', 'Red'],
      datasets: [{ label: 'Score', data: [12, 21] }]
    }
  });
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In that case, you can inject <code>NgZone</code> and use <code>runOutsideAngular</code>
to ignore the events from Chart.js:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@ViewChild('chart') canvas!: ElementRef&lt;HTMLCanvasElement&gt;;
chart: Chart | null = null;

constructor(private zone: NgZone) {}

ngAfterViewInit(): void {
  const ctx = this.canvas.nativeElement;
  this.zone.runOutsideAngular(() =&gt; {
    this.chart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['Green', 'Red'],
        datasets: [{ label: 'Score', data: [12, 21] }]
      }
    });
  });
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This produces the same results,
and the rest of the component would still be checked automatically by Angular,
but we no longer trigger change detection when using the chart.
<code>runOutsideAngular</code> is well suited to use cases
where you want only specific portions of code to run out of the watch of Zone.js/Angular.</p>
</div>
<div class="sect3">
<h4 id="_pure_pipes">26.5.1. Pure pipes</h4>
<div class="paragraph">
<p>As you know, you can build your own pipes to format and display your data.
For example, to display the full name of a user,
you can either write a method in your component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-menu',
  template: `
    &lt;p&gt;{{ userName() }}&lt;/p&gt;
    &lt;p&gt;...&lt;/p&gt;
    &lt;p&gt;{{ userName() }}&lt;/p&gt;
  `
})
export class MenuComponent {
  user: UserModel = {
    id: 1001,
    firstName: 'Jane',
    lastName: 'Doe',
    title: 'Miss'
  };

  userName(): string {
    return `${this.user.title} ${this.user.firstName} ${this.user.lastName}`;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>or write a custom pipe to encapsulate this logic:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-menu',
  template: `
    &lt;p&gt;{{ user | displayName }}&lt;/p&gt;
    &lt;p&gt;...&lt;/p&gt;
    &lt;p&gt;{{ user | displayName }}&lt;/p&gt;
  `
})
export class MenuComponent {
  user: UserModel = {
    id: 1001,
    firstName: 'Jane',
    lastName: 'Doe',
    title: 'Miss'
  };
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Pipe({
  name: 'displayName'
})
export class DisplayNamePipe implements PipeTransform {
  transform(user: UserModel): string {
    return `${user.title} ${user.firstName} ${user.lastName}`;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This takes a little bit more work,
but writing a pipe allows you to reuse it in other components.</p>
</div>
<div class="paragraph">
<p>What you may not know is that using a pipe is also more performant.
By default, a pipe is "pure".
In computer science, we call "pure" a function that has no side effect,
and whose result only depends on its entries.
A pure pipe is pretty much the same:
the result of its <code>transform</code> method only depends on arguments.
Knowing that, Angular applies a nice optimization:
the <code>transform</code> method is only called if the reference of the value it transforms changes
or if one of the other arguments changes
(yes, a bit like the <code>OnPush</code> strategy for components).</p>
</div>
<div class="paragraph">
<p>It means that whereas a method of a component is called on every change detection,
a pure pipe will only be executed when needed,
and only once in a template if it is used with the same input value and arguments (as in my example).</p>
</div>
<div class="paragraph">
<p>By default, a custom pipe is pure, so that&#8217;s great!
But sometimes it&#8217;s not a right fit.</p>
</div>
<div class="paragraph">
<p>In my example, if we mutate the user to set its <code>firstName</code> to a different value,
the pipe never refreshes&#8230;&#8203;
It&#8217;s pretty much the same issue that we had with the <code>OnPush</code> strategy:
the reference of the value doesn&#8217;t change,
so the pipe does not run again.</p>
</div>
<div class="paragraph">
<p>Here you have two solutions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>carefully use the pipe with immutable objects
(do not mutate the user - create a new user with the new <code>firstName</code>);</p>
</li>
<li>
<p>mark the pipe as "impure", and Angular will run it every time.
You lose a tiny bit in performance, but you are sure that the displayed value is refreshed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To mark a pipe as impure, just add <code>pure: false</code> in its decorator:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Pipe({
  name: 'displayName',
  pure: false
})
export class DisplayNameImpurePipe implements PipeTransform {
  transform(user: UserModel): string {
    return `${user.title} ${user.firstName} ${user.lastName}`;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To sum up:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a pure pipe is not called as often as a method in a component</p>
</li>
<li>
<p>but it doesn&#8217;t run again if the input value is mutated, so use carefully.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_split_your_template_wisely">26.5.2. Split your template wisely</h4>
<div class="paragraph">
<p>Based on what we learned, here is a trick that doesn&#8217;t use a specific Angular API,
but can be easily understood.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say you have a component displaying a huge list of results,
and an input allowing you to update this list.
As you don&#8217;t want to update the list on every key pressed,
you are debouncing what the user types, and then updating the list.
Something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-results',
  template: `
    &lt;input [formControl]="search" /&gt;
    &lt;h1&gt;{{ resultsTitle() }}&lt;/h1&gt;
    &lt;div *ngFor="let result of results"&gt;{{ result }}&lt;/div&gt;
  `
})
export class ResultsComponent implements OnInit {
  search = new FormControl('', { nonNullable: true });
  results: Array&lt;string&gt; = [];

  constructor(private searchService: SearchService) {}

  ngOnInit(): void {
    this.search.valueChanges
      .pipe(
        debounceTime(500),
        switchMap(query =&gt; this.searchService.updateResults(query))
      )
      .subscribe(results =&gt; (this.results = results));
  }

  resultsTitle(): string {
    return `${this.results.length} results`;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You may think that the change detection is not very often called,
as you update the list only when the user has stopped typing.
But in fact the change detection is called on every event in the template
(so here on every key pressed).
You can check it out by adding a simple <code>console.log</code> in <code>resultTitle</code>,
and see it called in the developer console on every key pressed.</p>
</div>
<div class="paragraph">
<p>To avoid detecting change on the list elements even if not needed
(as the results will not change on every new value, but only after some time),
the idea is to split your view into two parts,
and to introduce a sub-component to display the results.
This component can be switched to <code>OnPush</code>
and the change detection will only update it when really needed,
and not on every key press.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-results',
  template: `
    &lt;input [formControl]="search" /&gt;
    &lt;ns-results-list [results]="results"&gt;&lt;/ns-results-list&gt;
  `
})
export class ResultsComponent implements OnInit {
  search = new FormControl('', { nonNullable: true });
  results: Array&lt;string&gt; = [];

  constructor(private searchService: SearchService) {}

  ngOnInit(): void {
    this.search.valueChanges
      .pipe(
        debounceTime(500),
        switchMap(query =&gt; this.searchService.updateResults(query))
      )
      .subscribe(results =&gt; (this.results = results));
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With the sub-component looking like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">@Component({
  selector: 'ns-results-list',
  template: `
    &lt;h1&gt;{{ resultsTitle() }}&lt;/h1&gt;
    &lt;div *ngFor="let result of results"&gt;{{ result }}&lt;/div&gt;
  `,
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class ResultsListComponent {
  @Input() results: Array&lt;string&gt; = [];

  resultsTitle(): string {
    return `${this.results.length} results`;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a simple pattern to use,
often referred to as the smart/dumb component pattern:
a smart component deals with data loading, event handling, etc.,
and simply passes the data to display as input to a second, dumb component.
The only responsibility of the dumb component is to display the data,
and to emit events to its parent smart component using outputs.
This dumb component is the one with the large template,
containing many expressions.
But since its state only changes when its smart parent passes a new input,
it can use OnPush and thus saves a lot of expression evaluations.</p>
</div>
</div>
<div class="sect3">
<h4 id="_attribute_decorator">26.5.3. Attribute decorator</h4>
<div class="paragraph">
<p>When using an <code>@Input()</code> in a component,
Angular assumes that the value passed as input can change,
and does what it takes to detect the change and pass the new value to the component.
Sometimes, it&#8217;s not really necessary,
as you may want to only pass a value once to initialize the component
and never change it.
In this very specific case, you can use the <code>@Attribute()</code> decorator
instead of the <code>@Input()</code> one.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s consider a button component,
to which you want to pass a type to set its aspect
(something like <code>primary</code>, <code>success</code>, <code>warning</code>, <code>danger</code>&#8230;&#8203;).</p>
</div>
<div class="paragraph">
<p>Using an input, it would look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Component, Input } from '@angular/core';

@Component({
  selector: 'ns-button',
  template: `
    &lt;button type="button" class="btn" [class]="'btn-' + btnType"&gt;
      &lt;ng-content&gt;&lt;/ng-content&gt;
    &lt;/button&gt;
  `
})
export class ButtonComponent {
  @Input() btnType: 'primary' | 'success' = 'primary';
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>that you can use with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-button btnType="primary"&gt;Hello!&lt;/ns-button&gt;
&lt;ns-button btnType="success"&gt;Success&lt;/ns-button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since the input is a simple string that never changes,
you can switch to use an attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Attribute, Component } from '@angular/core';

@Component({
  selector: 'ns-button',
  template: `
    &lt;button type="button" class="btn" [class]="'btn-' + btnType"&gt;
      &lt;ng-content&gt;&lt;/ng-content&gt;
    &lt;/button&gt;
  `
})
export class ButtonComponent {
  constructor(@Attribute('btnType') public btnType: string) {}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This produces a "bind-once" like effect,
avoiding having Angular do unnecessary work.
But keep in mind this only works with non-dynamic, string inputs.</p>
</div>
</div>
<div class="sect3">
<h4 id="_conclusion_3">26.5.4. Conclusion</h4>
<div class="paragraph">
<p>This chapter hopefully taught you some techniques which can help solve performance problems.
But remember the golden rules of performance optimization:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>don&#8217;t</p>
</li>
<li>
<p>don&#8217;t&#8230;&#8203; yet</p>
</li>
<li>
<p>profile before optimizing.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As a famous computer scientist said:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>premature optimization is the root of all evil.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Donald Knuth
</div>
</div>
<div class="paragraph">
<p>So strive to make the code as simple and correct and readable as possible,
and only start thinking about profiling, then optimizing,
if you have a proven performance problem.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Try our exercise
<a href="https://angular-exercises.ninja-squad.com/exercises/38/performance">Performance</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>!
You will optimize our application and be able to measure every step of progress!</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="going-to-production">27. Going to production</h2>
<div class="sectionbody">
<div class="paragraph">
<p>So now you&#8217;ve built an application,
and you are seriously thinking about showing it to the world.
Let&#8217;s have a look about what you need to do to go to production!</p>
</div>
<div class="sect2">
<h3 id="_environments_and_configurations">27.1. Environments and configurations</h3>
<div class="paragraph">
<p>If you use Angular CLI,
you can define several environments.</p>
</div>
<div class="paragraph">
<p>To do this, the CLI offers a schematic called <code>environment</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">ng generate environments</code></pre>
</div>
</div>
<div class="paragraph">
<p>This generates files named <code>environment.ts</code> and <code>environment.development.ts</code>.</p>
</div>
<div class="paragraph">
<p>These files contain an empty object called <code>environment</code>,
in which you can add as many properties as you want.</p>
</div>
<div class="listingblock">
<div class="title">environment.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export const environment = {};</code></pre>
</div>
</div>
<div class="paragraph">
<p>You&#8217;ll then only import <code>environment.ts</code> in your application.
It&#8217;s a bit weird, but the CLI will then use the right file according to the environment.</p>
</div>
<div class="paragraph">
<p>When serving (with <code>ng serve</code>) your application,
the CLI (Webpack, to be more accurate) will use <code>environment.development.ts</code>.</p>
</div>
<div class="paragraph">
<p>But you can also serve your application with a specified configuration.
By default, the CLI has another configuration named <code>production</code>.</p>
</div>
<div class="paragraph">
<p>So you can also run <code>ng serve --configuration=production</code>.
The difference between these configurations can be found in the <code>angular.json</code> files:</p>
</div>
<div class="listingblock">
<div class="title">angular.json</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">"configurations": {
  "production": {
    "budgets": [
      {
        "type": "initial",
        "maximumWarning": "500kb",
        "maximumError": "1mb"
      },
      {
        "type": "anyComponentStyle",
        "maximumWarning": "2kb",
        "maximumError": "4kb"
      }
    ],
    "outputHashing": "all"
  },
  "development": {
    "buildOptimizer": false,
    "optimization": false,
    "vendorChunk": true,
    "extractLicenses": false,
    "sourceMap": true,
    "namedChunks": true,
    "fileReplacements": [
      {
        "replace": "src/environments/environment.ts",
        "with": "src/environments/environment.development.ts"
      }
    ],
  },</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, there is a <code>production</code> configuration with a few properties.
The <code>budgets</code> one, for example, checks that your initial loading and component styles are not too heavy.</p>
</div>
<div class="paragraph">
<p>There is a super useful property in the development configuration that the schematic added: <code>fileReplacements</code>.</p>
</div>
<div class="listingblock">
<div class="title">angular.json</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">"fileReplacements": [
  {
    "replace": "src/environments/environment.ts",
    "with": "src/environments/environment.development.ts"
  }
],</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see that the <code>environment.ts</code> file is replaced by <code>environment.development.ts</code>:
this is how Webpack knows which file to use.</p>
</div>
<div class="paragraph">
<p>You then always import from <code>environment.ts</code> in your code,
and, during the build, the CLI will pick the proper environment file for the configuration.</p>
</div>
<div class="paragraph">
<p>This means that you can define as many configurations as you want.
For example, you could add a <code>preprod</code> configuration with a dedicated <code>environment.preprod.ts</code> file.</p>
</div>
<div class="paragraph">
<p>It also means that you can replace as many files as you want in your application.
You can imagine doing crazy things like replacing <code>pony.component.ts</code> with a different version
(I don&#8217;t see why you would do that though ^^).</p>
</div>
<div class="paragraph">
<p>An environment file can contain whatever you want.
But as its name indicates,
it&#8217;s supposed to contain code that is specific to a given environment (development, production, pre-production, etc.).
For example, you may have a different API location in development than in the live version.</p>
</div>
<div class="paragraph">
<p>As the <code>production</code> environment is often the one you want when you build the application with <code>ng build</code>,
the CLI uses it by default since version 12.0 (instead of having to specify <code>--configuration=production</code>).</p>
</div>
<div class="paragraph">
<p>Since the CLI version 9.0,
it is now possible to specify several configurations at once:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ng build --configuration=production,preprod</pre>
</div>
</div>
<div class="paragraph">
<p>The command then uses the <code>production</code> configuration,
merged with the <code>preprod</code> configuration.
The <code>preprod</code> configuration can re-declare a property of the <code>production</code> configuration,
to overwrite it.</p>
</div>
<div class="paragraph">
<p>Note that this replacement mechanism is also available for assets and styles in the CLI,
giving you the possibility to theme your applications differently by just using configurations.</p>
</div>
</div>
<div class="sect2">
<h3 id="_stricttemplates">27.2. strictTemplates</h3>
<div class="paragraph">
<p>When you compile your application in AoT
(<code>aot: true</code>, the default value since Angular&#160;9.0),
the templates are checked by the Angular compiler.</p>
</div>
<div class="paragraph">
<p>By default, only a light check is run.
To go further,
you can use the <code>strictTemplates</code> compiler option:</p>
</div>
<div class="listingblock">
<div class="title">tsconfig.json</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">"angularCompilerOptions": {
  "strictTemplates": true,
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With this option,
the compiler checks that the input values,
DOM events used, references in templates, etc.
are all of the correct type.
For example, trying to feed a number into an input that expects a boolean,
results in a compilation error.</p>
</div>
<div class="paragraph">
<p>Angular&#160;13.2 introduced a new option called <code>extendedDiagnostics</code>,
which runs additional checks on your application.
For example, it checks that you use the two-way binding syntax correctly
(the "banana syntax" <code>[(ngModel)]</code>, and not <code>([ngModel])</code>).
This option logs warnings by default,
but you can configure it to throw errors:</p>
</div>
<div class="listingblock">
<div class="title">tsconfig.json</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">"angularCompilerOptions": {
  "strictTemplates": true,
  "extendedDiagnostics": {
    "defaultCategory": "error"
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_package_your_application">27.3. Package your application</h3>
<div class="paragraph">
<p>I slightly spoiled the next step in the previous sections.
If you want to package your application for production using the CLI,
you simply have to run:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ng build</pre>
</div>
</div>
<div class="paragraph">
<p>That will create a <code>dist</code> folder containing the result of the build.
The <code>prod</code> flag uses the file replacement we just talked about,
but also adds a bunch of other options. Some of them are really interesting.</p>
</div>
<div class="paragraph">
<p>It also activates tree-shaking and dead code elimination thanks to <code>optimization: true</code>.
To make this process even more efficient,
the Angular CLI team has written a tool named "build optimizer",
which is activated by the <code>buildOptimizer: true</code> option.</p>
</div>
<div class="paragraph">
<p>To further reduce the volume of JavaScript code generated,
the third party libraries are not bundled in a separate file (<code>vendorChunk: false</code>) -
the licences are removed (<code>extractLicences: true</code>).</p>
</div>
<div class="paragraph">
<p>You typically don&#8217;t want to debug in production.
And you probably don&#8217;t want to provide the non-minified source code to any visitor of your application either.
So <code>sourceMap: false</code> disables the time-consuming generation of the source maps.</p>
</div>
<div class="paragraph">
<p>A last interesting option is <code>outputHashing</code>:
it tells Webpack that the generated files should not be called <code>main.js</code>
but <code>main.xxxxxx.js</code> where <code>xxxxxx</code> is a cryptographic hash of the content of the file.
This is done to be sure that you can cache these files
without worrying about it:
see the section about "cache busting" in the Performances
<a href="#performances">chapter</a>
just above.</p>
</div>
<div class="paragraph">
<p>As you can see,
the CLI does plenty of nice optimizations for you.
If you choose not to use the CLI,
you&#8217;ll have to figure out a way to do the same things by using Webpack or another tool.</p>
</div>
</div>
<div class="sect2">
<h3 id="_server_configuration">27.4. Server configuration</h3>
<div class="paragraph">
<p>The last thing to do is to take the result of the packaging step (in the <code>dist</code> folder)
and to deploy it on your favorite server.
That can be a static server like Apache or Nginx for example.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Do not use <code>ng serve</code> in production, even with the <code>--configuration=production</code> option.
It&#8217;s only a development tool, and is neither optimized nor secured for production.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You still have a few things to do though.
The precise way to do these things depends on your web server.</p>
</div>
<div class="paragraph">
<p>First you&#8217;ll want to make sure you are serving all your assets compressed
(probably using gzip).
Then you want the assets to be cached for a long time.
Don&#8217;t worry about potential cache issues,
as we generated the assets with a hash in their names.</p>
</div>
<div class="paragraph">
<p>The last step is less obvious and often forgotten (been there, done that&#8230;&#8203;):
you need to configure your server
in a way that ensures that each route will serve <code>index.html</code>.</p>
</div>
<div class="paragraph">
<p>Think about it: you deployed your application on <code><a href="https://ng-ponyracer.ninja-squad.com" class="bare">https://ng-ponyracer.ninja-squad.com</a></code>,
tweeted it to the world,
and people are starting to visit it.
Your server will serve the <code>index.html</code> file to them and everything is fine.
They are navigating in the application,
maybe going to the list of races at <code><a href="https://ng-ponyracer.ninja-squad.com/races" class="bare">https://ng-ponyracer.ninja-squad.com/races</a></code>.</p>
</div>
<div class="paragraph">
<p>But what happens if someone hits <kbd>F5</kbd>/<span class="keyseq"><kbd>Cmd</kbd>+<kbd>R</kbd></span>?
The next request to the server will be for <code>/races</code>,
and if you did not plan for it,
your server will return a <code>404</code>&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>So you have to make sure that, one way or another,
all requests to routes of your application will serve <code>index.html</code>.
The Angular application will restart from scratch,
the router will analyze the URL,
and it will navigate to the proper route immediately.</p>
</div>
</div>
<div class="sect2">
<h3 id="_conclusion_4">27.5. Conclusion</h3>
<div class="paragraph">
<p>I think we covered the important parts of going to production.
As you can see this is fairly easy if you use Angular CLI,
so I strongly encourage you to do so.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Try our exercise
<a href="https://angular-exercises.ninja-squad.com/exercises/39/production">Going to production</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>!
You&#8217;ll learn a few tricks that&#8217;ll be useful in the future.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ending">28. This is the end</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Thanks for reading!</p>
</div>
<div class="paragraph">
<p>There are some other chapters that will be added in the following releases
on more advanced stuff and some other goodies.
They all need a little more polish,
but I&#8217;m sure you&#8217;ll enjoy them.
And of course, we&#8217;ll keep up with the framework releases,
so you won&#8217;t miss the new shiny features that will come out.
All these future updates of the book will be available for free, of course!</p>
</div>
<div class="paragraph">
<p>If you liked what you read, tell your friends about it!</p>
</div>
<div class="paragraph">
<p>And if you don&#8217;t already own it, you should know that there is also a <em>pro</em> package of this ebook.
This package gives access to a whole set of exercises to build a real application, step by step,
starting from scratch.
For each step we provide a full unit tests suite covering 100% of your code,
detailed instructions (which are not a basic copy-paste, but will push you to understand what you are doing),
and a solution if you need (which might be the most beautiful one, or at least one consistent with the latest best practices)
A home-brewed tool analyzes your code and computes a score for each exercise, and your progression is visible on a dashboard.
If you&#8217;re looking for actual code samples, always up-to-date, which might save you hours of work,
our Pro Pack is waiting for you!
You can even <a href="https://angular-exercises.ninja-squad.com">try the first exercises for free</a>.
And as you are already the proud owner of this ebook,
we want to thank you for your historic support with <a href="https://books.ninja-squad.com/discount?propack=NgProPack">a generous discount that you can grab here</a>!</p>
</div>
<div class="paragraph">
<p>We have tried to give you all the keys,
but Web Development looks an awful lot like:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<a class="image" href="http://oktop.tumblr.com/post/15352780846"><img src="data:image/jpeg;base64,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O8UgNGNLfdClx5Aa07zFrtQLn+pt396iHGrIMpt2UY9Z7I/emYd0akC/9GRo9XzcAdhAHX+kO7epFWnSI7KwMpxy0ZRb24F7iG+w07R5rR9xowcpQh2EwISGupFTur7VVgHgGKPY3+jc62FcrVR/zijNwkuyqif20N0iL+L2iVCq7jxLvj0XFcetrr5vz23X33rKYXeYbDDnZaCeotdqZCe7pdA6lrsppk0iNxK4T+f2U2mWSlA+Ue6fVNO1jSNnI7xDtQRImqiRU2p+Jb7IOHuH3puI3NsbLdIbPm8c4jhxTba/yQk0Ql2fweFbI8Yx48Zaxg7NBOyg2LQwTYoTWg+Eda/qQanhnmttzezSZcCMcZ2FIrElM7g6FHRoNfq3WyqBh391Rr+5TJYsCJGhRW4kOO1GjtDqDTLdAAKfYI09CylKhERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQFH8Yymy5FIu7Npldu5aJxwZg68tHR9P66ff91VlZHfbPj1pdu17uMaBCY8bzzmo0+776/cucuEuUMW+6W3JLLZsllRZ781nInYtofdYMDkOvR3xqAlsYb6Fy79T+FVlOnSc65QIEqHEmTmGZE5wmorbp0EnjoO1RCntV1EqrYLnHKspt2Yca8ausCeXmWP3OFEajutk08bsoXe1cJo6CYiOrAeHxES6OUqEREBERAREQEREBERAREQEREHm44DQVNyoiAU51rX1LS4Zk9nzDHY9/sMrzmDI2oB1HUuYlUSpWlfR3itNxhyizYtgd0lXW5x4bsiG8zDF0up50gLURH017+X6lyPnVyuFjtVknYlLymzWWXbmmZGzT8Jg5QtADpAXSJiYtAX4hIlUzpNU7fK5W+l3paKzWBuBM1kUi1cp2pNULXfX068+7mtguTfJslPyM2x/IbzfRmvO224W/wCtkbnHYY7Aw3Ii2Hbd0ur2RXT1jvlnvsc5FmusO4stnUDcivi6IlT2a6pU5JptERFKhERAREQEREBERAREQEREBERAREQEREBERARE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" alt="How to draw a horse by Van Oktop" width="400"></a>
</div>
<div class="title">How to draw a horse. Credit to Van Oktop.</div>
</div>
<div class="paragraph">
<p>So we also provide <a href="http://ninja-squad.com/training/angular">training</a>,
mainly in France and Europe, but all over the world really.
We can also do some consulting work to help your team,
or work with you to help you build your product.
Just shoot us an email at <a href="mailto:hello@ninja-squad.com">hello@ninja-squad.com</a> and we&#8217;ll discuss it!</p>
</div>
<div class="paragraph">
<p>Overall, I would love hearing from you and find out
what you liked, loved and hated in this ebook -
whether you are writing to signal a small typo, a big mistake,
or just to tell us that this book helped you find your dream job
(well, you never know&#8230;&#8203;).</p>
</div>
<div class="paragraph">
<p>I can&#8217;t finish without thanking a few people.
My girlfriend, first, who has been an incredible support,
even when I was rewriting something for the tenth time,
in a dreadful mood on a Sunday.
My colleagues, for their tireless work and feedback,
their kindness for encouraging me and giving me the time to do this crazy thing.
And my friends and family, for the little words that kept me going.</p>
</div>
<div class="paragraph">
<p>And you, for buying this and reading it to the last sentence.</p>
</div>
<div class="paragraph">
<p>Stay tuned.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="changelog">Appendix A: Changelog</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here are all the major changes since the first version.
It should help you to see what changed since your last read!</p>
</div>
<div class="paragraph">
<p>By buying this ebook, you&#8217;ll get all the following updates for free.
Go to <a href="https://books.ninja-squad.com/claim" class="bare">https://books.ninja-squad.com/claim</a> to obtain the latest version of this ebook.</p>
</div>
<div class="paragraph">
<p>Current versions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Angular: <code>15.1.0</code></p>
</li>
<li>
<p>Angular CLI: <code>15.1.1</code></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_v15_1_0_2023_01_11">A.1. v15.1.0 - 2023-01-11</h3>
<div class="paragraph">
<p><strong>Dependency Injection</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use a better example for DI configuration, with a logging service that logs to the console in development and calls an API in production. <span class="small">(2023-01-05)</span></p>
</li>
<li>
<p>Add a section about the <code>inject()</code> function. <span class="small">(2022-12-01)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Remove the section about the <code>CanLoad</code> guard as it is now deprecated (use <code>CanMatch</code> instead). <span class="small">(2023-01-11)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Standalone components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a section about HTTP with <code>provideHttpClient</code> and functional interceptors. <span class="small">(2022-11-30)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Going to production</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Explains how to use <code>ng generate environments</code>. <span class="small">(2023-01-11)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v15_0_0_2022_11_16">A.2. v15.0.0 - 2022-11-16</h3>
<div class="paragraph">
<p><strong>Dependency Injection</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Remove the <code>providedIn: NgModule</code> syntax now that it is deprecated in Angular v15 <span class="small">(2022-11-16)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The router automatically unwraps default module exports in lazy-loading routes in Angular v15 <span class="small">(2022-11-16)</span></p>
</li>
<li>
<p>Showcases an example of a functional resolver <span class="small">(2022-11-14)</span></p>
</li>
<li>
<p>Showcases an example of functional guard <span class="small">(2022-11-14)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Standalone components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use the <code>NgFor</code> alias introduced in Angular v15 for the <code>NgForOf</code> directive <span class="small">(2022-11-16)</span></p>
</li>
<li>
<p>The router now automatically unwraps default component exports in lazy-loading routes <span class="small">(2022-11-16)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Going to production</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Replace the explanation of <code>enableProdMode</code> by a section about production mode and mention the <code>ngDevMode</code> variable. <span class="small">(2022-11-16)</span></p>
</li>
<li>
<p>We now explain how to use <code>fileReplacements</code> as it is no longer included by default in CLI v15. <span class="small">(2022-11-16)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v14_2_0_2022_08_26">A.3. v14.2.0 - 2022-08-26</h3>
<div class="paragraph">
<p><strong>Standalone components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mention <code>provideRouter(routes)</code> <span class="small">(2022-08-26)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Performances</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mention the experimental <code>NgOptimizedImage</code> directive introduced in v14.2 <span class="small">(2022-08-26)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v14_1_0_2022_07_21">A.4. v14.1.0 - 2022-07-21</h3>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a section on the new <code>CanMatch</code> guard introduced in v14.1 <span class="small">(2022-07-21)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v14_0_0_2022_06_03">A.5. v14.0.0 - 2022-06-03</h3>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a section about <code>FormArray</code> and <code>FormRecord</code> <span class="small">(2022-06-03)</span></p>
</li>
<li>
<p>Add a section about typed forms <span class="small">(2022-06-03)</span></p>
</li>
<li>
<p>We nows use and explain the new "strictly typed forms API"  <span class="small">(2022-06-03)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Standalone components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter about standalone APIs! <span class="small">(2022-06-03)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Performances</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Better example of <code>NgZone.runOutsideAngular</code> usage <span class="small">(2022-05-11)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v13_3_0_2022_03_16">A.6. v13.3.0 - 2022-03-16</h3>

</div>
<div class="sect2">
<h3 id="_v13_2_0_2022_01_27">A.7. v13.2.0 - 2022-01-27</h3>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The forms chapter has a new section about control value accessors, explaining how to create custom form controls <span class="small">(2021-12-14)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Advanced components and directives</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The advanced components chapter has a new section about ng-template, explaining how to create customizable components using conditional, contextual content projection <span class="small">(2021-12-17)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Going to production</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Section about the new <code>extendedDiagnostics</code> option introduced in v13.2 <span class="small">(2022-01-27)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v13_1_0_2021_12_10">A.8. v13.1.0 - 2021-12-10</h3>

</div>
<div class="sect2">
<h3 id="_v13_0_0_2021_11_04">A.9. v13.0.0 - 2021-11-04</h3>
<div class="paragraph">
<p><strong>The templating syntax</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Remove the canonical <code>bind-</code>, <code>on-</code>, <code>ref-</code> syntax that has been deprecated in Angular v13 <span class="small">(2021-11-04)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Going to production</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Remove the section about differential loading as it has been removed in Angular v13 <span class="small">(2021-11-04)</span></p>
</li>
<li>
<p>Remove the <code>fullTemplateTypeCheck</code> explanation, as it is deprecated in Angular v13, and only keep its remplacement <code>strictTemplates</code>. <span class="small">(2021-11-04)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v12_2_0_2021_08_05">A.10. v12.2.0 - 2021-08-05</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add links to our quizzes! <span class="small">(2021-07-29)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Reactive Programming</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>RxJS v7.2 allows to import operators directly from <code>rxjs</code>, so all imports have been simplified. <span class="small">(2021-08-05)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v12_1_0_2021_06_25">A.11. v12.1.0 - 2021-06-25</h3>

</div>
<div class="sect2">
<h3 id="_v12_0_0_2021_05_13">A.12. v12.0.0 - 2021-05-13</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>All examples now use strict null checks. <span class="small">(2021-05-13)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>From zero to something</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The ebook now uses ESLint as its linter. <span class="small">(2021-05-13)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Testing your app</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The e2e tests section now introduces Cypress <span class="small">(2021-05-13)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Send and receive data with Http</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Section about the new <code>HttpContext</code> introduced in Angular v12. <span class="small">(2021-05-13)</span></p>
</li>
<li>
<p>The HTTP examples now use the human-readable <code>HttpStatusCode</code> enum. <span class="small">(2021-05-13)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Going to production</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The CLI uses the production configuration by default for <code>ng build</code> since v12, and the <code>--prod</code> flag is deprecated. <span class="small">(2021-05-13)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v11_2_0_2021_02_12">A.13. v11.2.0 - 2021-02-12</h3>

</div>
<div class="sect2">
<h3 id="_v11_1_0_2021_01_21">A.14. v11.1.0 - 2021-01-21</h3>

</div>
<div class="sect2">
<h3 id="_v11_0_0_2020_11_12">A.15. v11.0.0 - 2020-11-12</h3>
<div class="paragraph">
<p><strong>Internationalization</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ng xi18n</code> has been renamed <code>ng extract-i18n</code> in CLI v11 <span class="small">(2020-11-12)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v10_2_0_2020_10_22">A.16. v10.2.0 - 2020-10-22</h3>
<div class="paragraph">
<p><strong>Internationalization</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>xi18N</code> now extracts messages from the <code>$localize</code> calls in TypeScript code <span class="small">(2020-09-10)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v10_1_0_2020_09_03">A.17. v10.1.0 - 2020-09-03</h3>
<div class="paragraph">
<p><strong>Testing your app</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>async</code> has been deprecated and renamed <code>waitForAsync</code> <span class="small">(2020-09-01)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Internationalization</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Import the global variants of the locale data. It&#8217;s simpler, supports all formatting options, and doesn&#8217;t trigger an optimization bailout warning when building the app with the CLI. <span class="small">(2020-07-01)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v10_0_0_2020_06_25">A.18. v10.0.0 - 2020-06-25</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to ng <code>10.0.0</code> <span class="small">(2020-06-25)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>The wonderful world of Web Components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code>customElements.define</code> instead of the deprecated <code>document.registerElement</code>. <span class="small">(2020-06-17)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Reactive Programming</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pass an object as argument to the <code>Observable.subscribe()</code> method when an error or a completion must be handled, instead of 2 or 3 functions, because passing several functions will be deprecated in RxJS 7. <span class="small">(2020-06-05)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v9_1_0_2020_03_26">A.19. v9.1.0 - 2020-03-26</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to ng <code>9.1.0</code> <span class="small">(2020-03-26)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>From zero to something</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to cli <code>9.1.0</code> <span class="small">(2020-03-26)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v9_0_0_2020_02_07">A.20. v9.0.0 - 2020-02-07</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to ng <code>9.0.0</code> <span class="small">(2020-02-07)</span></p>
</li>
<li>
<p>Bump to ng <code>9.0.0-next.5</code> <span class="small">(2020-02-06)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>A gentle introduction to ECMAScript 2015+</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a section about tagged template strings. <span class="small">(2019-08-02)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Diving into TypeScript</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Showcase interface usage for modeling entities <span class="small">(2019-08-10)</span></p>
</li>
<li>
<p>Improve the <code>enum</code> section with examples of how to use union types <span class="small">(2019-08-10)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Advanced TypeScript</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Introduce a new chapter about advanced TypeScript patterns, like <code>keyof</code>, mapped types, type guards, and other things! <span class="small">(2019-08-10)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>From zero to something</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to cli <code>9.0.1</code> <span class="small">(2020-02-07)</span></p>
</li>
<li>
<p>Bump to cli <code>9.0.0-next.3</code> <span class="small">(2020-02-06)</span></p>
</li>
<li>
<p>Bump to cli <code>8.3.2</code> <span class="small">(2019-08-30)</span></p>
</li>
<li>
<p>Bump to cli <code>8.3.0</code> <span class="small">(2019-08-22)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Testing your app</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code>TestBed.inject</code> instead of the deprecated <code>TestBed.get</code> in ng <code>9.0.0</code> <span class="small">(2020-02-06)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Internationalization</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Explains how to configure the default currency code <span class="small">(2020-02-07)</span></p>
</li>
<li>
<p>Introduce <code>@angular/localize</code> usage in ng <code>9.0.0</code> <span class="small">(2020-02-07)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Going to production</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mention the multiple configurations support introduced in CLI v9.0 <span class="small">(2020-02-07)</span></p>
</li>
<li>
<p>Explain the <code>fullTemplateTypeCheck</code> and <code>strictTemplates</code> options <span class="small">(2020-02-07)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v8_2_0_2019_08_01">A.21. v8.2.0 - 2019-08-01</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to ng <code>8.2.0</code> <span class="small">(2019-08-01)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>From zero to something</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to cli <code>8.2.0</code> <span class="small">(2019-08-01)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Testing your app</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use a more strictly typed <code>createSpyObj</code> syntax. <span class="small">(2019-07-31)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v8_1_0_2019_07_02">A.22. v8.1.0 - 2019-07-02</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to ng <code>8.1.0</code> <span class="small">(2019-07-02)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>The wonderful world of Web Components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mention more recent alternatives to Polymer, remove the dead HTML import spec and mention Angular Elements <span class="small">(2019-06-01)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>From zero to something</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to cli <code>8.1.0</code> <span class="small">(2019-07-02)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v8_0_0_2019_05_29">A.23. v8.0.0 - 2019-05-29</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to ng <code>8.0.0</code> <span class="small">(2019-05-29)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>A gentle introduction to ECMAScript 2015+</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>How to use <code>async/await</code> with promises <span class="small">(2019-05-19)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>From zero to something</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to cli <code>8.0.0</code> <span class="small">(2019-05-29)</span></p>
</li>
<li>
<p>Bump cli to <code>7.3.0</code> <span class="small">(2019-02-28)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Testing your app</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Showcase the awesome <code>ngx-speculoos</code> library for cleaner unit tests <span class="small">(2019-05-20)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Showcase the awesome <code>ngx-valdemort</code> library for better validation error messages <span class="small">(2019-05-19)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code>import</code> for lazy-loading routes as introduced by ng <code>8.0.0</code> <span class="small">(2019-05-20)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Angular compiler</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Update the AoT explanation and generated code for Angular 8.0.0 (Ivy) <span class="small">(2019-05-20)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Advanced components and directives</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add and explain the <code>static</code> flag for <code>ViewChild</code> and <code>ContentChild</code> introduced by Angular <code>8.0.0</code> <span class="small">(2019-05-27)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Going to production</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Differential loading using <code>browserslist</code> as introduced by the cli <code>8.0.0</code>. <span class="small">(2019-05-20)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v7_2_0_2019_01_09">A.24. v7.2.0 - 2019-01-09</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to ng <code>7.2.0</code> <span class="small">(2019-01-07)</span></p>
</li>
<li>
<p>Bump to ng <code>7.2.0-rc.0</code> <span class="small">(2019-01-03)</span></p>
</li>
<li>
<p>Bump to ng <code>7.2.0-beta.2</code> <span class="small">(2018-12-14)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>From zero to something</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to cli <code>7.2.0</code> <span class="small">(2019-01-09)</span></p>
</li>
<li>
<p>Bump to cli <code>7.2.0-rc.0</code> <span class="small">(2019-01-07)</span></p>
</li>
<li>
<p>Bump to cli <code>7.2.0-beta.2</code> <span class="small">(2019-01-07)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v7_1_0_2018_11_27">A.25. v7.1.0 - 2018-11-27</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to ng <code>7.1.0</code> <span class="small">(2018-11-22)</span></p>
</li>
<li>
<p>Bump to ng <code>7.1.0-rc.0</code> <span class="small">(2018-11-20)</span></p>
</li>
<li>
<p>Bump to ng <code>7.0.2</code> <span class="small">(2018-11-05)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>From zero to something</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to cli <code>7.1.0</code> <span class="small">(2018-11-27)</span></p>
</li>
<li>
<p>Bump to cli <code>7.0.4</code> <span class="small">(2018-11-05)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code>UrlTree</code> in <code>CanActivate</code> guard, as introduced by 7.1 <span class="small">(2018-11-22)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v7_0_0_2018_10_25">A.26. v7.0.0 - 2018-10-25</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to ng <code>7.0.0</code> <span class="small">(2018-10-18)</span></p>
</li>
<li>
<p>Bump to ng <code>7.0.0-rc.1</code> <span class="small">(2018-10-18)</span></p>
</li>
<li>
<p>Bump to ng <code>7.0.0-rc.0</code> <span class="small">(2018-10-18)</span></p>
</li>
<li>
<p>Bump to ng <code>7.0.0-beta.6</code> <span class="small">(2018-10-18)</span></p>
</li>
<li>
<p>Bump to ng <code>7.0.0-beta.4</code> <span class="small">(2018-10-18)</span></p>
</li>
<li>
<p>Bump to ng <code>7.0.0-beta.0</code> <span class="small">(2018-10-18)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>From zero to something</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to cli <code>7.0.2</code> <span class="small">(2018-10-24)</span></p>
</li>
<li>
<p>Bump to cli <code>7.0.1</code> <span class="small">(2018-10-18)</span></p>
</li>
<li>
<p>Bump to cli <code>6.2.1</code> <span class="small">(2018-09-07)</span></p>
</li>
<li>
<p>Bump to cli <code>6.2.0-rc.0</code> <span class="small">(2018-09-07)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Performances</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds a performances chapter! <span class="small">(2018-08-30)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Going to production</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds a new chapter about Going to production! <span class="small">(2018-10-25)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v6_1_0_2018_07_26">A.27. v6.1.0 - 2018-07-26</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to ng <code>6.1.0</code> <span class="small">(2018-07-26)</span></p>
</li>
<li>
<p>Bump to ng <code>6.1.0-rx.0</code> <span class="small">(2018-07-26)</span></p>
</li>
<li>
<p>Bump to ng <code>6.1.0-beta.1</code> <span class="small">(2018-07-26)</span></p>
</li>
<li>
<p>Bump to ng <code>6.0.7</code> <span class="small">(2018-07-06)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>From zero to something</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to cli <code>6.1.0</code> <span class="small">(2018-07-26)</span></p>
</li>
<li>
<p>Bump to cli <code>6.0.8</code> <span class="small">(2018-07-06)</span></p>
</li>
<li>
<p>Bump cli to <code>6.0.7</code> <span class="small">(2018-05-30)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Pipes</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add the <code>keyvalue</code> pipe introduced in Angular 6.1 <span class="small">(2018-07-26)</span></p>
</li>
<li>
<p>Show usage of formatting functions available since Angular 6.0 <span class="small">(2018-06-15)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Styling components and encapsulation</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New <code>ShadowDom</code> encapsulation option with Shadow DOM v1 support (the old and soon deprecated <code>Native</code> option uses Shadow DOM v0) <span class="small">(2018-07-26)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Send and receive data with Http</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>HTTP tests now use <code>verify</code> every time <span class="small">(2018-07-06)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds the <code>Scroll</code> event and <code>scrollPositionRestoration</code> option introduced in 6.1 <span class="small">(2018-07-26)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Advanced observables</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code>shareReplay</code> instead of <code>publishReplay</code> and <code>refCount</code> <span class="small">(2018-07-20)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Internationalization</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Update for CLI 6.0 and use a dedicated configuration <span class="small">(2018-05-09)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v6_0_0_2018_05_04">A.28. v6.0.0 - 2018-05-04</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to ng <code>6.0.0</code> <span class="small">(2018-05-04)</span></p>
</li>
<li>
<p>Bump to ng <code>6.0.0-rc.4</code> <span class="small">(2018-04-13)</span></p>
</li>
<li>
<p>Bump to ng <code>6.0.0-rc0</code> <span class="small">(2018-04-05)</span></p>
</li>
<li>
<p>Bump to ng <code>6.0.0-beta.7</code> <span class="small">(2018-04-05)</span></p>
</li>
<li>
<p>Bump to ng <code>6.0.0-beta.6</code> <span class="small">(2018-04-05)</span></p>
</li>
<li>
<p>Bump to ng <code>6.0.0-beta.1</code> <span class="small">(2018-04-05)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>The wonderful world of Web Components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Replace customelements.io by webcomponents.org <span class="small">(2018-01-19)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>From zero to something</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to cli <code>6.0.0</code> <span class="small">(2018-05-04)</span></p>
</li>
<li>
<p>The chapter now uses Angular CLI from the start! <span class="small">(2018-03-19)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Dependency Injection</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code>providedIn</code> to register services, as recommended for Angular 6.0 <span class="small">(2018-04-15)</span></p>
</li>
<li>
<p>Updates the dependency injection via token section with a better example <span class="small">(2018-03-19)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Reactive Programming</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>We now use the pipeable operators introduced in RxJS 5.5 <span class="small">(2018-01-28)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Services</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code>providedIn</code> to register the service, as recommended for Angular 6.0 <span class="small">(2018-04-15)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Testing your app</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Simplify service unit tests now that they use <code>providedIn</code> from ng 6.0 <span class="small">(2018-04-15)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Advanced components and directives</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Angular 6.0+ allows to type ElementRef&lt;T&gt; <span class="small">(2018-04-05)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Advanced observables</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>We now use the imports introduced in RxJS 6.0 (<code>import { Observable, of } from 'rxjs'</code>) <span class="small">(2018-04-05)</span></p>
</li>
<li>
<p>We now use the pipeable operators introduced with RxJS 5.5 <span class="small">(2018-01-28)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v5_2_0_2018_01_10">A.29. v5.2.0 - 2018-01-10</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to ng <code>5.2.0</code> <span class="small">(2018-01-10)</span></p>
</li>
<li>
<p>Bump to ng <code>5.1.0</code> <span class="small">(2017-12-07)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Building components and directives</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Better lifecycle explanation <span class="small">(2017-12-13)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reintroduce the <code>min</code> and <code>max</code> validators from version 4.2.0, even if they are not available as directives. <span class="small">(2017-12-13)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Send and receive data with Http</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Remove remaining mentions to the deprecated <code>HttpModule</code> and <code>Http</code> <span class="small">(2017-12-08)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v5_0_0_2017_11_02">A.30. v5.0.0 - 2017-11-02</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to ng <code>5.0.0</code> <span class="small">(2017-11-02)</span></p>
</li>
<li>
<p>Bump to ng <code>5.0.0-rc.5</code> <span class="small">(2017-11-02)</span></p>
</li>
<li>
<p>Bump to ng <code>5.0.0-rc.3</code> <span class="small">(2017-11-02)</span></p>
</li>
<li>
<p>Bump to ng <code>5.0.0-rc.2</code> <span class="small">(2017-11-02)</span></p>
</li>
<li>
<p>Bump to ng <code>5.0.0-rc.0</code> <span class="small">(2017-11-02)</span></p>
</li>
<li>
<p>Bump to ng <code>5.0.0-beta.6</code> <span class="small">(2017-11-02)</span></p>
</li>
<li>
<p>Bump to ng <code>5.0.0-beta.5</code> <span class="small">(2017-11-02)</span></p>
</li>
<li>
<p>Bump to ng <code>5.0.0-beta.4</code> <span class="small">(2017-11-02)</span></p>
</li>
<li>
<p>Bump to ng <code>5.0.0-beta.1</code> <span class="small">(2017-11-02)</span></p>
</li>
<li>
<p>Bump to ng <code>4.4.1</code> <span class="small">(2017-09-16)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Pipes</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use the new i18n pipes introduced in ng 5.0.0 <span class="small">(2017-11-02)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a section on the <code>updateOn: 'blur'</code> option for controls and groups introduced in 5.0 <span class="small">(2017-11-02)</span></p>
</li>
<li>
<p>Remove the section about combining template-based and code-based approaches <span class="small">(2017-09-01)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Send and receive data with Http</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use object literals for headers and params for the new http client, introduced in 5.0.0 <span class="small">(2017-11-02)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds ng 5.0 <code>ChildActivationStart</code>/<code>ChildActivationEnd</code> to the router events <span class="small">(2017-11-02)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Internationalization</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Remove deprecated i18n comment with ng 5.0.0 <span class="small">(2017-11-02)</span></p>
</li>
<li>
<p>Show how to load the locale data as required in ng 5.0.0 and uses the new i18n pipes <span class="small">(2017-11-02)</span></p>
</li>
<li>
<p>Placeholders now displays the interpolation in translation files to help translators <span class="small">(2017-11-02)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v4_3_0_2017_07_16">A.31. v4.3.0 - 2017-07-16</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to ng <code>4.3.0</code> <span class="small">(2017-07-16)</span></p>
</li>
<li>
<p>Bump to ng <code>4.2.3</code> <span class="small">(2017-06-17)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Remove min/max validators mention, as they have been removed temporarily in ng 4.2.3 <span class="small">(2017-06-17)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Send and receive data with Http</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Updates the chapter to use the new <code>HttpClientModule</code> introduced in ng 4.3.0. <span class="small">(2017-07-16)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>List the new router events introduced in 4.3.0 <span class="small">(2017-07-16)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Advanced components and directives</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a section about <code>HostBinding</code> <span class="small">(2017-06-29)</span></p>
</li>
<li>
<p>Add a section about <code>HostListener</code> <span class="small">(2017-06-29)</span></p>
</li>
<li>
<p>New chapter on advanced components, with <code>ViewChild</code>, <code>ContentChild</code> and <code>ng-content</code>! <span class="small">(2017-06-29)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v4_2_0_2017_06_09">A.32. v4.2.0 - 2017-06-09</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to ng <code>4.2.0</code> <span class="small">(2017-06-09)</span></p>
</li>
<li>
<p>Bump to ng <code>4.1.0</code> <span class="small">(2017-04-28)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Introduce the <code>min</code> and <code>max</code> validators from version 4.2.0 <span class="small">(2017-06-09)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter on advanced router usage: protected routes with guards, nested routes, resolvers and lazy-loading! <span class="small">(2017-04-28)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Angular compiler</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds a chapter about the Angular compiler and the differences between JiT and AoT. <span class="small">(2017-05-02)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v4_0_0_2017_03_24">A.33. v4.0.0 - 2017-03-24</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>  Bump to stable release <code>4.0.0</code>  <span class="small">(2017-03-24)</span></p>
</li>
<li>
<p>Bump to <code>4.0.0-rc.6</code> <span class="small">(2017-03-23)</span></p>
</li>
<li>
<p>Bump to <code>4.0.0-rc.5</code> <span class="small">(2017-03-23)</span></p>
</li>
<li>
<p>Bump to <code>4.0.0-rc.4</code> <span class="small">(2017-03-23)</span></p>
</li>
<li>
<p>Bump to <code>4.0.0-rc.3</code> <span class="small">(2017-03-23)</span></p>
</li>
<li>
<p>Bump to <code>4.0.0-rc.1</code> <span class="small">(2017-03-23)</span></p>
</li>
<li>
<p>Bump to <code>4.0.0-beta.8</code> <span class="small">(2017-03-23)</span></p>
</li>
<li>
<p>Bump to ng <code>4.0.0-beta.7</code> and TS 2.1+ is now required <span class="small">(2017-03-23)</span></p>
</li>
<li>
<p>Bump to <code>4.0.0-beta.5</code> <span class="small">(2017-03-23)</span></p>
</li>
<li>
<p>Bump to <code>4.0.0-beta.0</code> <span class="small">(2017-03-23)</span></p>
</li>
<li>
<p>Each chapter now has a link to the corresponding exercise of our <a href="https://angular-exercises.ninja-squad.com">Pro Pack</a>
Chapters are slightly re-ordered to match the exercises order. <span class="small">(2017-03-22)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>The templating syntax</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code>as</code>, introduced in 4.0.0, instead of <code>let</code> for variables in templates <span class="small">(2017-03-23)</span></p>
</li>
<li>
<p>The <code>template</code> tag is now deprecated in favor of <code>ng-template</code> in 4.0 <span class="small">(2017-03-23)</span></p>
</li>
<li>
<p>Introduces the else syntax from version 4.0.0 <span class="small">(2017-03-23)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Dependency Injection</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fix the Babel 6 config for dependency injection without TypeScript <span class="small">(2017-02-17)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Pipes</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Introduce the <code>as</code> syntax to store a <code>NgIf</code> or <code>NgFor</code> result, which can be useful with some pipes like <code>slice</code> or <code>async</code>. <span class="small">(2017-03-23)</span></p>
</li>
<li>
<p>Adds <code>titlecase</code> pipe introduced in 4.0.0 <span class="small">(2017-03-23)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Services</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New <code>Meta</code> service in 4.0.0 to get/set meta tags <span class="small">(2017-03-23)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Testing your app</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>overrideTemplate</code> has been added in 4.0.0 <span class="small">(2017-03-23)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Introduce the <code>email</code> validator from version 4.0.0 <span class="small">(2017-03-23)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Send and receive data with Http</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code>params</code> instead of the deprecated <code>search</code> in 4.0.0 <span class="small">(2017-03-23)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code>paramMap</code> introduced in 4.0 instead of <code>params</code> <span class="small">(2017-03-23)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Advanced observables</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Shows the <code>as</code> syntax introduced in 4.0.0 as an alternative for the mulitple async pipe subscriptions problem <span class="small">(2017-03-23)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Internationalization</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a new chapter on internationalization (i18n) <span class="small">(2017-03-23)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v2_4_4_2017_01_25">A.34. v2.4.4 - 2017-01-25</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to <code>2.4.4</code> <span class="small">(2017-01-25)</span></p>
</li>
<li>
<p>The big rename: "Angular 2" is now known as "Angular" <span class="small">(2017-01-13)</span></p>
</li>
<li>
<p>Bump to <code>2.4.0</code> <span class="small">(2016-12-21)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fix the <code>NgModel</code> explanation <span class="small">(2017-01-09)</span></p>
</li>
<li>
<p><code>Validators.compose()</code> is no longer necessary, we can apply several validators by just passing an array. <span class="small">(2016-12-01)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v2_2_0_2016_11_18">A.35. v2.2.0 - 2016-11-18</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to <code>2.2.0</code> <span class="small">(2016-11-18)</span></p>
</li>
<li>
<p>Bump to <code>2.1.0</code> <span class="small">(2016-10-17)</span></p>
</li>
<li>
<p>Remove typings and use <code>npm install @types/&#8230;&#8203;</code> <span class="small">(2016-10-17)</span></p>
</li>
<li>
<p>Use <code>const</code> instead of <code>let</code> and TypeScript type inference whenever possible <span class="small">(2016-10-01)</span></p>
</li>
<li>
<p>Bump to <code>2.0.1</code> <span class="small">(2016-09-24)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Testing your app</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code>TestBed.get</code> instead of <code>inject</code> in tests <span class="small">(2016-09-30)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add an async validator example <span class="small">(2016-11-18)</span></p>
</li>
<li>
<p>Remove the  useless (2.2+) <code>.control</code> in templates like <code>username.control.hasError('required')</code>. <span class="small">(2016-11-18)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>routerLinkActive</code> can be exported (2.2+). <span class="small">(2016-11-18)</span></p>
</li>
<li>
<p>We don&#8217;t need to unsubscribe from the router params in the <code>ngOnDestroy</code> method. <span class="small">(2016-10-07)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Advanced observables</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter on Advanced Observables! <span class="small">(2016-11-03)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v2_0_0_2016_09_15">A.36. v2.0.0 - 2016-09-15</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p> Bump to stable release <code>2.0.0</code>  <span class="small">(2016-09-15)</span></p>
</li>
<li>
<p>Bump to <code>rc.7</code> <span class="small">(2016-09-14)</span></p>
</li>
<li>
<p>Bump to <code>rc.6</code> <span class="small">(2016-09-05)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>From zero to something</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Update the SystemJS config for <code>rc.6</code> and bump the RxJS version <span class="small">(2016-09-05)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Pipes</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Remove the section about the replace pipe, removed in rc.6 <span class="small">(2016-09-05)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v2_0_0_rc_5_2016_08_25">A.37. v2.0.0-rc.5 - 2016-08-25</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to <code>rc.5</code> <span class="small">(2016-08-23)</span></p>
</li>
<li>
<p>Bump to <code>rc.4</code> <span class="small">(2016-07-08)</span></p>
</li>
<li>
<p>Bump to <code>rc.3</code> <span class="small">(2016-06-28)</span></p>
</li>
<li>
<p>Bump to <code>rc.2</code> <span class="small">(2016-06-16)</span></p>
</li>
<li>
<p>Bump to <code>rc.1</code> <span class="small">(2016-06-08)</span></p>
</li>
<li>
<p>Code examples now follow the official style guide <span class="small">(2016-06-08)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>From zero to something</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Small introduction to NgModule when you start your app from scratch <span class="small">(2016-08-12)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>The templating syntax</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Replace the deprecated <code>ngSwitchWhen</code> with <code>ngSwitchCase</code> <span class="small">(2016-06-16)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Dependency Injection</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Introduce modules and their role in DI.
Changed the example to use a custom service instead of Http. <span class="small">(2016-08-15)</span></p>
</li>
<li>
<p>Remove deprecated <code>provide()</code> method and use <code>{provide: &#8230;&#8203;}</code> instead <span class="small">(2016-06-09)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Pipes</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Date pipe is now fixed in <code>rc.2</code>, no more problem with Intl API <span class="small">(2016-06-16)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Styling components and encapsulation</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter on styling components and the different encapsulation strategies! <span class="small">(2016-06-08)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Services</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add the service to the module&#8217;s providers <span class="small">(2016-08-21)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Testing your app</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Tests now use the TestBed API instead of the deprecated TestComponentBuilder one. <span class="small">(2016-08-15)</span></p>
</li>
<li>
<p>Angular 2 does not provide Jasmine wrappers and custom matchers for unit tests in <code>rc.4</code> anymore <span class="small">(2016-07-08)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Forms now use the new form API (FormsModule and ReactiveFormsModule). <span class="small">(2016-08-22)</span></p>
</li>
<li>
<p>Warn about forms module being rewritten (and deprecated) <span class="small">(2016-06-16)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Send and receive data with Http</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add the HttpModule import <span class="small">(2016-08-21)</span></p>
</li>
<li>
<p><code>http.post()</code> now autodetects the body type, removing the need of using <code>JSON.stringify</code> and setting the <code>ContentType</code> <span class="small">(2016-06-16)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Introduce RouterModule <span class="small">(2016-08-21)</span></p>
</li>
<li>
<p>Update the router to the API v3! <span class="small">(2016-07-08)</span></p>
</li>
<li>
<p>Warn about router module being rewritten (and deprecated) <span class="small">(2016-06-16)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Changelog</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mention free updates and web page for obtaining latest version <span class="small">(2016-07-25)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v2_0_0_rc_0_2016_05_06">A.38. v2.0.0-rc.0 - 2016-05-06</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bump to <code>rc.0</code>. All packages have changed! <span class="small">(2016-05-03)</span></p>
</li>
<li>
<p>Bump to <code>beta.17</code> <span class="small">(2016-05-03)</span></p>
</li>
<li>
<p>Bump to <code>beta.15</code> <span class="small">(2016-04-16)</span></p>
</li>
<li>
<p>Bump to <code>beta.14</code> <span class="small">(2016-04-11)</span></p>
</li>
<li>
<p>Bump to <code>beta.11</code> <span class="small">(2016-03-19)</span></p>
</li>
<li>
<p>Bump to <code>beta.9</code> <span class="small">(2016-03-11)</span></p>
</li>
<li>
<p>Bump to <code>beta.8</code> <span class="small">(2016-03-10)</span></p>
</li>
<li>
<p>Bump to <code>beta.7</code> <span class="small">(2016-03-04)</span></p>
</li>
<li>
<p>Display the Angular 2 version used in the intro and in the chapter "Zero to something". <span class="small">(2016-03-04)</span></p>
</li>
<li>
<p>Bump to <code>beta.6</code> (<code>beta.4</code> and <code>beta.5</code> were broken) <span class="small">(2016-03-04)</span></p>
</li>
<li>
<p>Bump to <code>beta.3</code> <span class="small">(2016-03-04)</span></p>
</li>
<li>
<p>Bump to <code>beta.2</code> <span class="small">(2016-03-04)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Diving into TypeScript</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code>typings</code> instead of <code>tsd</code>. <span class="small">(2016-03-04)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>The templating syntax</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>*ngFor</code> now also exports a <code>first</code> variable <span class="small">(2016-04-16)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Dependency Injection</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Better explanation of hierarchical injectors <span class="small">(2016-03-04)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Pipes</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <code>replace</code> pipe has been introduced <span class="small">(2016-04-16)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Reactive Programming</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Observables are not scheduled for ES7 anymore <span class="small">(2016-03-04)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Building components and directives</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Explain how to remove the compilation warning when using <code>@Input</code> and a setter at the same time <span class="small">(2016-03-04)</span></p>
</li>
<li>
<p>Add an explanation on <code>isFirstChange</code> for <code>ngOnChanges</code> <span class="small">(2016-03-04)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Testing your app</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>injectAsync</code> is now deprecated and replaced by <code>async</code> <span class="small">(2016-05-03)</span></p>
</li>
<li>
<p>Add an example on how to test an event emitter <span class="small">(2016-03-04)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>A pattern validator has been introduced to make sure that the input matches a regexp <span class="small">(2016-04-16)</span></p>
</li>
<li>
<p>Add a mnemonic tip to rememeber the <code>[()]</code> syntax: the banana box! <span class="small">(2016-03-04)</span></p>
</li>
<li>
<p>Examples use <code>module.id</code> to have a relative <code>templateUrl</code> <span class="small">(2016-03-04)</span></p>
</li>
<li>
<p>Fix error <code>ng-no-form</code> &#8594; <code>ngNoForm</code> <span class="small">(2016-03-04)</span></p>
</li>
<li>
<p>Fix errors <code>(ngModel)</code> &#8594; <code>(ngModelChange)</code>, <code>is-old-enough</code> &#8594; <code>isOldEnough</code> <span class="small">(2016-03-04)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Send and receive data with Http</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code>JSON.stringify</code> before sending data with a POST <span class="small">(2016-03-04)</span></p>
</li>
<li>
<p>Add a mention to <code>JSONP_PROVIDERS</code> <span class="small">(2016-03-04)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Introduce the new router (previous one is deprecated), and how to use parameters in URLs! <span class="small">(2016-05-06)</span></p>
</li>
<li>
<p><code>RouterOutlet</code> inserts the template of the component just after itself and not inside itself <span class="small">(2016-03-04)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Zones and the Angular magic</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter! Let&#8217;s talk about how Angular 2 works under the hood!
First part is about how AngularJS 1.x used to work,
and then we&#8217;ll see how Angular 2 differs,
and uses a new concept called zones. <span class="small">(2016-05-03)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v2_0_0_alpha_47_2016_01_15">A.39. v2.0.0-alpha.47 - 2016-01-15</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>First public release of the ebook! <span class="small">(2016-01-15)</span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-01-13 00:23:17
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js"></script>
</body>
</html>